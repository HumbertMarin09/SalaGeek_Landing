<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="üì∞ Blog de Sala Geek: Noticias, an√°lisis y gu√≠as sobre pel√≠culas, series, anime, videojuegos y tecnolog√≠a. Contenido actualizado diariamente para geeks."
    />
    <meta
      name="keywords"
      content="blog geek, noticias pel√≠culas, noticias series, noticias anime, noticias videojuegos, an√°lisis geek, gu√≠as gaming"
    />
    <meta name="author" content="Sala Geek" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://salageek.com/blog/" />
    <title>Blog | Sala Geek - Noticias y An√°lisis Geek</title>

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://salageek.com/blog/" />
    <meta property="og:title" content="Blog | Sala Geek - Noticias y An√°lisis Geek" />
    <meta
      property="og:description"
      content="üì∞ Noticias, an√°lisis y gu√≠as sobre pel√≠culas, series, anime, videojuegos y tecnolog√≠a. Contenido actualizado diariamente."
    />
    <meta property="og:image" content="https://salageek.com/src/images/social-card.png" />
    <meta property="og:site_name" content="Sala Geek" />
    <meta property="og:locale" content="es_ES" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@Sala_Geek" />
    <meta name="twitter:title" content="Blog | Sala Geek" />
    <meta
      name="twitter:description"
      content="üì∞ Noticias, an√°lisis y gu√≠as geek actualizadas diariamente."
    />
    <meta name="twitter:image" content="https://salageek.com/src/images/social-card.png" />

    <!-- Favicons -->
    <link rel="icon" href="/src/images/Icono_SG.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/src/images/SalaGeek_LOGO.webp" />
    <meta name="theme-color" content="#1a1f3a" />
    <link rel="manifest" href="/manifest.json" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/src/css/normalize.css" />
    <link rel="stylesheet" href="/src/css/style.min.css?v=218" />
    <link rel="stylesheet" href="/src/css/blog.css?v=251" />
    
    <!-- Blog Engine -->
    <script src="/src/js/blog-engine.js?v=5"></script>

    <!-- Schema.org - Blog -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Blog",
        "name": "Blog de Sala Geek",
        "description": "Noticias, an√°lisis y gu√≠as sobre pel√≠culas, series, anime, videojuegos y tecnolog√≠a",
        "url": "https://salageek.com/blog/",
        "inLanguage": "es",
        "publisher": {
          "@type": "Organization",
          "name": "Sala Geek",
          "logo": {
            "@type": "ImageObject",
            "url": "https://salageek.com/src/images/SalaGeek_LOGO.webp"
          }
        }
      }
    </script>

    <!-- Schema.org - Breadcrumbs -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Inicio",
            "item": "https://salageek.com/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Blog",
            "item": "https://salageek.com/blog/"
          }
        ]
      }
    </script>
  </head>
  <body class="blog-page">
    <!-- Header inyectado -->
    <div id="header-placeholder"></div>

    <main id="main-content">
      <!-- Breadcrumbs Premium -->
      <nav class="breadcrumbs" aria-label="Breadcrumb">
        <div class="container">
          <ol class="breadcrumb-list">
            <li class="breadcrumb-item">
              <a href="/index.html">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">
                  <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                  <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                Inicio
              </a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">
                <rect x="2" y="3" width="20" height="14" rx="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
              </svg>
              Blog
            </li>
          </ol>
        </div>
      </nav>

      <!-- Blog Header -->
      <section class="blog-header">
        <div class="container">
          <h1 class="blog-title">
            <svg class="title-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="32" height="32">
              <rect x="2" y="3" width="20" height="14" rx="2"></rect>
              <line x1="8" y1="21" x2="16" y2="21"></line>
              <line x1="12" y1="17" x2="12" y2="21"></line>
              <path d="M6 7h12M6 11h8"></path>
            </svg>
            Blog <span class="text-accent">Sala Geek</span>
          </h1>
          <p class="blog-subtitle">
            Noticias, an√°lisis y gu√≠as sobre lo que m√°s te apasiona del mundo geek
          </p>

          <!-- Category Pills - Filtros -->
          <div class="category-pills-wrapper">
            <div class="category-pills" id="category-filters">
              <button type="button" class="pill active" data-category="all">Todos</button>
              <button type="button" class="pill" data-category="peliculas">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
                <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect>
                <line x1="7" y1="2" x2="7" y2="22"></line>
                <line x1="17" y1="2" x2="17" y2="22"></line>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <line x1="2" y1="7" x2="7" y2="7"></line>
                <line x1="2" y1="17" x2="7" y2="17"></line>
                <line x1="17" y1="17" x2="22" y2="17"></line>
                <line x1="17" y1="7" x2="22" y2="7"></line>
              </svg>
              Pel√≠culas
            </button>
            <button type="button" class="pill" data-category="series">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
                <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect>
                <polyline points="17 2 12 7 7 2"></polyline>
              </svg>
              Series
            </button>
            <button type="button" class="pill" data-category="anime">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
                <path d="M12 2C8 2 4 6 4 10c0 2.5 1 4.5 2.5 6l-1 4 3-2c1 .6 2.2 1 3.5 1s2.5-.4 3.5-1l3 2-1-4c1.5-1.5 2.5-3.5 2.5-6 0-4-4-8-8-8z"></path>
                <circle cx="9" cy="10" r="1.5" fill="currentColor"></circle>
                <circle cx="15" cy="10" r="1.5" fill="currentColor"></circle>
                <path d="M9 14c1 1 2 1.5 3 1.5s2-.5 3-1.5"></path>
                <path d="M7 5l2 2"></path>
                <path d="M17 5l-2 2"></path>
              </svg>
              Anime
            </button>
            <button type="button" class="pill" data-category="gaming">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
                <line x1="6" y1="11" x2="10" y2="11"></line>
                <line x1="8" y1="9" x2="8" y2="13"></line>
                <line x1="15" y1="12" x2="15.01" y2="12"></line>
                <line x1="18" y1="10" x2="18.01" y2="10"></line>
                <path d="M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z"></path>
              </svg>
              Gaming
            </button>
            <button type="button" class="pill" data-category="tecnologia">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
              </svg>
              Tecnolog√≠a
            </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Articles Grid -->
      <section class="articles-section">
        <div class="container">
          <!-- Featured Articles Carousel (visible solo cuando filtro = "Todos") -->
          <div class="featured-carousel-section" id="featured-carousel-section">
            <div class="featured-carousel-header">
              <h2 class="featured-carousel-title" id="featured-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                  <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                </svg>
                Art√≠culos Destacados
              </h2>
              <div class="carousel-indicator" id="carousel-indicator">
                <span class="indicator-current">1</span>
                <span class="indicator-separator">/</span>
                <span class="indicator-total">3</span>
              </div>
            </div>
            <!-- Botones de navegaci√≥n fuera del header -->
            <button class="carousel-btn carousel-prev" aria-label="Anterior">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="15 18 9 12 15 6"></polyline>
              </svg>
            </button>
            <button class="carousel-btn carousel-next" aria-label="Siguiente">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="9 18 15 12 9 6"></polyline>
              </svg>
            </button>
            <div class="featured-carousel" id="featured-carousel">
              <div class="featured-carousel-track" id="featured-carousel-track">
                <!-- Los art√≠culos destacados se mover√°n aqu√≠ via JS -->
              </div>
            </div>
          </div>

          <div class="section-header" id="articles-section-header">
            <h2 class="section-title" id="latest-title">√öltimos Art√≠culos</h2>
            <div class="articles-count">
              <span id="visible-count">0</span> de <span id="total-count">0</span> art√≠culos
            </div>
          </div>
          
          <div class="articles-grid" id="articles-grid">
            <!-- Los art√≠culos se cargan din√°micamente desde articles.json -->
            <div class="loading-spinner">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12a9 9 0 1 1-6.219-8.56"/>
              </svg>
              <p>Cargando art√≠culos...</p>
            </div>
          </div>

          <!-- No Results Message -->
          <div class="no-results" id="no-results" style="display: none;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="64" height="64">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
            <h3>No se encontraron art√≠culos</h3>
            <p>No hay art√≠culos en esta categor√≠a. Prueba con otra categor√≠a o vuelve a "Todos".</p>
          </div>

          <!-- Pagination -->
          <div id="pagination"></div>
          
          <!-- Art√≠culos cargados din√°micamente por blog-engine.js -->
        </div>
      </section>

      <!-- Newsletter CTA -->
      <section class="newsletter-cta">
        <div class="container">
          <div class="newsletter-box">
            <div class="newsletter-content">
              <h2>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="28" height="28" class="newsletter-icon">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                  <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
                ¬øTe gusta nuestro contenido?
              </h2>
              <p>Suscr√≠bete al newsletter y recibe las mejores noticias geek en tu email cada semana.</p>
            </div>
            <form id="blog-subscribe-form" class="blog-subscribe-form">
              <div class="subscribe-input-group">
                <input 
                  type="email" 
                  placeholder="Tu correo electr√≥nico" 
                  required 
                  autocomplete="email"
                  aria-label="Correo electr√≥nico"
                />
                <button type="submit" class="btn btn-primary">
                  <span>Suscribirme</span>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
                  </svg>
                </button>
              </div>
              <p class="subscribe-privacy">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="14" height="14" class="privacy-icon">
                  <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                Sin spam. Cancela cuando quieras.
              </p>
            </form>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer inyectado -->
    <div id="footer-placeholder"></div>

    <!-- Cookie Consent Banner -->
    <div class="cookie-consent" role="dialog" aria-labelledby="cookie-title" aria-describedby="cookie-desc">
      <div class="cookie-inner">
        <div class="cookie-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="8" cy="9" r="1.5" fill="currentColor"/>
            <circle cx="15" cy="8" r="1" fill="currentColor"/>
            <circle cx="10" cy="14" r="1.5" fill="currentColor"/>
            <circle cx="16" cy="13" r="1" fill="currentColor"/>
            <circle cx="13" cy="17" r="1" fill="currentColor"/>
            <circle cx="6" cy="13" r="0.75" fill="currentColor"/>
          </svg>
        </div>
        <div class="cookie-content">
          <p id="cookie-title" class="cookie-title">Usamos cookies</p>
          <p id="cookie-desc" class="cookie-text">
            Utilizamos cookies para mejorar tu experiencia en nuestro sitio. Al continuar navegando, aceptas nuestra 
            <a href="/src/pages/legal/cookies.html" class="cookie-link">Pol√≠tica de Cookies</a>.
          </p>
        </div>
        <div class="cookie-actions">
          <button class="cookie-btn reject">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
            Rechazar
          </button>
          <button class="cookie-btn accept">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
            Aceptar
          </button>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="/src/js/script.js?v=139" defer></script>
    
    <!-- Blog Initialization -->
    <script>
      // Inicializar el motor del blog
      let blogEngine;
      let featuredIds = []; // IDs de art√≠culos destacados para excluirlos del grid
      
      // Funci√≥n para obtener art√≠culos por p√°gina seg√∫n el ancho de pantalla
      function getArticlesPerPage() {
        return window.innerWidth <= 480 ? 4 : 6;
      }
      
      window.addEventListener('load', async () => {
        blogEngine = new BlogEngine();
        
        // Configurar art√≠culos por p√°gina seg√∫n dispositivo
        blogEngine.articlesPerPage = getArticlesPerPage();
        
        const loaded = await blogEngine.init();
        
        if (!loaded) {
          document.getElementById("articles-grid").innerHTML = `
            <div class="error-message">
              <p>Error cargando art√≠culos. Por favor, recarga la p√°gina.</p>
            </div>
          `;
          return;
        }
        
        // Guardar IDs de art√≠culos destacados
        featuredIds = blogEngine.getFeaturedArticles(3).map(a => a.id);
        
        // Cargar art√≠culos destacados en el carrusel
        const featured = blogEngine.getFeaturedArticles(3);
        const featuredTrack = document.getElementById('featured-carousel-track');
        
        if (featuredTrack && featured.length > 0) {
          featuredTrack.innerHTML = featured.map((article, index) => `
            <article class="featured-slide ${index === 0 ? 'active' : ''}">
              <a href="${article.content}" class="featured-link">
                <div class="featured-image-container">
                  <img src="${article.image}" alt="${article.title}" class="featured-image" loading="lazy" />
                </div>
                <div class="featured-content">
                  <div class="blog-carousel-badges">
                    <span class="blog-carousel-category category-${article.category}">${article.categoryDisplay}</span>
                    <span class="blog-carousel-featured">
                      <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                      </svg>
                      Destacado
                    </span>
                  </div>
                  <h3 class="featured-title">${article.title}</h3>
                  <p class="featured-excerpt">${article.excerpt}</p>
                  <div class="featured-meta">
                    <span class="featured-date">${blogEngine.formatDate(article.publishDate)}</span>
                    <span class="featured-reading">${article.readTime}</span>
                  </div>
                </div>
              </a>
            </article>
          `).join('');
          
          // Inicializar carrusel simple para blog
          initBlogFeaturedCarousel();
        }
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üîç DETECTAR FILTRO DE URL: /blog/?categoria=X
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const urlParams = new URLSearchParams(window.location.search);
        const categoryFromURL = urlParams.get('categoria');
        let initialCategory = 'all';
        
        if (categoryFromURL) {
          // Validar que la categor√≠a existe
          const validCategories = ['peliculas', 'series', 'anime', 'gaming', 'tecnologia'];
          if (validCategories.includes(categoryFromURL.toLowerCase())) {
            initialCategory = categoryFromURL.toLowerCase();
            
            // Actualizar UI del pill activo
            document.querySelectorAll(".category-pills .pill").forEach((p) => {
              p.classList.remove("active");
              if (p.dataset.category === initialCategory) {
                p.classList.add("active");
              }
            });
            
            // Aplicar filtro
            blogEngine.filterByCategory(initialCategory);
          }
        }
        
        // Renderizar art√≠culos iniciales
        updateView(initialCategory);
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üìú SCROLL AUTOM√ÅTICO SI VIENE CON FILTRO DE URL
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        if (categoryFromURL && initialCategory !== 'all') {
          // Scroll al t√≠tulo "√öltimos Art√≠culos" cuando viene con filtro
          setTimeout(() => {
            const targetTitle = document.getElementById("latest-title");
            if (targetTitle) {
              const titleRect = targetTitle.getBoundingClientRect();
              const absoluteTop = window.pageYOffset + titleRect.top - 150;
              window.scrollTo({ top: absoluteTop, behavior: 'smooth' });
            }
          }, 400);
        }
        
        // Event listeners para filtros
        document.querySelectorAll(".category-pills .pill").forEach((pill) => {
          pill.addEventListener("click", () => {
            const category = pill.dataset.category;
            
            // Actualizar UI de pills con animaci√≥n
            document.querySelectorAll(".category-pills .pill").forEach((p) => p.classList.remove("active"));
            pill.classList.add("active");
            
            // Filtrar art√≠culos
            blogEngine.filterByCategory(category);
            updateView(category);
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // üîó ACTUALIZAR URL SIN RECARGAR (para que sea compartible)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            const newUrl = category === 'all' 
              ? '/blog/' 
              : `/blog/?categoria=${category}`;
            window.history.pushState({ category }, '', newUrl);
            
            // Scroll suave al t√≠tulo correspondiente
            // En "Todos": scroll al t√≠tulo "Art√≠culos Destacados"
            // En categor√≠as: scroll al t√≠tulo "√öltimos Art√≠culos"
            const targetTitle = category === 'all' 
              ? document.getElementById("featured-title")
              : document.getElementById("latest-title");
            
            // Delay m√°s largo para esperar que el DOM se actualice completamente
            setTimeout(() => {
              if (targetTitle) {
                // Calcular posici√≥n exacta del t√≠tulo con m√°s offset arriba
                const titleRect = targetTitle.getBoundingClientRect();
                const absoluteTop = window.pageYOffset + titleRect.top - 150; // 150px de margen arriba
                console.log('Scroll to:', absoluteTop, 'Title:', targetTitle.textContent.trim());
                window.scrollTo({ top: absoluteTop, behavior: 'smooth' });
              }
            }, 350); // M√°s tiempo para que las animaciones terminen
          });
        });
        
        // Event listeners para paginaci√≥n
        document.addEventListener("click", (e) => {
          if (e.target.closest(".pagination-btn[data-page]")) {
            const page = parseInt(e.target.closest(".pagination-btn").dataset.page);
            if (blogEngine.goToPage(page)) {
              const currentCategory = blogEngine.currentFilter;
              updateView(currentCategory);
              // Scroll al t√≠tulo "√öltimos Art√≠culos" en paginaci√≥n
              setTimeout(() => {
                const latestTitle = document.getElementById("latest-title");
                if (latestTitle) {
                  const titleRect = latestTitle.getBoundingClientRect();
                  const absoluteTop = window.pageYOffset + titleRect.top - 150; // 150px de margen arriba
                  window.scrollTo({ top: absoluteTop, behavior: 'smooth' });
                }
              }, 350);
            }
          }
        });
        
        // Actualizar articlesPerPage en resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
          clearTimeout(resizeTimeout);
          resizeTimeout = setTimeout(() => {
            const newPerPage = getArticlesPerPage();
            if (blogEngine.articlesPerPage !== newPerPage) {
              blogEngine.articlesPerPage = newPerPage;
              blogEngine.currentPage = 1;
              updateView(blogEngine.currentFilter || 'all');
            }
          }, 250);
        });
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üîô SOPORTE PARA BOTONES BACK/FORWARD DEL NAVEGADOR
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        window.addEventListener('popstate', (event) => {
          const urlParams = new URLSearchParams(window.location.search);
          const category = urlParams.get('categoria') || 'all';
          
          // Actualizar UI del pill activo
          document.querySelectorAll(".category-pills .pill").forEach((p) => {
            p.classList.remove("active");
            if (p.dataset.category === category) {
              p.classList.add("active");
            }
          });
          
          // Aplicar filtro
          blogEngine.filterByCategory(category);
          updateView(category);
        });
      });
      
      function updateView(category) {
        const carouselSection = document.getElementById('featured-carousel-section');
        const isAll = category === 'all';
        
        // Mostrar/ocultar carrusel con animaci√≥n suave
        if (carouselSection) {
          if (isAll) {
            carouselSection.style.opacity = '0';
            carouselSection.style.display = 'block';
            requestAnimationFrame(() => {
              carouselSection.style.transition = 'opacity 0.4s ease-out';
              carouselSection.style.opacity = '1';
            });
          } else {
            carouselSection.style.transition = 'opacity 0.3s ease-out';
            carouselSection.style.opacity = '0';
            setTimeout(() => {
              carouselSection.style.display = 'none';
            }, 300);
          }
        }
        
        // Filtrar art√≠culos: excluir destacados solo cuando est√° en "Todos"
        let articlesToRender;
        if (isAll) {
          // En "Todos": excluir los destacados del grid (est√°n en el carrusel)
          articlesToRender = blogEngine.filteredArticles.filter(a => !featuredIds.includes(a.id));
        } else {
          // En categor√≠a espec√≠fica: mostrar todos los de esa categor√≠a (incluidos destacados)
          articlesToRender = blogEngine.filteredArticles;
        }
        
        // Renderizar art√≠culos con la lista filtrada
        renderArticlesCustom(articlesToRender);
        
        // Renderizar paginaci√≥n considerando los art√≠culos reales a mostrar
        renderPaginationCustom(articlesToRender.length);
        
        // Actualizar contador
        const totalArticles = articlesToRender.length;
        const start = (blogEngine.currentPage - 1) * blogEngine.articlesPerPage;
        const currentArticles = Math.min(blogEngine.articlesPerPage, totalArticles - start);
        
        document.getElementById("total-count").textContent = totalArticles;
        document.getElementById("visible-count").textContent = Math.max(0, currentArticles);
        
        // Mostrar/ocultar mensaje de no resultados
        const noResults = document.getElementById("no-results");
        const articlesGrid = document.getElementById("articles-grid");
        if (totalArticles === 0) {
          noResults.style.display = "flex";
          articlesGrid.style.display = "none";
        } else {
          noResults.style.display = "none";
          articlesGrid.style.display = "grid";
        }
      }
      
      // Renderizar art√≠culos con animaci√≥n mejorada
      function renderArticlesCustom(articles) {
        const container = document.getElementById("articles-grid");
        if (!container) return;
        
        container.classList.add('js-initialized');
        
        const start = (blogEngine.currentPage - 1) * blogEngine.articlesPerPage;
        const end = start + blogEngine.articlesPerPage;
        const pageArticles = articles.slice(start, end);
        
        if (pageArticles.length === 0) {
          container.innerHTML = `
            <div class="no-results">
              <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
              <h3>No se encontraron art√≠culos</h3>
              <p>Intenta con otra categor√≠a</p>
            </div>
          `;
          return;
        }
        
        // Fade out con animaci√≥n suave
        const existingCards = container.querySelectorAll('.article-card');
        existingCards.forEach(card => {
          card.style.transition = 'opacity 0.25s ease-out, transform 0.25s ease-out';
          card.style.opacity = '0';
          card.style.transform = 'translateY(-10px) scale(0.98)';
        });
        
        // Delay para animaci√≥n de salida, luego renderizar nuevos
        setTimeout(() => {
          container.innerHTML = pageArticles.map((article) => blogEngine.generateArticleCard(article)).join("");
          
          // Animaci√≥n de entrada escalonada
          const newCards = container.querySelectorAll('.article-card');
          newCards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px) scale(0.98)';
            
            setTimeout(() => {
              card.style.transition = 'opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
              card.style.opacity = '1';
              card.style.transform = 'translateY(0) scale(1)';
            }, index * 60); // Stagger de 60ms entre cada card
          });
        }, existingCards.length > 0 ? 250 : 0);
      }
      
      // Renderizar paginaci√≥n personalizada
      function renderPaginationCustom(totalArticles) {
        const container = document.getElementById("pagination");
        if (!container) return;
        
        const totalPages = Math.ceil(totalArticles / blogEngine.articlesPerPage);
        
        if (totalPages <= 1) {
          container.innerHTML = "";
          return;
        }
        
        let html = '<div class="pagination">';
        
        // Bot√≥n anterior
        if (blogEngine.currentPage > 1) {
          html += `<button class="pagination-btn pagination-prev" data-page="${blogEngine.currentPage - 1}">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
            <span>Anterior</span>
          </button>`;
        }
        
        // N√∫meros de p√°gina
        for (let i = 1; i <= totalPages; i++) {
          if (i === 1 || i === totalPages || (i >= blogEngine.currentPage - 1 && i <= blogEngine.currentPage + 1)) {
            html += `<button class="pagination-btn ${i === blogEngine.currentPage ? "active" : ""}" data-page="${i}">${i}</button>`;
          } else if (i === blogEngine.currentPage - 2 || i === blogEngine.currentPage + 2) {
            html += '<span class="pagination-dots">...</span>';
          }
        }
        
        // Bot√≥n siguiente
        if (blogEngine.currentPage < totalPages) {
          html += `<button class="pagination-btn pagination-next" data-page="${blogEngine.currentPage + 1}">
            <span>Siguiente</span>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>`;
        }
        
        html += "</div>";
        container.innerHTML = html;
      }
      
      // Carrusel simple para art√≠culos destacados en blog
      function initBlogFeaturedCarousel() {
        const track = document.getElementById('featured-carousel-track');
        const slides = track.querySelectorAll('.featured-slide');
        const prevBtn = document.querySelector('.carousel-prev');
        const nextBtn = document.querySelector('.carousel-next');
        const indicatorCurrent = document.querySelector('.indicator-current');
        const indicatorTotal = document.querySelector('.indicator-total');
        
        if (slides.length === 0) return;
        
        let currentIndex = 0;
        let autoplayInterval = null;
        
        // Actualizar total inicial
        if (indicatorTotal) indicatorTotal.textContent = slides.length;
        
        function updateIndicator() {
          if (indicatorCurrent) indicatorCurrent.textContent = currentIndex + 1;
        }
        
        function showSlide(index) {
          slides.forEach((s, i) => {
            s.classList.remove('active');
            if (i === index) s.classList.add('active');
          });
          updateIndicator();
        }
        
        function nextSlide() {
          currentIndex = (currentIndex + 1) % slides.length;
          showSlide(currentIndex);
        }
        
        function prevSlide() {
          currentIndex = (currentIndex - 1 + slides.length) % slides.length;
          showSlide(currentIndex);
        }
        
        if (nextBtn) nextBtn.addEventListener('click', () => {
          nextSlide();
          resetAutoplay();
        });
        
        if (prevBtn) prevBtn.addEventListener('click', () => {
          prevSlide();
          resetAutoplay();
        });
        
        function resetAutoplay() {
          clearInterval(autoplayInterval);
          autoplayInterval = setInterval(nextSlide, 6000);
        }
        
        // Iniciar autoplay
        autoplayInterval = setInterval(nextSlide, 6000);
        updateIndicator();
      }
    </script>
  </body>
</html>
