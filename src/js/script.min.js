let responsiveState={isMobile:window.innerWidth<=768,isTablet:768<window.innerWidth&&window.innerWidth<=1024,isDesktop:1024<window.innerWidth};function initDarkMode(){document.documentElement.setAttribute("data-theme","dark"),localStorage.removeItem("sg_theme")}function updateResponsiveState(){responsiveState.isMobile=window.innerWidth<=768,responsiveState.isTablet=768<window.innerWidth&&window.innerWidth<=1024,responsiveState.isDesktop=1024<window.innerWidth}(()=>{function e(){var e="color: #ffd166;",t="font-size: 13px; color: #4ecdc4;",o="font-size: 13px; color: #06ffa5; font-weight: bold;",n="font-size: 12px; color: #a8dadc;";console.log("%cüéÆ SALA GEEK","font-size: 20px; font-weight: bold; color: #ffd166; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);"),console.log("%c‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê",e),console.log("%c ",""),console.log("%cüë®‚Äçüíª Desarrollado por:",t),console.log("%c   Humberto Marin - Fundador & Lead Developer",o),console.log("%c   GitHub Copilot - AI Assistant & Code Architect",o),console.log("%c ",""),console.log("%cüì¶ Versi√≥n: 2.0.0 | Noviembre 2025",n),console.log("%c‚ö° Stack: Vanilla JS + CSS3 + HTML5",n),console.log("%cüéØ Easter Eggs: 15 ocultos (9 Desktop + 6 Mobile)",n),console.log("%c ",""),console.log("%cüí° ¬øEres desarrollador?",t),console.log("%c   Presiona Ctrl+Shift+G para desbloquear el Developer Console",o),console.log("%c ",""),console.log("%c‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê",e),console.log("%cHecho con üíô por geeks, para geeks","font-size: 12px; color: #ff6b6b; font-style: italic;"),console.log("%c ","")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})();let PageTransitions={supportsViewTransitions:"startViewTransition"in document,init(){this.fadeInOnLoad(),this.interceptLinks()},fadeInOnLoad(){this.supportsViewTransitions||(document.body.classList.add("page-entering"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.body.classList.remove("page-entering"),document.body.classList.add("page-entered"),setTimeout(()=>{document.body.classList.remove("page-entered")},350)})}))},interceptLinks(){document.addEventListener("click",e=>{var t,o=e.target.closest("a");!o||!(t=o.getAttribute("href"))||t.startsWith("#")||t.startsWith("javascript:")||t.startsWith("mailto:")||t.startsWith("tel:")||"_blank"===o.target||o.hasAttribute("download")||t.startsWith("http")&&!t.includes(window.location.hostname)||this.supportsViewTransitions||(e.preventDefault(),this.navigateTo(t))})},navigateTo(e){document.body.classList.add("page-transitioning"),setTimeout(()=>{window.location.href=e},250)}};function initResponsiveHandler(){let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{var e,t,o;updateResponsiveState(),responsiveState.isDesktop&&(e=document.querySelector(".main-nav"),t=document.querySelector(".nav-toggle"),o=document.querySelector(".search-dropdown"),e?.classList.contains("open")&&(e.classList.remove("open"),t?.setAttribute("aria-expanded","false"),document.body.style.overflow=""),o?.classList.contains("active"))&&o.classList.remove("active")},150)})}function initSeasonalLogo(){var e=new Date,t=e.getMonth(),e=e.getDate();let o=11===t||0===t&&e<=10,n=o?["/src/images/Icono_SG_Navidad.ico","/src/images/Icono_SG.ico"]:["/src/images/Icono_SG.ico"];chooseAvailableLogo(n).then(e=>{updateLogoSource(e),updateFooterLogo(n),updateSeasonalFavicon(o)})}function chooseAvailableLogo(s){return new Promise(o=>{let n=!1,a=e=>{var t;e>=s.length?o("/src/images/Icono_SG.ico"):((t=new Image).onload=()=>{n||(n=!0,o(s[e]))},t.onerror=()=>a(e+1),t.src=s[e]+("?v="+Date.now()))};a(0)})}function updateLogoSource(n){var e=document.querySelector(".logo img");e&&(e.src=n);let t=new MutationObserver((e,t)=>{var o=document.querySelector(".logo img");o&&(o.src=n,t.disconnect())});t.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>t.disconnect(),5e3)}function updateFooterLogo(e){chooseAvailableLogo(e).then(o=>{let n=()=>{var e=document.querySelector(".footer-logo"),t=document.querySelector(".footer-brand picture source");return!!e&&(e.src=o,t&&(t.srcset=o,t.type="image/png"),!0)};if(!n()){let e=new MutationObserver((e,t)=>{n()&&t.disconnect()});e.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>e.disconnect(),5e3)}})}function updateSeasonalFavicon(e){var e=e?"/src/images/Icono_SG_Navidad.ico":"/src/images/Icono_SG.ico",t=document.head,o=(document.querySelectorAll("link[rel='icon'], link[rel='shortcut icon'], link[rel='apple-touch-icon']").forEach(e=>e.parentNode.removeChild(e)),"?v="+Date.now()),n=document.createElement("link"),n=(n.setAttribute("rel","icon"),n.setAttribute("type","image/x-icon"),n.setAttribute("href",e+o),t.appendChild(n),document.createElement("link")),n=(n.setAttribute("rel","shortcut icon"),n.setAttribute("type","image/x-icon"),n.setAttribute("href",e+o),t.appendChild(n),document.createElement("link"));n.setAttribute("rel","apple-touch-icon"),n.setAttribute("sizes","180x180"),n.setAttribute("href",e+o),t.appendChild(n)}async function loadPartial(e,t){try{var o=Date.now(),n=await fetch(t+"?v="+o,{cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(!n.ok)throw new Error(`HTTP ${n.status}: `+n.statusText);var a=await n.text(),s=document.querySelector(e);if(s)return s.innerHTML=a,!0;throw new Error(`Element "${e}" not found in DOM`)}catch(e){return console.error(`‚ùå Error loading partial ${t}:`,e),!1}}async function loadIncludes(){try{var e=document.querySelector("#header-placeholder")?"#header-placeholder":"#header-container",t=document.querySelector("#footer-placeholder")?"#footer-placeholder":"#footer-container",o=(await Promise.all([loadPartial(e,"/src/pages/partials/header.html?v=135"),loadPartial(t,"/src/pages/partials/footer.html")]),document.getElementById("current-year"));o&&(o.textContent=(new Date).getFullYear()),initNavigation(),setTimeout(()=>{initSearch()},100)}catch(e){console.error("‚ùå Error loading includes:",e)}}function initNavigation(){let n=document.querySelector(".nav-toggle"),a=document.querySelector(".main-nav"),s=document.querySelectorAll(".menu a");if(n&&a){let t=()=>{var e=a.classList.toggle("open");n.setAttribute("aria-expanded",e.toString()),document.body.style.overflow=e?"hidden":"",document.body.classList.toggle("menu-open",e),e&&a.querySelector("a")?.focus()};n.addEventListener("click",t);var e=document.querySelector(".nav-close");e&&e.addEventListener("click",()=>{a.classList.remove("open"),n.setAttribute("aria-expanded","false"),document.body.style.overflow="",document.body.classList.remove("menu-open")}),s.forEach(t=>{t.addEventListener("click",e=>{t.getAttribute("href")?.startsWith("#")&&(e.preventDefault(),e=t.getAttribute("href"),e=document.querySelector(e))&&(responsiveState.isMobile&&(a.classList.remove("open"),n.setAttribute("aria-expanded","false"),document.body.style.overflow="",document.body.classList.remove("menu-open")),e=e.getBoundingClientRect().top+window.pageYOffset-100,window.scrollTo({top:e,behavior:"smooth"}))})}),document.addEventListener("click",e=>{!a.classList.contains("open")||a.contains(e.target)||n.contains(e.target)||(a.classList.remove("open"),n.setAttribute("aria-expanded","false"),document.body.style.overflow="",document.body.classList.remove("menu-open"))});let o=document.querySelectorAll("section[id]");if(0<o.length){function i(){let n=window.scrollY+150,a="";o.forEach(e=>{var t=e.offsetTop,o=e.offsetHeight;n>=t&&n<t+o&&(a=e.id)}),s.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")==="#"+a&&e.classList.add("active")})}let e=!1;window.addEventListener("scroll",()=>{e||(window.requestAnimationFrame(()=>{i(),e=!1}),e=!0)},{passive:!0}),i()}document.addEventListener("keydown",e=>{"Escape"===e.key&&a.classList.contains("open")&&(t(),n.focus())})}}function initSearch(){let t=()=>{var e=document.querySelector(".search-toggle");let n=document.getElementById("searchModal"),a=document.getElementById("searchBackdrop");var s=document.getElementById("searchClose");let i=document.getElementById("searchInput"),r=document.getElementById("searchClear"),l=document.getElementById("searchResults");if(e&&n&&i){console.log("‚úÖ B√∫squeda inicializada");let o=[];(async()=>{try{var e=await(await fetch("/blog/data/articles.json")).json();o=e.articles.map(e=>({title:e.title,url:e.content,category:e.categoryDisplay,excerpt:e.excerpt,tags:e.tags||[]})),console.log(`‚úÖ B√∫squeda: ${o.length} art√≠culos cargados`)}catch(e){console.error("‚ùå Error cargando art√≠culos para b√∫squeda:",e),o=[]}})();let t=()=>{n.classList.remove("active"),document.body.style.overflow="",i.value="",r.classList.remove("visible"),l.innerHTML=""};e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),n.classList.add("active"),document.body.style.overflow="hidden",setTimeout(()=>i.focus(),100)}),s&&s.addEventListener("click",e=>{e.stopPropagation(),t()}),a&&a.addEventListener("click",e=>{e.target===a&&t()}),n.addEventListener("click",e=>{e.target===n&&t()});e=n.querySelector(".search-modal-content");e&&e.addEventListener("click",e=>{e.stopPropagation()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&n.classList.contains("active")&&t()}),i.addEventListener("input",e=>{e.stopPropagation();e=e.target.value;r.classList.toggle("visible",0<e.length),(e=>{let t=e.toLowerCase().trim();t?0===(e=o.filter(e=>e.title.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(t))||e.excerpt&&e.excerpt.toLowerCase().includes(t))).length?l.innerHTML='<p class="search-no-results">No se encontraron resultados</p>':l.innerHTML=e.map(e=>`
        <a href="${e.url}" class="search-result-item">
          <div class="search-result-title">${e.title}</div>
          <div class="search-result-category">${e.category}</div>
        </a>
      `).join(""):l.innerHTML=""})(e)}),i.addEventListener("click",e=>{e.stopPropagation()}),i.addEventListener("mousedown",e=>{e.stopPropagation()}),i.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),e=l.querySelector(".search-result-item"))&&(window.location.href=e.href)}),r&&r.addEventListener("click",e=>{e.stopPropagation(),i.value="",r.classList.remove("visible"),l.innerHTML="",i.focus()})}else setTimeout(t,150)};t()}function initScrollAnimations(){let o=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(requestAnimationFrame(()=>{t.target.classList.add("reveal");var e=window.getComputedStyle(t.target).backgroundImage;t.target.style.backgroundImage="none",t.target.offsetHeight,t.target.style.backgroundImage=e}),o.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),e=()=>{var e=document.querySelectorAll("[data-scroll]");0!==e.length&&e.forEach(e=>{o.observe(e)})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{setTimeout(e,150)}):setTimeout(e,150)}function initLazyLoading(){if("loading"in HTMLImageElement.prototype)document.querySelectorAll("img[data-src]").forEach(e=>{e.src=e.dataset.src,e.removeAttribute("data-src")});else{let t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&((e=e.target).dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src")),e.dataset.srcset&&(e.srcset=e.dataset.srcset,e.removeAttribute("data-srcset")),e.classList.add("lazy-loaded"),t.unobserve(e))})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll("img[data-src]").forEach(e=>t.observe(e))}let t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e=e.target).dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src"),t.unobserve(e))})},{rootMargin:"100px 0px"});document.querySelectorAll("iframe[data-src]").forEach(e=>t.observe(e))}function initHeroParallax(){if(!(window.innerWidth<=768)){let t=document.querySelectorAll(".hero-badge"),i=document.querySelector(".hero-section");if(t.length&&i){let o=0,n=0,a=0,s=0;i.addEventListener("mousemove",e=>{var t=i.getBoundingClientRect();o=(e.clientX-t.left-t.width/2)/t.width,n=(e.clientY-t.top-t.height/2)/t.height}),i.addEventListener("mouseleave",()=>{o=0,n=0}),!function e(){a+=.1*(o-a),s+=.1*(n-s),t.forEach((e,t)=>{var t=8*(t+1),o=a*t,t=s*t;e.style.transform=`translate(${o}px, ${t}px)`}),requestAnimationFrame(e)}()}}}function initStatsCounter(){let a=document.querySelectorAll(".about-stat-number[data-count]");if(0!==a.length){let t=!1,o=o=>{let n=parseInt(o.getAttribute("data-count")),a=o.getAttribute("data-suffix")||"",s=performance.now(),i=-1,r=e=>{var e=e-s,e=Math.min(e/2e3,1),t=1===(t=e)?1:1-Math.pow(2,-10*t),t=Math.round(t*n);t!==i&&(o.textContent=t+a,i=t),e<1?requestAnimationFrame(r):o.textContent=n+a};requestAnimationFrame(r)};let n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!t&&(t=!0,a.forEach((e,t)=>{setTimeout(()=>{o(e)},100*t)}),n.disconnect())})},{threshold:.3,rootMargin:"0px"});var e=document.querySelector(".about-stats");e&&n.observe(e)}}function initHeroAnimations(){let a=document.querySelector(".typewriter"),s=document.querySelector(".hero-brand");if(a){s&&(s.style.opacity="0",s.style.transform="translateY(20px)");let o=a.textContent.split("");let n=1500/o.length;a.textContent="",a.style.width="auto",setTimeout(()=>{let e=0,t=setInterval(()=>{e<o.length?(a.textContent+=o[e],e++):(clearInterval(t),setTimeout(()=>{a.classList.add("typing-complete"),s&&(s.style.transition="opacity 0.8s ease, transform 0.8s ease",s.style.opacity="1",s.style.transform="translateY(0)"),void 0!==easterEggTracker&&easterEggTracker.show&&easterEggTracker.show()},300))},n)},800),document.querySelectorAll(".hero-badge").forEach(t=>{let o=null,n=null;t.addEventListener("mouseenter",()=>{o=Date.now(),n&&(clearTimeout(n),n=null),t.classList.remove("badge-explode"),t.classList.add("badge-hover")}),t.addEventListener("mouseleave",()=>{var e=Date.now()-o;t.classList.remove("badge-hover"),300<=e&&(n=setTimeout(()=>{t.classList.add("badge-explode"),setTimeout(()=>{t.classList.remove("badge-explode")},1e3)},150))})})}}function initNewsHubAnimations(){let a=document.querySelector(".news-hub-section"),s=document.querySelector(".latest-news-section"),i=document.querySelector(".news-cta-section");if(a){a.classList.remove("in-view"),s&&s.classList.remove("in-view"),i&&i.classList.remove("in-view");var e={root:null,rootMargin:"-50px 0px",threshold:.15};let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(requestAnimationFrame(()=>{e.target.classList.add("in-view")}),t.unobserve(e.target))})},e),o=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(requestAnimationFrame(()=>{e.target.classList.add("in-view")}),o.unobserve(e.target))})},{...e,threshold:.1}),n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(requestAnimationFrame(()=>{e.target.classList.add("in-view")}),n.unobserve(e.target))})},{...e,threshold:.2});t.observe(a),s&&o.observe(s),i&&n.observe(i),setTimeout(()=>{var e=(e,t)=>{var o;e&&(o=e.getBoundingClientRect()).top<window.innerHeight-100&&0<o.bottom&&!e.classList.contains("in-view")&&(e.classList.add("in-view"),t.unobserve(e))};e(a,t),e(s,o),e(i,n)},200)}}function initFeaturedNewsCarousel(){var l=document.querySelector(".featured-carousel-track");let c=document.querySelectorAll(".featured-slide");var d=document.querySelector(".featured-prev"),u=document.querySelector(".featured-next");let m=document.querySelectorAll(".featured-dot"),p=document.querySelector(".featured-indicators");if(l&&0!==c.length){let n=0,e=null,t=null,a=!1,o=!1,s=8e3,i=12e3,r=(c[0].classList.add("active"),m[0]?.classList.add("active"),d&&d.addEventListener("click",y),u&&u.addEventListener("click",v),m.forEach((e,t)=>{e.addEventListener("click",()=>{var e;(e=t)===n||a||(h(e),E())})}),0);l.addEventListener("touchstart",e=>{r=e.touches[0].clientX,w(),f(!0)},{passive:!0}),l.addEventListener("touchend",e=>{e=e.changedTouches[0].clientX,e=r-e;(50<Math.abs(e)&&!a?0<e?v:y:E)()},{passive:!0});d=document.querySelector(".carousel-wrapper");function g(e){m.forEach(e=>e.classList.remove("active"));e=m[e];e&&(e.style.animation="none",e.offsetHeight,e.style.animation="",e.classList.add("active"))}function h(e="next"){if(!a){a=!0;let t=c[n],o;if((o="next"===e?n===c.length-1?0:n+1:"prev"===e?0===n?c.length-1:n-1:e)===n)a=!1;else{let e=c[o];g(o),t.style.animation="carouselFadeOut 0.4s ease-out forwards",setTimeout(()=>{t.classList.remove("active"),t.style.animation="",e.classList.add("active"),e.style.animation="carouselFadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards",n=o,setTimeout(()=>{e.style.animation="",a=!1},600)},350)}}}function f(e){o=e,p&&(e?p.classList.add("paused"):(p.classList.remove("paused"),g(n)))}function y(){a||(h("prev"),E())}function v(){a||(h("next"),E())}function b(){o||(w(),e=setInterval(()=>{a||o||h("next")},s))}function w(){e&&(clearInterval(e),e=null),t&&(clearTimeout(t),t=null)}function E(){w(),f(!0),t=setTimeout(()=>{f(!1),b()},i)}d&&(d.addEventListener("mouseenter",()=>{w(),f(!0)}),d.addEventListener("mouseleave",()=>{f(!1),b()})),document.addEventListener("keydown",e=>{var t=document.querySelector(".news-hub-section");t&&(t=t.getBoundingClientRect()).top<window.innerHeight&&0<t.bottom&&!a&&("ArrowLeft"===e.key&&y(),"ArrowRight"===e.key)&&v()}),document.addEventListener("visibilitychange",()=>{document.hidden?(w(),o=!0):(o=!1,b())}),b()}}function initTestimonialsCarousel(){let r=document.querySelector(".carousel-track"),l=document.querySelectorAll(".testimonial-card");var t=document.querySelector(".carousel-prev"),c=document.querySelector(".carousel-next");let d=document.querySelectorAll(".carousel-indicators .indicator");if(r&&0!==l.length){let o=0,n=!1,e,a=0,s=0,i=!1;t&&t.addEventListener("click",m),c&&c.addEventListener("click",p),d.forEach((e,t)=>{e.addEventListener("click",()=>{var e;e=t,n||e===o||(o=e,u(),f())})});t=document.querySelector(".carousel-container"),c=(t&&(t.addEventListener("touchstart",y,{passive:!1}),t.addEventListener("touchmove",v,{passive:!1}),t.addEventListener("touchend",b),t.addEventListener("mousedown",y),t.addEventListener("mousemove",v),t.addEventListener("mouseup",b),t.addEventListener("mouseleave",()=>{i&&b()})),document.addEventListener("keydown",e=>{"ArrowLeft"===e.key&&m(),"ArrowRight"===e.key&&p()}),document.querySelector(".testimonials-carousel"));function u(e=!0){var t;n||(n=!0,l.forEach((e,t)=>{e.classList.remove("active"),t===o&&e.classList.add("active")}),t=100*-o,r.style.transition=e?"transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)":"none",r.style.transform=`translateX(${t}%)`,d.forEach((e,t)=>{e.classList.toggle("active",t===o)}),setTimeout(()=>{n=!1},600))}function m(){n||(o=0===o?l.length-1:o-1,u(),f())}function p(){n||(o=o===l.length-1?0:o+1,u(),f())}function g(){e=setInterval(()=>{p()},5e3)}function h(){e&&clearInterval(e)}function f(){h(),g()}function y(e){i=!0,a=(e.type.includes("mouse")?e:e.touches[0]).pageX,r.style.transition="none",h()}function v(e){i&&(e.preventDefault(),e=(s=(e.type.includes("mouse")?e:e.touches[0]).pageX)-a,e=100*-o+e/r.offsetWidth*100,r.style.transform=`translateX(${e}%)`)}function b(){var e,t;i&&(i=!1,e=s-a,t=.2*r.offsetWidth,(Math.abs(e)>t?0<e?m:p:u)(),f())}c&&(c.addEventListener("mouseenter",h),c.addEventListener("mouseleave",g)),u(!1),g()}}function initNewsletterForm(){let l=document.getElementById("newsletter-form"),c=document.getElementById("newsletter-message");if(l){function d(e,t){c&&(c.querySelector(".message-text").textContent=e,c.className="newsletter-message "+t,c.style.display="block",setTimeout(()=>{c.style.display="none"},8e3))}l.addEventListener("submit",async e=>{e.preventDefault();var e=l.querySelector('input[type="email"]'),t=document.getElementById("newsletter-submit"),o=t.querySelector(".btn-text"),n=t.querySelector(".btn-loader"),a=e.value.trim();if(a)if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){t.disabled=!0,o.style.display="none",n.style.display="inline-flex",c&&(c.style.display="none");try{await new Promise((e,t)=>{let o=0,n=30,a=()=>{"undefined"!=typeof grecaptcha&&grecaptcha.ready?(console.log("‚úÖ reCAPTCHA detectado, esperando ready()..."),grecaptcha.ready(()=>{console.log("‚úÖ reCAPTCHA ready!"),e()})):o>=n?(console.error("‚ùå reCAPTCHA no se carg√≥ despu√©s de",n,"intentos"),t(new Error("No se pudo cargar el sistema de seguridad. Por favor, recarga la p√°gina o desactiva tu bloqueador de anuncios."))):(o++,console.log(`‚è≥ Esperando reCAPTCHA... intento ${o}/`+n),setTimeout(a,500))};a()});var s=await grecaptcha.execute("6LcJzwUsAAAAAC-ecsG89N36b8nnVCt64UOTHKqB",{action:"newsletter_subscribe"}),i=await fetch("/.netlify/functions/mailchimp-subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,recaptchaToken:s})}),r=await i.json();if(!i.ok||!r.success)throw new Error(r.error||"Error al procesar la suscripci√≥n");d(r.message||"¬°Gracias por suscribirte! Revisa tu correo para el mensaje de bienvenida.","success"),e.value="",localStorage.setItem("newsletter_subscribed","true")}catch(e){console.error("Error al suscribir:",e),d(e.message||"Hubo un error al procesar tu suscripci√≥n. Por favor, intenta nuevamente.","error")}finally{t.disabled=!1,o.style.display="inline",n.style.display="none"}}else d("Por favor, ingresa un correo electr√≥nico v√°lido","error")})}}function initNewsSubscribeForm(){let l=document.getElementById("news-subscribe-form");l&&l.addEventListener("submit",async t=>{t.preventDefault();t=l.querySelector('input[type="email"]');let o=l.querySelector('button[type="submit"]'),n=o.querySelector("span");var a=t.value.trim();if(a)if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){let e=n.textContent;o.disabled=!0,n.textContent="Enviando...";try{if("undefined"==typeof grecaptcha)throw new Error("Sistema de seguridad no disponible");await new Promise(e=>grecaptcha.ready(e));var s=await grecaptcha.execute("6LcJzwUsAAAAAC-ecsG89N36b8nnVCt64UOTHKqB",{action:"newsletter_subscribe"}),i=await fetch("/.netlify/functions/mailchimp-subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,recaptchaToken:s})}),r=await i.json();if(i.ok&&r.success)return l.classList.add("success"),n.textContent="¬°Suscrito!",t.value="",showNotification("¬°Gracias por suscribirte! Revisa tu correo.","success"),localStorage.setItem("newsletter_subscribed","true"),void setTimeout(()=>{l.classList.remove("success"),n.textContent=e,o.disabled=!1},3e3);throw new Error(r.error||"Error al procesar la suscripci√≥n")}catch(e){console.error("Error al suscribir:",e),showNotification(e.message||"Error al suscribir. Intenta de nuevo.","error")}n.textContent=e,o.disabled=!1}else showNotification("Por favor, ingresa un correo electr√≥nico v√°lido","error")})}function initBlogSubscribeForm(){let l=document.getElementById("blog-subscribe-form");l&&l.addEventListener("submit",async t=>{t.preventDefault();t=l.querySelector('input[type="email"]');let o=l.querySelector('button[type="submit"]'),n=o.querySelector("span");var a=t.value.trim();if(a)if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){let e=n.textContent;o.disabled=!0,n.textContent="Enviando...";try{if("undefined"==typeof grecaptcha)throw new Error("Sistema de seguridad no disponible");await new Promise(e=>grecaptcha.ready(e));var s=await grecaptcha.execute("6LcJzwUsAAAAAC-ecsG89N36b8nnVCt64UOTHKqB",{action:"newsletter_subscribe"}),i=await fetch("/.netlify/functions/mailchimp-subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,recaptchaToken:s})}),r=await i.json();if(i.ok&&r.success)return l.classList.add("success"),n.textContent="¬°Suscrito!",t.value="",showNotification("¬°Gracias por suscribirte! Revisa tu correo.","success"),localStorage.setItem("newsletter_subscribed","true"),void setTimeout(()=>{l.classList.remove("success"),n.textContent=e,o.disabled=!1},3e3);throw new Error(r.error||"Error al procesar la suscripci√≥n")}catch(e){console.error("Error al suscribir:",e),showNotification(e.message||"Error al suscribir. Intenta de nuevo.","error")}n.textContent=e,o.disabled=!1}else showNotification("Por favor, ingresa un correo electr√≥nico v√°lido","error")})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>PageTransitions.init()):PageTransitions.init();let NOTIFICATION_STYLES={success:"linear-gradient(135deg, #48bb78 0%, #38a169 100%)",error:"linear-gradient(135deg, #f56565 0%, #e53e3e 100%)",info:"linear-gradient(135deg, #4299e1 0%, #3182ce 100%)"};function showNotification(t,o="info"){if(!window.areEasterEggsDisabled?.()){var n=/Android|iPhone|iPad|iPod/.test(navigator.userAgent),a=NOTIFICATION_STYLES[o]||NOTIFICATION_STYLES.info;let e=document.createElement("div");e.className="notification notification-"+o,e.textContent=t,e.style.cssText=`
    position: fixed;
    top: ${n?"90px":"120px"};
    right: ${n?"10px":"20px"};
    left: ${n?"10px":"auto"};
    padding: ${n?"0.75rem 1rem":"1rem 1.5rem"};
    background: ${a};
    color: white;
    border-radius: 8px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
    z-index: 100000;
    max-width: ${n?"100%":"400px"};
    animation: slideInRight 0.3s ease;
    font-weight: 500;
    font-size: ${n?"0.875rem":"1rem"};
    line-height: 1.4;
  `,document.body.appendChild(e),setTimeout(()=>{e.style.animation="slideOutRight 0.3s ease",setTimeout(()=>e.remove(),300)},5e3)}}if(!document.getElementById("notification-styles")){let e=document.createElement("style");e.id="notification-styles",e.textContent=`
    @keyframes slideInRight {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    @keyframes slideOutRight {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(400px);
        opacity: 0;
      }
    }
  `,document.head.appendChild(e)}function initCookieConsent(){let e="sg_cookie_consent",t=document.querySelector(".cookie-consent");var o;t&&(localStorage.getItem(e)||setTimeout(()=>{t.classList.add("show")},1e3),(o=t.querySelector(".cookie-btn.accept"))&&o.addEventListener("click",()=>{localStorage.setItem(e,"accepted"),t.classList.remove("show"),setTimeout(()=>t.remove(),400)}),o=t.querySelector(".cookie-btn.reject"))&&o.addEventListener("click",()=>{localStorage.setItem(e,"rejected"),t.classList.remove("show"),setTimeout(()=>t.remove(),400)})}function initBackToTop(){let s=document.getElementById("back-to-top");if(s){let n=s.querySelector(".progress-ring-progress"),a=2*Math.PI*20;function e(){var e=window.innerHeight,t=document.documentElement.scrollHeight,o=window.pageYOffset||document.documentElement.scrollTop,t=o/(t-e),e=a-t*a,t=(n.style.strokeDashoffset=e,document.body.classList.contains("upside-down-mode"));300<o?s.classList.add("visible"):s.classList.remove("visible"),t&&s.classList.contains("visible")?s.style.transform="translateY(0) rotate(180deg)":t&&!s.classList.contains("visible")?s.style.transform="translateY(20px) rotate(180deg)":s.style.transform=""}n.style.strokeDasharray=a,n.style.strokeDashoffset=a,window.addEventListener("scroll",e),window.addEventListener("resize",e),new MutationObserver(()=>{e()}).observe(document.body,{attributes:!0,attributeFilter:["class"]}),s.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),e()}}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){var t=this.getAttribute("href");t&&"#"!==t&&(t=document.querySelector(t))&&(e.preventDefault(),e=t.getBoundingClientRect().top+window.pageYOffset-100,window.scrollTo({top:e,behavior:"smooth"}))})})}function initHeaderScroll(){let n=document.getElementById("header-placeholder"),a=document.querySelector(".site-header");if(a&&n){let o;window.addEventListener("scroll",()=>{var e=window.pageYOffset,t=(50<e?(n.classList.add("scrolled"),a.classList.add("scrolled")):(n.classList.remove("scrolled"),a.classList.remove("scrolled")),document.documentElement.scrollHeight-document.documentElement.clientHeight),t=e/t*100;a.style.setProperty("--scroll-progress",t+"%"),o=e},{passive:!0})}}function initAdaptiveMenu(){var e=document.querySelector(".menu-landing"),t=document.querySelector(".menu-legal"),o=document.querySelector(".menu-mediakit"),n=document.querySelector(".menu-blog");if(e&&t&&o){var a=document.body.classList.contains("media-kit-page")||window.location.pathname.includes("media-kit.html"),s=window.location.pathname.includes("/legal/"),i=window.location.pathname.includes("/blog/")||document.body.classList.contains("blog-page");if(e.style.display="none",t.style.display="none",o.style.display="none",n&&(n.style.display="none"),i&&n){n.style.display="flex";let o=window.location.pathname;n.querySelectorAll(".nav-link").forEach(e=>{e.classList.remove("active");var t=new URL(e.href).pathname;("/blog/"===o&&"/blog/"===t||o.includes(t)&&"/index.html"!==t&&"/blog/"!==t)&&e.classList.add("active")})}else if(a)o.style.display="flex";else if(s){t.style.display="flex";let o=window.location.pathname;t.querySelectorAll(".nav-link").forEach(e=>{var t=new URL(e.href).pathname;o.includes(t)&&!e.classList.contains("nav-link-home")&&e.classList.add("active")})}else e.style.display="flex"}}function initLegalPages(){document.querySelector(".legal-page")&&(setTimeout(()=>{var e=document.querySelector(".legal-toc");e&&e.classList.add("animate-in")},100),initLegalTOC(),initLegalSectionAnimations())}function initLegalTOC(){let s=document.querySelectorAll(".legal-toc nav a"),t=document.querySelectorAll(".legal-section[id]"),o=document.querySelector(".legal-toc");var n=document.querySelector(".legal-toc-title");if(0!==s.length&&0!==t.length){if(n&&o){window.innerWidth<=1024&&o.classList.add("collapsed"),n.addEventListener("click",()=>{o.classList.toggle("collapsed")});let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{1024<window.innerWidth?o.classList.remove("collapsed"):o.classList.contains("collapsed")||o.classList.add("collapsed")},250)})}s.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();var e=t.getAttribute("href"),e=document.querySelector(e);e&&(e=e.getBoundingClientRect().top+window.pageYOffset-130,s.forEach(e=>e.classList.remove("active")),t.classList.add("active"),window.scrollTo({top:e,behavior:"smooth"}))})});let e=!1;function a(){let o=window.scrollY+200,n="",a=-1/0;t.forEach(e=>{var t=e.offsetTop;t<=o&&t>a&&(a=t,n=e.id)}),s.forEach(e=>{var t=e.getAttribute("href")==="#"+n;t&&!e.classList.contains("active")?e.classList.add("active"):!t&&e.classList.contains("active")&&e.classList.remove("active")})}window.addEventListener("scroll",()=>{e||(window.requestAnimationFrame(()=>{a(),e=!1}),e=!0)},{passive:!0}),setTimeout(a,100)}}function initLegalSectionAnimations(){var e=document.querySelectorAll(".legal-section");if(0!==e.length){let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-in"),t.unobserve(e.target))})},{threshold:.15,rootMargin:"0px 0px -80px 0px"});e.forEach(e=>{t.observe(e)})}}function initReadingProgress(){if(!document.querySelector(".reading-progress")){let o=document.createElement("div");o.className="reading-progress",o.innerHTML='<div class="reading-progress-bar"></div>';var t=document.createElement("style");t.id="reading-progress-styles",t.textContent=`
    .reading-progress {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: rgba(255, 209, 102, 0.08);
      z-index: 9999;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .reading-progress.visible {
      opacity: 1;
    }
    
    .reading-progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
      width: 0%;
      transition: width 0.15s ease-out;
      box-shadow: 0 0 10px rgba(255, 209, 102, 0.5);
    }
  `,document.getElementById("reading-progress-styles")||document.head.appendChild(t),document.body.appendChild(o);let n=o.querySelector(".reading-progress-bar"),e=!1;function a(){var e=window.innerHeight,e=document.documentElement.scrollHeight-e,t=window.scrollY,e=t/e*100;100<t?o.classList.add("visible"):o.classList.remove("visible"),n.style.width=Math.min(Math.max(e,0),100)+"%"}window.addEventListener("scroll",()=>{e||(window.requestAnimationFrame(()=>{a(),e=!1}),e=!0)},{passive:!0}),setTimeout(a,100)}}document.addEventListener("DOMContentLoaded",()=>{initDarkMode(),loadIncludes().then(()=>{setTimeout(()=>{initAdaptiveMenu()},50)}),initResponsiveHandler(),initHeroAnimations(),initHeroParallax(),initStatsCounter(),initScrollAnimations(),initLazyLoading(),initNewsHubAnimations(),initFeaturedNewsCarousel(),initTestimonialsCarousel(),initNewsletterForm(),initNewsSubscribeForm(),initBlogSubscribeForm(),initCookieConsent(),initSmoothScroll(),initBackToTop(),initHeaderScroll(),initLegalPages()}),window.addEventListener("load",()=>{document.body.classList.add("loaded")});let isSoundPlaying=!1,soundLibrary={powerup:()=>playBeep([440,554,659,880],[100,100,100,300]),coin:()=>playBeep([988,1319],[100,300]),glitch:()=>playBeep([200,150,100,200],[50,50,50,100]),snap:()=>playBeep([800,600,400,200,100],[100,100,100,100,200]),levelup:()=>playBeep([523,659,784,1047],[150,150,150,400]),success:()=>playBeep([523,587,659,784],[100,100,100,300]),error:()=>playBeep([392,349,294],[150,150,300])};function playBeep(e,r){try{isSoundPlaying=!0;let a=new(window.AudioContext||window.webkitAudioContext),s=a.currentTime,i=0;e.forEach((e,t)=>{var o=a.createOscillator(),n=a.createGain();o.connect(n),n.connect(a.destination),o.type="square",o.frequency.value=e,n.gain.setValueAtTime(0,s),n.gain.linearRampToValueAtTime(.3,s+.01),n.gain.exponentialRampToValueAtTime(.01,s+r[t]/1e3),o.start(s),o.stop(s+r[t]/1e3),s+=r[t]/1e3,i+=r[t]}),setTimeout(()=>{isSoundPlaying=!1},i)}catch(e){isSoundPlaying=!1}}function playSound(e){window.areEasterEggsDisabled?.()||soundLibrary[e]&&soundLibrary[e]()}function createLongPressHandler(t,e={}){if(!t)return null;let{onActivate:o,duration:n=600,mobileOnly:a=!0,feedback:s={}}=e,{scaleDown:i=.95,scaleUp:r=1.1,glowColor:l="var(--accent-primary)"}=s,c=null,d=!1,u=e=>{a&&1024<window.innerWidth||window.areEasterEggsDisabled?.()||(d=!1,t.style.transform=`scale(${i})`,t.style.transition="transform 0.1s ease",c=setTimeout(()=>{d=!0,o&&o(),t.style.transform=`scale(${r})`,t.style.boxShadow="0 0 20px "+l,navigator.vibrate&&navigator.vibrate(200),setTimeout(()=>{t.style.transform="",t.style.boxShadow=""},500)},n))},m=e=>{if(clearTimeout(c),t.style.transform="",d)return e?.preventDefault?.(),e?.stopPropagation?.(),d=!1},p=()=>{clearTimeout(c),t.style.transform=""};return t.addEventListener("touchstart",u,{passive:!0}),t.addEventListener("touchend",m),t.addEventListener("touchmove",p),t.addEventListener("mousedown",u),t.addEventListener("mouseup",m),t.addEventListener("mouseleave",m),{destroy:()=>{t.removeEventListener("touchstart",u),t.removeEventListener("touchend",m),t.removeEventListener("touchmove",p),t.removeEventListener("mousedown",u),t.removeEventListener("mouseup",m),t.removeEventListener("mouseleave",m)}}}function initKonamiCode(){if(document.body.classList.contains("home")){let n=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],a=0;document.addEventListener("keydown",e=>{var t,o;window.areEasterEggsDisabled?.()||e.key&&(t=e.key.toLowerCase(),o=n[a],e.key===o||t===o?++a===n.length&&(activateNESMode(),easterEggTracker.unlock("konami"),a=0):(a,a=0))})}}function activateNESMode(){playSound("powerup"),showNotification("üéÆ ¬°C√ìDIGO KONAMI DESBLOQUEADO! NES Mode Activated","success");let e=document.createElement("div"),t=(e.id="nes-overlay",e.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 999999;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.4s ease;
    background: linear-gradient(
      0deg,
      rgba(255, 0, 0, 0.08) 0%,
      rgba(255, 128, 0, 0.08) 16.66%,
      rgba(255, 255, 0, 0.08) 33.33%,
      rgba(0, 255, 0, 0.08) 50%,
      rgba(0, 128, 255, 0.08) 66.66%,
      rgba(128, 0, 255, 0.08) 83.33%,
      rgba(255, 0, 255, 0.08) 100%
    );
    animation: rainbowShift 3s linear infinite;
  `,document.body.appendChild(e),{imageRendering:document.body.style.imageRendering,filter:document.body.style.filter,transform:document.body.style.transform}),o=(document.body.style.transition="all 0.5s ease",document.body.style.imageRendering="pixelated",document.body.style.filter="contrast(1.2) saturate(1.2) hue-rotate(3deg)",document.createElement("div")),n=(o.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      0deg,
      rgba(0, 0, 0, 0.08),
      rgba(0, 0, 0, 0.08) 2px,
      transparent 2px,
      transparent 4px
    );
    pointer-events: none;
    z-index: 999998;
    opacity: 0;
    transition: opacity 0.4s ease;
  `,document.body.appendChild(o),/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),a=document.createElement("div");var s=window.pageYOffset||document.documentElement.scrollTop;a.style.cssText=`
    position: absolute;
    top: ${s+window.innerHeight/2}px;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000000;
    background: linear-gradient(135deg, #1a1a1a 0%, #000 100%);
    color: #fff;
    padding: ${n?"1.5rem 2rem":"2.5rem 3.5rem"};
    border: 3px solid #fff;
    border-radius: 4px;
    font-family: 'Press Start 2P', 'Courier New', monospace;
    font-size: ${n?"1rem":"1.5rem"};
    text-align: center;
    box-shadow: 
      0 0 0 6px #000,
      0 0 0 9px #fff,
      0 0 30px rgba(6, 255, 165, 0.4),
      inset 0 0 20px rgba(6, 255, 165, 0.1);
    opacity: 0;
    animation: blink 0.5s step-end infinite, fadeIn 0.6s ease forwards;
  `,a.innerHTML=`
    <div style="color: #ff6b6b; margin-bottom: 1rem; text-shadow: 2px 2px 0 rgba(0,0,0,0.5);">‚òÖ POWER UP! ‚òÖ</div>
    <div style="color: #ffd166; font-size: ${n?"0.85rem":"1rem"}; text-shadow: 2px 2px 0 rgba(0,0,0,0.5);">+1000 POINTS</div>
    <div style="color: #06ffa5; font-size: ${n?"0.7rem":"0.8rem"}; margin-top: 1rem; text-shadow: 1px 1px 0 rgba(0,0,0,0.5);">KONAMI CODE UNLOCKED</div>
  `,document.body.appendChild(a);let i=["‚òÖ","‚ô•","‚óè","‚ñ†","‚ñ≤","‚ô¶"],r=[];var l=n?8:12;for(let e=0;e<l;e++)setTimeout(()=>{let e=document.createElement("div");var t=i[Math.floor(Math.random()*i.length)],o=["#ff6b6b","#ffd166","#06ffa5","#4ecdc4","#a8dadc"][Math.floor(5*Math.random())];e.style.cssText=`
        position: fixed;
        left: ${100*Math.random()}vw;
        top: -50px;
        font-size: ${n?15+20*Math.random():20+25*Math.random()}px;
        color: ${o};
        z-index: 999997;
        pointer-events: none;
        animation: nesFloat ${4+2*Math.random()}s ease-in-out;
        text-shadow: 
          1px 1px 0px rgba(0, 0, 0, 0.8),
          -1px -1px 0px rgba(0, 0, 0, 0.8),
          1px -1px 0px rgba(0, 0, 0, 0.8),
          -1px 1px 0px rgba(0, 0, 0, 0.8);
        filter: drop-shadow(0 0 8px ${o});
      `,e.textContent=t,document.body.appendChild(e),r.push(e),setTimeout(()=>e.remove(),6e3)},150*e);setTimeout(()=>{e.style.opacity="0.15",o.style.opacity="0.4"},100),document.getElementById("nes-animations")||((s=document.createElement("style")).id="nes-animations",s.textContent=`
      @keyframes rainbowShift {
        0% { filter: hue-rotate(0deg); }
        100% { filter: hue-rotate(360deg); }
      }
      @keyframes blink {
        0%, 49% { opacity: 1; }
        50%, 100% { opacity: 0.8; }
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
      }
      @keyframes nesFloat {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        50% {
          opacity: 0.8;
        }
        100% {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }
    `,document.head.appendChild(s)),setTimeout(()=>{e.style.opacity="0",o.style.opacity="0",a.style.animation="fadeOut 0.5s ease forwards",document.body.style.imageRendering=t.imageRendering,document.body.style.filter=t.filter,document.body.style.transform=t.transform,setTimeout(()=>{e.remove(),o.remove(),a.remove(),r.forEach(e=>e.remove())},500)},7e3)}function initLogoEasterEgg(){document.body.classList.contains("home")&&setTimeout(()=>{var e=document.querySelector(".hero-content h1");if(e){let t=0,o=null;e.addEventListener("click",e=>{window.areEasterEggsDisabled?.()||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024||(e.preventDefault(),t++,o&&clearTimeout(o),2===t&&(activateGlitchStats(),easterEggTracker.unlock("logo"),t=0),o=setTimeout(()=>{t=0},500))}),e.style.cursor="pointer",e.style.userSelect="none"}},1e3)}function activateGlitchStats(){playSound("glitch"),document.getElementById("glitch-styles")||((t=document.createElement("style")).id="glitch-styles",t.textContent=`
      @keyframes glitch {
        0%, 100% { transform: translate(0); }
        20% { transform: translate(-2px, 2px); }
        40% { transform: translate(2px, -2px); }
        60% { transform: translate(-2px, -2px); }
        80% { transform: translate(2px, 2px); }
      }
    `,document.head.appendChild(t));let s=document.querySelector(".hero-content h1");if(s){let o=s.textContent,n=(s.style.animation="glitch 0.5s ease",s.style.color="var(--accent-primary)",0),a=setInterval(()=>{let t="!@#$%^&*()_+{}|:<>?[];',./`~";var e=o.split("").map(e=>.7<Math.random()?t[Math.floor(Math.random()*t.length)]:e).join("");s.textContent=e,10<++n&&(clearInterval(a),s.textContent=o,s.style.animation="",s.style.color="")},50)}let e=document.querySelector(".site-logo");e&&(e.style.animation="glitch 0.5s ease",setTimeout(()=>{e.style.animation=""},500));var t=["üëæ Geeks conectados: "+(Math.floor(9e3*Math.random())+1e3),`üéÆ Easter Eggs encontrados: ${Math.floor(9*Math.random())+1}/9`,`‚ö° Nivel Geek: ${Math.floor(100*Math.random())}%`,`üî• Racha actual: ${Math.floor(50*Math.random())} d√≠as`];showNotification(t[Math.floor(Math.random()*t.length)],"info"),document.getElementById("glitch-styles")||((t=document.createElement("style")).id="glitch-styles",t.textContent=`
      @keyframes glitch {
        0%, 100% { transform: translate(0); }
        20% { transform: translate(-2px, 2px); }
        40% { transform: translate(-2px, -2px); }
        60% { transform: translate(2px, 2px); }
        80% { transform: translate(2px, -2px); }
      }
    `,document.head.appendChild(t))}function initSecretWords(){if(document.body.classList.contains("home")){let t="",o={matrix:activateMatrixRainMode,retro:activate8BitMode,thanos:activateSnapEffect};document.addEventListener("keypress",e=>{window.areEasterEggsDisabled&&window.areEasterEggsDisabled()||e.key&&/^[a-z]$/i.test(e.key)&&(10<(t+=e.key.toLowerCase()).length&&(t=t.slice(-10)),Object.keys(o).forEach(e=>{t.endsWith(e)&&(o[e](),t="")}))})}}function activateMatrixRainMode(){playSound("glitch"),showNotification("üü¢ MATRIX MODE: Follow the white rabbit...","success"),easterEggTracker.unlock("matrix");let o=document.createElement("canvas"),n=(o.id="matrix-rain-canvas",o.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 999999;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.5s ease;
  `,document.body.appendChild(o),o.getContext("2d")),a=(o.width=window.innerWidth,o.height=window.innerHeight,"„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥„Çµ„Ç∑„Çπ„Çª„ÇΩ„Çø„ÉÅ„ÉÑ„ÉÜ„Éà„Éä„Éã„Éå„Éç„Éé„Éè„Éí„Éï„Éò„Éõ„Éû„Éü„É†„É°„É¢„É§„É¶„É®„É©„É™„É´„É¨„É≠„ÉØ„É≤„É≥01");var e=o.width/14;let s=Array(Math.floor(e)).fill(1),t=(setTimeout(()=>o.style.opacity="0.9",100),setInterval(()=>{n.fillStyle="rgba(0, 0, 0, 0.05)",n.fillRect(0,0,o.width,o.height),n.fillStyle="#0F0",n.font="14px monospace";for(let e=0;e<s.length;e++){var t=a[Math.floor(Math.random()*a.length)];n.fillText(t,14*e,14*s[e]),14*s[e]>o.height&&.975<Math.random()&&(s[e]=0),s[e]++}},33));setTimeout(()=>{let e=document.createElement("div");e.style.cssText=`
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10000000;
      color: #0F0;
      font-family: 'Courier New', monospace;
      font-size: 2rem;
      text-align: center;
      text-shadow: 0 0 10px #0F0;
      opacity: 0;
      animation: fadeIn 1s ease forwards;
    `,e.innerHTML=`
      <div>Wake up, Neo...</div>
      <div style="font-size: 1rem; margin-top: 1rem;">The Matrix has you.</div>
    `,document.body.appendChild(e),setTimeout(()=>{e.style.animation="fadeOut 1s ease forwards",setTimeout(()=>e.remove(),1e3)},3e3)},2e3),setTimeout(()=>{o.style.opacity="0",setTimeout(()=>{clearInterval(t),o.remove()},500)},1e4)}function activate8BitMode(){playSound("coin"),showNotification("üïπÔ∏è MODO RETRO 8-BIT ACTIVADO!","info"),easterEggTracker.unlock("retro"),document.body.style.transition="all 0.5s ease",document.body.style.imageRendering="pixelated",document.body.style.filter="contrast(1.2) saturate(1.5)";let e=document.createElement("div");e.id="scanlines-overlay",e.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      0deg,
      rgba(0, 0, 0, 0.15),
      rgba(0, 0, 0, 0.15) 1px,
      transparent 1px,
      transparent 2px
    );
    pointer-events: none;
    z-index: 999998;
    opacity: 0;
    transition: opacity 0.5s ease;
  `,document.body.appendChild(e),setTimeout(()=>e.style.opacity="0.5",100),setTimeout(()=>{document.body.style.imageRendering="",document.body.style.filter="",e.style.opacity="0",setTimeout(()=>e.remove(),500)},6e3)}function activateSnapEffect(){playSound("snap"),showNotification("üíé THANOS SNAP ACTIVADO! *chasquido*","error"),easterEggTracker.unlock("thanos");var e=document.querySelectorAll("section > *, .hero-badge, .about-stat, .about-card, .feature-card, .featured-slide"),e=Array.from(e);let t=e.sort(()=>Math.random()-.5).slice(0,Math.floor(e.length/2));t.forEach((e,t)=>{setTimeout(()=>{e.style.transition="all 1s ease",e.style.opacity="0",e.style.transform="scale(0.8) translateY(20px)",e.style.filter="blur(5px)"},50*t)}),setTimeout(()=>{t.forEach(e=>{e.style.transition="all 1s ease",e.style.opacity="",e.style.transform="",e.style.filter="",setTimeout(()=>{e.style.transition=""},1e3)})},4e3)}function initTimeEasterEgg(){if(document.body.classList.contains("home")){let o=!1;setInterval(()=>{var e=new Date,t=e.getHours(),e=e.getMinutes();(3===t&&33===e||15===t&&33===e)&&!o&&(o=!0,activateJumpScare(),setTimeout(()=>{o=!1},12e4))},6e4)}}function activateJumpScare(){playSound("error");let e=document.createElement("div");e.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #000;
    z-index: 99999999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 1;
  `,document.body.appendChild(e);var t=document.createElement("div"),t=(t.style.cssText=`
    font-size: 10rem;
    animation: glitchScare 0.1s infinite;
    text-shadow: 0 0 30px #ff0000;
    z-index: 100000000;
  `,t.textContent="üëª",e.appendChild(t),document.createElement("div"));t.style.cssText=`
    position: absolute;
    bottom: 30%;
    color: #ff0000;
    font-size: 2.5rem;
    font-family: 'Courier New', monospace;
    text-align: center;
    animation: blink 0.3s infinite;
    z-index: 100000000;
    text-shadow: 0 0 10px #ff0000;
    font-weight: bold;
  `,t.textContent="3:33... LA HORA DEL DIABLO",e.appendChild(t),document.getElementById("jumpscare-styles")||((t=document.createElement("style")).id="jumpscare-styles",t.textContent=`
      @keyframes glitchScare {
        0% { transform: translate(0) scale(1); filter: hue-rotate(0deg); }
        20% { transform: translate(-10px, 10px) scale(1.1); filter: hue-rotate(90deg); }
        40% { transform: translate(10px, -10px) scale(0.9); filter: hue-rotate(180deg); }
        60% { transform: translate(-10px, -10px) scale(1.1); filter: hue-rotate(270deg); }
        80% { transform: translate(10px, 10px) scale(0.9); filter: hue-rotate(360deg); }
        100% { transform: translate(0) scale(1); filter: hue-rotate(0deg); }
      }
    `,document.head.appendChild(t)),setTimeout(()=>{e.style.transition="opacity 0.5s ease",e.style.opacity="0",setTimeout(()=>e.remove(),500),showNotification("‚è∞ ¬øTe asust√©? üòà Son las 3:33... hora m√°gica","error")},3e3)}function initCornerClicks(){if(document.body.classList.contains("home")){let i=["top-left","top-right","bottom-right","bottom-left"],r=0,l=Date.now();var e;document.addEventListener("click",e=>{if(!window.areEasterEggsDisabled?.()){var o=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!(o||window.innerWidth<=1024)){var o=e.clientX,e=e.clientY,n=window.innerWidth,a=window.innerHeight,s=120;let t=null;if(o<s&&e<s?t="top-left":n-s<o&&e<s?t="top-right":n-s<o&&a-s<e?t="bottom-right":o<s&&a-s<e&&(t="bottom-left"),6e3<Date.now()-l&&(r=0),t&&t===i[r]){r++,l=Date.now();let e=document.createElement("div");e.textContent={"top-left":"‚ÜñÔ∏è","top-right":"‚ÜóÔ∏è","bottom-right":"‚ÜòÔ∏è","bottom-left":"‚ÜôÔ∏è"}[t],e.style.cssText=`
        position: fixed;
        ${t.includes("top")?"top: 20px":"bottom: 20px"};
        ${t.includes("left")?"left: 20px":"right: 20px"};
        font-size: 3rem;
        z-index: 10001;
        animation: pulseCorner 0.5s ease;
        pointer-events: none;
      `,document.body.appendChild(e),setTimeout(()=>e.remove(),500),playSound("coin"),r===i.length&&(activateDeveloperConsole(),easterEggTracker.unlock("corners"),r=0)}else if(t){let e=document.createElement("div");e.textContent="‚ùå",e.style.cssText=`
        position: fixed;
        ${t.includes("top")?"top: 20px":"bottom: 20px"};
        ${t.includes("left")?"left: 20px":"right: 20px"};
        font-size: 2rem;
        z-index: 10001;
        animation: pulseCorner 0.3s ease;
        pointer-events: none;
      `,document.body.appendChild(e),setTimeout(()=>e.remove(),300),r=0}}}}),document.getElementById("corner-pulse-style")||((e=document.createElement("style")).id="corner-pulse-style",e.textContent=`
      @keyframes pulseCorner {
        0% { transform: scale(0); opacity: 1; }
        50% { transform: scale(1.5); opacity: 0.8; }
        100% { transform: scale(0); opacity: 0; }
      }
    `,document.head.appendChild(e))}}function activateDeveloperConsole(){playSound("levelup"),showNotification("üíª ¬°DEVELOPER CONSOLE DESBLOQUEADO! Revisa F12","success"),easterEggTracker.unlock("corners"),console.clear(),console.log("%cüéÆ SALA GEEK - DEVELOPER MODE","font-size: 28px; color: #ffd166; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);"),console.log("%c‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê","color: #ffd166;"),console.log("%c¬°Felicidades! Has desbloqueado el Developer Console","font-size: 16px; color: #48bb78; font-weight: bold;"),console.log("%c ",""),console.log("%cEstad√≠sticas del sitio:","font-size: 14px; color: #4299e1; font-weight: bold;"),console.table({"üéØ Versi√≥n":"2.0.0","üéÆ Easter Eggs":"9 Desktop + 6 Mobile","‚ö° Nivel Geek":"LEGENDARY","üíª Framework":"Vanilla JS","üì¶ L√≠neas de c√≥digo":"~3500+","üé® Tema":"Dark/Light Mode"}),console.log("%c ",""),console.log("%cüí° ¬øQuieres ver todos los Easter Eggs?","font-size: 12px; color: #f6ad55; font-weight: bold;"),console.log("%cEjecuta: showAllEasterEggs()","color: #06ffa5; font-style: italic;"),console.log("%c‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê","color: #ffd166;"),window.showAllEasterEggs=function(){console.clear(),console.log("%cüéØ LISTA COMPLETA DE EASTER EGGS","font-size: 20px; color: #ffd166; font-weight: bold;"),console.log("%c‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê","color: #ffd166;"),console.log("%cüíª DESKTOP (9 Easter Eggs):","font-size: 14px; color: #4ecdc4; font-weight: bold;"),console.log("%c1. üéÆ C√≥digo Konami: ‚¨ÜÔ∏è‚¨ÜÔ∏è‚¨áÔ∏è‚¨áÔ∏è‚¨ÖÔ∏è‚û°Ô∏è‚¨ÖÔ∏è‚û°Ô∏èBA","color: #fff;"),console.log("%c2. ‚ú® Doble click en 'Sala Geek' del hero","color: #fff;"),console.log("%c3. üü¢ Escribir: 'matrix' (Matrix Rain)","color: #fff;"),console.log("%c4. üïπÔ∏è Escribir: 'retro' (8-Bit Mode)","color: #fff;"),console.log("%c5. üíé Escribir: 'thanos' (Snap Effect)","color: #fff;"),console.log("%c6. üî≤ Click en esquinas: ‚ÜñÔ∏è‚ÜóÔ∏è‚ÜòÔ∏è‚ÜôÔ∏è","color: #fff;"),console.log("%c7. üñ±Ô∏è Shake del mouse (mover r√°pido)","color: #fff;"),console.log("%c8. ‚å®Ô∏è Ctrl + Shift + G (Geek Mode)","color: #fff;"),console.log("%c9. üìú Scroll al 100% (mensaje secreto)","color: #fff;"),console.log("%c ",""),console.log("%cüì± MOBILE (6 Easter Eggs):","font-size: 14px; color: #ff6b6b; font-weight: bold;"),console.log("%c1. üéÆ Triple tap en 'Sala Geek'","color: #fff;"),console.log("%c2. ‚ú® Long press en email newsletter","color: #fff;"),console.log("%c3. üïπÔ∏è Long press en bot√≥n '√önete Ahora'","color: #fff;"),console.log("%c4. üíé Double tap en copyright","color: #fff;"),console.log("%c5. ‚å®Ô∏è Long press en 'Sala Geek' del footer","color: #fff;"),console.log("%c6. üìú Scroll al 100% (mensaje secreto)","color: #fff;"),console.log("%c‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê","color: #ffd166;"),console.log("%cüèÜ ¬°Desbloque√°los todos para ser un DIOS GEEK!","font-size: 14px; color: #06ffa5; font-weight: bold;")}}function initMouseShake(){if(document.body.classList.contains("home")){let a=0,s=0,i=0,r=null,l=!1,c=[];document.addEventListener("mousemove",e=>{var t,o,n;/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024||l||(t=e.clientX,e=e.clientY,n=t-a,o=e-s,30<Math.sqrt(n*n+o*o)&&(c.push({x:t,y:e,time:Date.now()}),20<c.length&&c.shift(),3<=c.length&&(o=(n=c.slice(-3))[1].x-n[0].x,n=n[2].x-n[1].x,0<o&&n<0||o<0&&0<n)&&i++,15<=i)&&c[c.length-1].time-c[0].time<2e3&&(activateMouseDodge(),i=0,l=!0,c=[]),r&&clearTimeout(r),r=setTimeout(()=>{i=0,c=[]},1e3),a=t,s=e)})}}function activateMouseDodge(){playSound("coin"),showNotification("üèÉ ¬°Los elementos te esquivan! Mueve el mouse r√°pido","success"),easterEggTracker.unlock("shake");let e=document.querySelectorAll(".hero-badge, .btn, .about-stat, .about-card, .feature-card"),t=(e.forEach(e=>{e.style.transition="transform 0.15s ease-out",e.dataset.originalTransform=e.style.transform||""}),a=>{e.forEach(e=>{var t=e.getBoundingClientRect(),o=t.left+t.width/2,o=a.clientX-o,t=a.clientY-(t.top+t.height/2),n=Math.sqrt(o*o+t*t);n<180?(t=Math.atan2(t,o),o=Math.max(0,180-n)/2.5,n=-Math.cos(t)*o,t=-Math.sin(t)*o,e.style.transform=`translate(${n}px, ${t}px) scale(1.05) `+e.dataset.originalTransform):e.style.transform=e.dataset.originalTransform})});document.addEventListener("mousemove",t),setTimeout(()=>{document.removeEventListener("mousemove",t),e.forEach(e=>{e.style.transform=e.dataset.originalTransform,e.style.transition="",delete e.dataset.originalTransform}),showNotification("üéØ Mouse Dodge desactivado","info")},6e3)}function initKeyboardCombo(){document.body.classList.contains("home")&&document.addEventListener("keydown",e=>{/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024||e.ctrlKey&&e.shiftKey&&"G"===e.key&&(e.preventDefault(),activateGeekMode())})}function activateGeekMode(){playSound("levelup"),showNotification("ü§ì ¬°GEEK MODE ACTIVADO! Terminal Hacker Style","success"),easterEggTracker.unlock("combo");let o=document.createElement("div");o.id="geek-mode-terminal",o.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(0, 20, 0, 0.98) 0%, rgba(0, 0, 0, 0.98) 100%);
    color: #00ff00;
    font-family: 'Courier New', monospace;
    padding: 2rem;
    z-index: 999999;
    overflow-y: auto;
    opacity: 0;
    transition: opacity 0.3s ease;
    text-shadow: 0 0 5px rgba(0, 255, 0, 0.5);
  `;let n="<div style='margin-bottom: 1rem; border-bottom: 2px solid #00ff00; padding-bottom: 0.5rem;'><span style='color:#ffd166'>‚îå‚îÄ[</span><span style='color:#ff6b6b'>root</span><span style='color:#ffd166'>@</span><span style='color:#06ffa5'>sala-geek</span><span style='color:#ffd166'>]</span><br><span style='color:#ffd166'>‚îî‚îÄ‚îÄ‚ïº $</span></div>",t=(["$ iniciando sistema...","$ autenticando credenciales geek...","$ [<span style='color:#00ff00'>OK</span>] Anime Database","$ [<span style='color:#00ff00'>OK</span>] Gaming News Feed","$ [<span style='color:#00ff00'>OK</span>] Tech Updates Stream","$ [<span style='color:#00ff00'>OK</span>] Pop Culture Monitor","$ [<span style='color:#00ff00'>OK</span>] Easter Egg Tracker","$ <span style='color:#ffd166'>================================</span>","$ <span style='color:#06ffa5'>SALA GEEK</span> v2.0.0","$ Sistema: <span style='color:#00ff00'>OPERATIONAL</span>","$ Nivel Geek: <span style='color:#ff6b6b'>LEGENDARY</span>","$ Easter Eggs: <span style='color:#ffd166'>15/15</span> disponibles","$ Uptime: <span style='color:#4ecdc4'>‚àû</span> d√≠as","$ <span style='color:#ffd166'>================================</span>","$ <span style='color:#ff6b6b'>ACCESO COMPLETO OTORGADO</span>","$ Presiona <span style='color:#ffd166'>ESC</span> para salir..."].forEach((e,t)=>{setTimeout(()=>{n+=e+"<br>",o.innerHTML=n,o.scrollTop=o.scrollHeight},150*t)}),document.body.appendChild(o),setTimeout(()=>o.style.opacity="1",100),e=>{"Escape"===e.key&&(o.style.opacity="0",setTimeout(()=>o.remove(),300),document.removeEventListener("keydown",t))});document.addEventListener("keydown",t)}function initSpecialDates(){var e=new Date,t=e.getMonth()+1,e=e.getDate();5===t&&4===e&&setTimeout(()=>{showNotification("üåü May the 4th be with you! Happy Star Wars Day!","info"),applyStarWarsTheme()},2e3),3===t&&14===e&&setTimeout(()=>{showNotification("ü•ß Happy Pi Day! œÄ = 3.14159265...","info"),rainPiNumbers(),applyMathTheme()},2e3),10===t&&31===e&&setTimeout(()=>{showNotification("üéÉ Happy Halloween! Boo! üëª","info"),applyHalloweenTheme()},2e3),12!==t||24!==e&&25!==e||setTimeout(()=>{showNotification("üéÑ ¬°Feliz Navidad! Ho Ho Ho! üéÖ","success"),applyChristmasTheme()},2e3),(12===t&&31===e||1===t&&1===e)&&setTimeout(()=>{showNotification(`üéÜ ¬°Feliz A√±o Nuevo! ${(new Date).getFullYear()} üéâ`,"success"),applyNewYearTheme()},2e3)}function applyStarWarsTheme(){console.log("üåü Aplicando tema Star Wars"),playSound("powerup");let e=document.createElement("div");e.id="starwars-overlay",e.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: linear-gradient(180deg, #000000 0%, #0a0a2e 100%);
    z-index: 9998;
    pointer-events: none;
    opacity: 0;
    transition: opacity 1s ease;
  `,document.body.appendChild(e),setTimeout(()=>e.style.opacity="0.8",100);for(let e=0;e<150;e++)setTimeout(()=>{var e=document.createElement("div");e.className="starwars-star",e.style.cssText=`
        position: fixed;
        width: ${1+3*Math.random()}px;
        height: ${1+3*Math.random()}px;
        background: white;
        border-radius: 50%;
        left: ${100*Math.random()}vw;
        top: ${100*Math.random()}vh;
        z-index: 9999;
        pointer-events: none;
        animation: twinkle ${1+2*Math.random()}s infinite;
        box-shadow: 0 0 ${2+4*Math.random()}px white;
      `,document.body.appendChild(e)},20*e);setTimeout(()=>{let e=document.createElement("div");e.style.cssText=`
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #FFE81F;
      font-size: 3rem;
      font-weight: bold;
      text-align: center;
      z-index: 10000;
      text-shadow: 0 0 20px #FFE81F;
      animation: fadeIn 2s ease;
    `,e.textContent="May the 4th be with you",document.body.appendChild(e),setTimeout(()=>{e.style.animation="fadeOut 1s ease",setTimeout(()=>e.remove(),1e3)},4e3)},1e3),setTimeout(()=>{e.style.opacity="0",document.querySelectorAll(".starwars-star").forEach(e=>e.remove()),setTimeout(()=>e.remove(),1e3)},12e3)}function applyMathTheme(){console.log("ü•ß Aplicando tema matem√°tico");let e=document.createElement("div");e.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(255, 209, 102, 0.1);
    z-index: 9998;
    pointer-events: none;
    opacity: 0;
    transition: opacity 1s ease;
  `,document.body.appendChild(e),setTimeout(()=>e.style.opacity="1",100),setTimeout(()=>{e.style.opacity="0",setTimeout(()=>e.remove(),1e3)},12e3)}function applyHalloweenTheme(){var e;console.log("üéÉ Aplicando tema Halloween"),playSound("error"),document.getElementById("fall-animation")||((e=document.createElement("style")).id="fall-animation",e.textContent=`
      @keyframes fall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }
    `,document.head.appendChild(e));let t=document.createElement("div");t.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(255, 102, 0, 0.15);
    z-index: 9998;
    pointer-events: none;
    opacity: 0;
    transition: opacity 1s ease;
  `,document.body.appendChild(t),setTimeout(()=>t.style.opacity="1",100);for(let e=0;e<15;e++)setTimeout(()=>{let e=document.createElement("div");e.textContent=["üéÉ","üëª","ü¶á","üíÄ"][Math.floor(4*Math.random())],e.style.cssText=`
        position: fixed;
        font-size: ${30+40*Math.random()}px;
        left: ${100*Math.random()}vw;
        top: -100px;
        z-index: 9999;
        pointer-events: none;
        animation: fall ${5+3*Math.random()}s linear forwards;
        filter: drop-shadow(0 0 10px orange);
      `,document.body.appendChild(e),setTimeout(()=>e.remove(),8e3)},400*e);setTimeout(()=>{t.style.opacity="0",setTimeout(()=>t.remove(),1e3)},12e3)}function applyChristmasTheme(){var e;console.log("üéÑ Aplicando tema Navidad"),playSound("success"),document.getElementById("fall-animation")||((e=document.createElement("style")).id="fall-animation",e.textContent=`
      @keyframes fall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }
    `,document.head.appendChild(e));let t=document.createElement("div");t.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(135, 206, 250, 0.1);
    z-index: 9998;
    pointer-events: none;
    opacity: 0;
    transition: opacity 1s ease;
  `,document.body.appendChild(t),setTimeout(()=>t.style.opacity="1",100);for(let e=0;e<80;e++)setTimeout(()=>{let e=document.createElement("div");e.textContent=["‚ùÑÔ∏è","‚õÑ","üéÑ","üéÖ"][Math.floor(10*Math.random())<7?0:Math.floor(4*Math.random())],e.style.cssText=`
        position: fixed;
        font-size: ${10+25*Math.random()}px;
        left: ${100*Math.random()}vw;
        top: -50px;
        z-index: 9999;
        pointer-events: none;
        animation: fall ${3+3*Math.random()}s linear forwards;
        opacity: ${.6+.4*Math.random()};
        filter: drop-shadow(0 0 5px white);
      `,document.body.appendChild(e),setTimeout(()=>e.remove(),6e3)},80*e);setTimeout(()=>{t.style.opacity="0",setTimeout(()=>t.remove(),1e3)},15e3)}function applyNewYearTheme(){console.log("üéÜ Aplicando tema A√±o Nuevo"),playSound("success");let e=document.createElement("div");e.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: linear-gradient(180deg, rgba(255,215,0,0.1) 0%, rgba(255,20,147,0.1) 100%);
    z-index: 9998;
    pointer-events: none;
    opacity: 0;
    transition: opacity 1s ease;
  `,document.body.appendChild(e),setTimeout(()=>e.style.opacity="1",100);for(let e=0;e<30;e++)setTimeout(()=>{let e=document.createElement("div");e.textContent=["üéÜ","üéá","‚ú®","üí•","üéâ"][Math.floor(5*Math.random())],e.style.cssText=`
        position: fixed;
        font-size: ${40+50*Math.random()}px;
        left: ${100*Math.random()}vw;
        top: ${60*Math.random()}vh;
        z-index: 9999;
        pointer-events: none;
        animation: explode 1.5s ease-out;
        filter: drop-shadow(0 0 10px gold);
      `,document.body.appendChild(e),setTimeout(()=>e.remove(),1500)},250*e);var t;document.getElementById("explode-animation")||((t=document.createElement("style")).id="explode-animation",t.textContent=`
      @keyframes explode {
        0% { transform: scale(0) rotate(0deg); opacity: 1; }
        50% { transform: scale(1.5) rotate(180deg); opacity: 1; }
        100% { transform: scale(0) rotate(360deg); opacity: 0; }
      }
    `,document.head.appendChild(t)),setTimeout(()=>{e.style.opacity="0",setTimeout(()=>e.remove(),1e3)},12e3)}function rainPiNumbers(){let t="31415926535897932384626433832795028841971693993751",o=document.createElement("div");o.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 999997;
    overflow: hidden;
  `,document.body.appendChild(o);for(let e=0;e<30;e++)setTimeout(()=>{let e=document.createElement("div");e.textContent=t[Math.floor(Math.random()*t.length)],e.style.cssText=`
        position: absolute;
        top: -50px;
        left: ${100*Math.random()}%;
        font-size: ${20+30*Math.random()}px;
        color: #ffd166;
        font-weight: bold;
        animation: fall ${3+2*Math.random()}s linear;
        opacity: 0.8;
      `,o.appendChild(e),setTimeout(()=>e.remove(),5e3)},100*e);var e;document.getElementById("fall-animation")||((e=document.createElement("style")).id="fall-animation",e.textContent=`
      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }
    `,document.head.appendChild(e)),setTimeout(()=>o.remove(),6e3)}function initScrollSecret(){if(document.body.classList.contains("home")){let e=!1;window.addEventListener("scroll",()=>{window.areEasterEggsDisabled?.()||e||document.documentElement.scrollHeight-10<=(window.pageYOffset||document.documentElement.scrollTop)+window.innerHeight&&(e=!0,revealFooterSecret())})}}function revealFooterSecret(){var e,t;!window.areEasterEggsDisabled?.()&&(playSound("success"),showNotification("üéâ ¬°MENSAJE SECRETO DESBLOQUEADO! Mira el footer...","success"),easterEggTracker.unlock("scroll"),t=document.querySelector(".site-footer"))&&((e=document.createElement("div")).className="footer-secret-message",e.style.cssText=`
      text-align: center;
      padding: 1rem;
      margin-top: 1rem;
      margin-bottom: 0;
      background: linear-gradient(135deg, rgba(255, 209, 102, 0.1), rgba(239, 71, 111, 0.1));
      border-radius: 8px;
      border: 2px solid var(--accent-primary);
      animation: pulse 2s ease-in-out infinite;
      z-index: 1;
      position: relative;
    `,e.innerHTML=`
      <p style="margin: 0; color: var(--accent-primary); font-weight: bold;">
        üèÜ ¬°FELICIDADES! Llegaste hasta el final
      </p>
      <p style="margin: 0.5rem 0 0; color: var(--text-secondary); font-size: 0.9rem;">
        Eres un verdadero geek. Sigue explorando para m√°s secretos üéÆ
      </p>
    `,t.appendChild(e),document.getElementById("pulse-animation")||((t=document.createElement("style")).id="pulse-animation",t.textContent=`
        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.02); opacity: 0.8; }
        }
      `,document.head.appendChild(t)))}let easterEggTracker={eggs:{konami:!1,logo:!1,matrix:!1,retro:!1,thanos:!1,corners:!1,shake:!1,combo:!1,scroll:!1},isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024,getTotalEggs(){return this.isMobile?6:9},getLevel(){let t=this.getUnlockedCount();var e;return this.isMobile?(e=[{name:"Novato",min:0,max:0},{name:"Explorador",min:1,max:1},{name:"Cazador",min:2,max:3},{name:"Maestro",min:4,max:4},{name:"Leyenda",min:5,max:5},{name:"Dios Geek",min:6,max:1/0}]).find(e=>t>=e.min&&t<=e.max)||e[0]:(e=[{name:"Novato",min:0,max:0},{name:"Explorador",min:1,max:2},{name:"Cazador",min:3,max:4},{name:"Maestro",min:5,max:6},{name:"Leyenda",min:7,max:8},{name:"Dios Geek",min:9,max:1/0}]).find(e=>t>=e.min&&t<=e.max)||e[0]},init(){var e=localStorage.getItem("easterEggProgress");e&&(this.eggs=JSON.parse(e)),this.updateUI(),this.isMobile&&((e=document.createElement("style")).id="tracker-mobile-styles",e.textContent=`
        .achievement.desktop-only {
          display: none !important;
        }
      `,document.getElementById("tracker-mobile-styles")||document.head.appendChild(e));let t=document.getElementById("easter-egg-tracker");t&&(t.classList.add("collapsed"),localStorage.setItem("trackerCollapsed","true"));e=document.getElementById("tracker-toggle"),e&&t&&e.addEventListener("click",()=>{t.classList.toggle("collapsed");var e=t.classList.contains("collapsed");localStorage.setItem("trackerCollapsed",e)}),e=document.getElementById("reset-achievements");e&&e.addEventListener("click",()=>{confirm("¬øSeguro que quieres resetear todos los logros?")&&this.reset()}),setTimeout(()=>{0===this.getUnlockedCount()&&this.showFloatingHint()},3e3),this.initTrackerPositioning(),this.initResizeListener()},show(){let t=document.getElementById("easter-egg-tracker");t?setTimeout(()=>{t.style.visibility="visible",t.style.display="block",t.style.zIndex="9999";var e=window.innerWidth<=480,e=t.animate([{opacity:0,transform:e?"translateY(400px)":"translateX(400px)"},{opacity:1,transform:e?"translateY(0)":"translateX(0)"}],{duration:800,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"forwards"});e.onfinish=()=>{t.style.opacity="1",t.style.transform="translate(0, 0)"},e.onerror=()=>{t.style.opacity="1",t.style.transform="translate(0, 0)"}},800):console.error("Easter Egg Tracker: elemento #easter-egg-tracker no encontrado")},updatePlatformDetection(){var e,t=this.isMobile;this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024,t!==this.isMobile&&(console.log("üì± Cambio de plataforma detectado: "+(this.isMobile?"Mobile/Tablet (‚â§1024px)":"Desktop (>1024px)")),t=document.getElementById("tracker-mobile-styles"),this.isMobile&&!t?((e=document.createElement("style")).id="tracker-mobile-styles",e.textContent=`
          .achievement.desktop-only {
            display: none !important;
          }
        `,document.head.appendChild(e)):!this.isMobile&&t&&t.remove(),this.updateUI())},initResizeListener(){let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{this.updatePlatformDetection()},250)})},initTrackerPositioning(){let a=document.getElementById("easter-egg-tracker");if(a){let o=!1,n=!1,e=()=>{var e,t=document.querySelector(".site-footer");t&&!n&&(t=t.getBoundingClientRect(),0<(t=window.innerHeight-t.top)&&!o?(o=!0,n=!0,e=window.innerWidth<=480,a.animate([{opacity:1,transform:"translate(0, 0)"},{opacity:0,transform:e?"translateY(100px)":"translateX(100px)"}],{duration:300,easing:"ease-out",fill:"forwards"}).onfinish=()=>{a.style.visibility="hidden",a.style.pointerEvents="none",n=!1}):t<=0&&o&&(o=!1,n=!0,a.style.visibility="visible",a.style.pointerEvents="auto",e=window.innerWidth<=480,a.animate([{opacity:0,transform:e?"translateY(100px)":"translateX(100px)"},{opacity:1,transform:"translate(0, 0)"}],{duration:300,easing:"ease-out",fill:"forwards"}).onfinish=()=>{a.style.opacity="1",a.style.transform="translate(0, 0)",n=!1}))};window.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e),setTimeout(()=>{e()},1500)}},unlock(e){this.eggs[e]||(this.eggs[e]=!0,this.save(),this.updateUI(),this.showUnlockAnimation(e),setTimeout(()=>{isSoundPlaying||playSound("success")},100))},save(){localStorage.setItem("easterEggProgress",JSON.stringify(this.eggs))},reset(){Object.keys(this.eggs).forEach(e=>{this.eggs[e]=!1}),this.save(),this.updateUI(),showNotification("üîÑ Logros reseteados. ¬°Vuelve a cazarlos todos!","info")},getUnlockedCount(){return(this.isMobile?["konami","logo","retro","thanos","combo","scroll"].filter(e=>this.eggs[e]):Object.values(this.eggs).filter(Boolean)).length},updateUI(){var e,t=this.getUnlockedCount(),o=this.getTotalEggs(),n=document.getElementById("tracker-count"),a=document.getElementById("progress-bar"),s=document.getElementById("geek-level");n&&((e=n.querySelector("span"))?e.textContent=t+"/"+o:n.textContent=t+"/"+o),a&&(a.style.width=t/o*100+"%"),s&&(e=this.getLevel(),s.textContent="Nivel Geek: "+e.name),Object.keys(this.eggs).forEach(e=>{var t=document.querySelector(`[data-egg="${e}"]`);t&&(this.eggs[e]?(t.classList.remove("locked"),t.classList.add("unlocked")):(t.classList.add("locked"),t.classList.remove("unlocked")))})},showUnlockAnimation(e){e=document.querySelector(`[data-egg="${e}"]`);e&&e.classList.add("unlocked");let t=document.querySelector(".tracker-icon"),o=(t&&(t.style.animation="none",setTimeout(()=>{t.style.animation="iconSpin 0.6s ease"},10)),document.getElementById("tracker-count"));o&&(o.style.animation="none",setTimeout(()=>{o.style.animation="pulseCounter 0.6s ease"},10));var e=this.getLevel(),n=this.getTotalEggs();showNotification(`üéâ ¬°Logro desbloqueado! ${this.getUnlockedCount()}/${n} - Nivel: `+e.name,"success"),this.getUnlockedCount()===n&&setTimeout(()=>this.showCompletionCelebration(),500)},showCompletionCelebration(){playSound("levelup"),showNotification(this.isMobile?"üèÜ ¬°INCRE√çBLE! ¬°Has encontrado todos los Easter Eggs m√≥viles! ¬°Eres un DIOS GEEK! üéÆ":"üèÜ ¬°INCRE√çBLE! ¬°Has encontrado todos los Easter Eggs! ¬°Eres un DIOS GEEK! üéÆ","success");let t=document.getElementById("confetti-container");t||((t=document.createElement("div")).id="confetti-container",document.body.appendChild(t));var e=window.pageYOffset||document.documentElement.scrollTop;t.style.cssText=`
      position: absolute;
      top: ${e}px;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 99999;
      pointer-events: none;
      overflow: hidden;
    `;for(let e=0;e<50;e++)setTimeout(()=>{let o=document.createElement("div"),n=(o.textContent=["üéâ","üéä","‚≠ê","üèÜ","üëë"][Math.floor(5*Math.random())],o.className="celebration-confetti",100*Math.random()),a=1+1.5*Math.random();var e=25+35*Math.random();let s=360*Math.random(),i=3*(Math.random()-.5),r=(o.style.cssText=`
          position: absolute;
          left: ${n}vw;
          top: -80px;
          font-size: ${e}px;
          transform: rotate(${s}deg);
          pointer-events: none;
        `,t.appendChild(o),-80),l=n,c=Date.now(),d=()=>{var e=Date.now()-c,t=e/(1e3*a);r=(window.innerHeight+100)*Math.pow(t,1.5)-80,l=n+i*t,o.style.top=r+"px",o.style.left=l+"vw",o.style.transform=`rotate(${s+.5*e}deg)`,r<window.innerHeight+50&&e<1e3*a?requestAnimationFrame(d):o.remove()};requestAnimationFrame(d)},30*e);setTimeout(()=>{t.remove()},3e3)},showFloatingHint(){let e=document.createElement("div");e.className="easter-egg-hint";var t=this.isMobile?"üì± 6 secretos m√≥viles ocultos... ¬øPuedes encontrarlos todos?":"üéÆ 9 secretos ocultos... ¬øPuedes encontrarlos todos?";e.textContent=t,document.body.appendChild(e),setTimeout(()=>{e.style.animation="fadeOut 0.5s ease",setTimeout(()=>e.remove(),500)},8e3)}};function initMobileEasterEggs(){if(document.body.classList.contains("home")){document.querySelector(".hero");var e=document.querySelector(".hero-content h1");let t=0,o=null;var d=e=>{window.areEasterEggsDisabled?.()||1024<window.innerWidth||(e.preventDefault(),t++,o&&clearTimeout(o),3===t&&(activateNESMode(),easterEggTracker.unlock("konami"),t=0),o=setTimeout(()=>{t=0},600))};e&&(e.addEventListener("touchend",d),e.addEventListener("click",d));let n=null,a=!1,s=document.querySelector(".hero-cta .btn-primary");e=e=>{1024<window.innerWidth||(a=!1,s.style.transform="scale(0.95)",s.style.transition="transform 0.1s ease",n=setTimeout(()=>{a=!0,activate8BitMode(),easterEggTracker.unlock("retro"),s.style.transform="scale(1.1)",s.style.boxShadow="0 0 20px var(--accent-primary)",navigator.vibrate&&navigator.vibrate([200,100,200]),setTimeout(()=>{s.style.transform="",s.style.boxShadow=""},500)},600))},d=e=>{if(clearTimeout(n),s.style.transform="",a)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),a=!1};s&&(s.addEventListener("touchstart",e,{passive:!1}),s.addEventListener("touchend",d,{passive:!1}),s.addEventListener("touchmove",e=>{clearTimeout(n)}),s.addEventListener("mousedown",e),s.addEventListener("mouseup",d),s.addEventListener("mouseleave",d),s.addEventListener("click",e=>{if(a)return e.preventDefault(),e.stopPropagation(),a=!1}));let i=null,r=document.querySelector(".news-subscribe-form input[type='email']")||document.querySelector("#news-subscribe-form input[type='email']")||document.querySelector(".newsletter-form input[type='email']");e=e=>{1024<window.innerWidth||(r.style.borderColor="var(--accent-secondary)",r.style.transform="scale(0.98)",r.style.transition="all 0.1s ease",i=setTimeout(()=>{activateGlitchStats(),easterEggTracker.unlock("logo"),r.style.borderColor="var(--accent-primary)",r.style.transform="scale(1.02)",navigator.vibrate&&navigator.vibrate(200),setTimeout(()=>{r.style.borderColor="",r.style.transform=""},500)},600))},d=()=>{clearTimeout(i),r.style.borderColor="",r.style.transform=""};r&&(r.addEventListener("touchstart",e),r.addEventListener("touchend",d),r.addEventListener("touchmove",d),r.addEventListener("mousedown",e),r.addEventListener("mouseup",d),r.addEventListener("mouseleave",d));let l=0,c=null;e=document.querySelector(".footer-copyright")||document.querySelector(".footer-bottom-left p")||document.querySelector(".footer-bottom p"),d=e=>{window.areEasterEggsDisabled?.()||1024<window.innerWidth||(e.preventDefault(),l++,c&&clearTimeout(c),2===l&&(console.log("‚úÖ Doble tap completado! Activando Thanos Snap"),activateSnapEffect(),easterEggTracker.unlock("thanos"),l=0),c=setTimeout(()=>{l=0},500))};e&&(e.addEventListener("touchend",d),e.addEventListener("click",d)),setTimeout(()=>{let o=null,n=document.querySelector(".footer-copyright strong")||document.querySelector(".footer-bottom-left strong")||document.querySelector(".footer-brand-name")||document.querySelector(".footer-bottom strong");if(n||document.querySelectorAll("strong").forEach(e=>{e.textContent.includes("Sala Geek")&&(n=e)}),console.log("üîç Footer Brand encontrado:",n?"‚úÖ S√ç":"‚ùå NO"),n){console.log("‚úÖ Configurando Easter Egg en:",n.textContent),n.style.padding="12px",n.style.margin="-12px",n.style.display="inline-block",n.style.cursor="pointer",n.style.border="2px solid transparent";let t=()=>{console.log("üéÆ COMBO BREAKER ACTIVADO!"),playSound("levelup"),easterEggTracker.unlock("combo"),showNotification("ü§ì ¬°COMBO BREAKER! Modo inverso activado","success"),document.body.style.filter="invert(1) hue-rotate(180deg)",document.body.style.transition="filter 0.5s ease",n.style.transform="scale(1.3) rotate(360deg)",n.style.color="#00ff00",n.style.textShadow="0 0 20px #00ff00",navigator.vibrate&&navigator.vibrate([100,50,100,50,200]),setTimeout(()=>{document.body.style.filter="none",n.style.transform="",n.style.color="",n.style.textShadow=""},4e3)};var e=e=>{window.areEasterEggsDisabled?.()||1024<window.innerWidth||(console.log("üëÜ Long press iniciado en Footer - width:",window.innerWidth),n.style.transform="scale(0.95)",n.style.color="var(--accent-primary)",n.style.border="2px solid var(--accent-primary)",n.style.transition="all 0.1s ease",o=setTimeout(()=>{console.log("‚úÖ Long press completado! Activando Combo Breaker"),t()},600))},a=()=>{console.log("üëÜ Long press terminado"),clearTimeout(o),n.style.transform="",n.style.color="",n.style.border="2px solid transparent"};n.addEventListener("touchstart",e,{passive:!0}),n.addEventListener("touchend",a,{passive:!0}),n.addEventListener("touchmove",()=>{console.log("üëÜ Movimiento detectado - cancelando"),clearTimeout(o),n.style.transform="",n.style.color="",n.style.border="2px solid transparent"},{passive:!0}),n.addEventListener("mousedown",e),n.addEventListener("mouseup",a),n.addEventListener("mouseleave",a)}else{console.log("‚ùå Footer Brand (strong) NO encontrado despu√©s de timeout");let t=document.querySelector(".footer-copyright");t&&(console.log("‚úÖ Usando selector alternativo: .footer-copyright"),t.style.cursor="pointer",t.style.userSelect="none",t.addEventListener("touchstart",e=>{t.style.opacity="0.7",o=setTimeout(()=>{playSound("levelup"),easterEggTracker.unlock("combo"),showNotification("ü§ì ¬°GEEK MODE ACTIVADO! Modo inverso activado","success"),document.body.style.filter="invert(1) hue-rotate(180deg)",document.body.style.transition="filter 0.5s ease",navigator.vibrate&&navigator.vibrate([100,50,100,50,200]),setTimeout(()=>{document.body.style.filter="none",t.style.opacity="1"},4e3)},600)},{passive:!0}),t.addEventListener("touchend",()=>{clearTimeout(o),t.style.opacity="1"},{passive:!0}),t.addEventListener("touchmove",()=>{clearTimeout(o),t.style.opacity="1"},{passive:!0}))}},1e3),setTimeout(()=>{window.innerWidth<=1024&&showNotification("üì± Tip: Explora con taps y long press en botones!","info")},5e3)}}function isMobileMode(){return/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024}function initAllEasterEggs(){var e=window.location.pathname.includes("/legal/"),t=window.location.pathname.includes("/media-kit"),o=document.body.classList.contains("upside-down");if(e||t||o)console.log("üö´ Easter Eggs desactivados en: "+(e?"p√°gina legal":t?"Media Kit":"modo Upside Down")),document.body.setAttribute("data-easter-eggs-disabled","true");else{window.areEasterEggsDisabled=()=>{var e=document.body.classList.contains("upside-down");return document.body.hasAttribute("data-easter-eggs-disabled")||e},initKonamiCode(),initSecretWords(),initScrollSecret(),initSpecialDates(),initLogoEasterEgg(),initTimeEasterEgg(),initCornerClicks(),initMouseShake(),initKeyboardCombo(),initMobileEasterEggs();let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{easterEggTracker.updatePlatformDetection()},250)}),easterEggTracker.init()}}function updateNewsTime(){var t=document.getElementById("update-time");if(t){var o=new Date("2025-11-07T00:00:00"),n=new Date,n=Math.abs(n-o),o=Math.floor(n/864e5);let e="";e=0===o?"HOY":1===o?"AYER":o<=7?`HACE ${o} D√çAS`:"SEMANALMENTE",t.textContent=e,setTimeout(updateNewsTime,36e5)}}document.addEventListener("DOMContentLoaded",()=>{setTimeout(initAllEasterEggs,1e3),updateNewsTime(),initSeasonalLogo()});let BlogFilterSystem={articlesPerPage:6,currentPage:1,currentCategory:"all",isInitialized:!1,carousel:{section:null,track:null,dots:null,prevBtn:null,nextBtn:null,currentSlide:0,featuredArticles:[],autoplayInterval:null},elements:{grid:null,filters:null,pagination:null,paginationNumbers:null,prevBtn:null,nextBtn:null,visibleCount:null,totalCount:null,noResults:null},init(){document.body.classList.contains("blog-page")?this.isInitialized?console.log("BlogFilterSystem: Ya inicializado"):(console.log("BlogFilterSystem: Iniciando..."),this.elements.grid=document.getElementById("articles-grid"),this.elements.filters=document.getElementById("category-filters"),this.elements.pagination=document.getElementById("pagination"),this.elements.paginationNumbers=document.getElementById("pagination-numbers"),this.elements.prevBtn=document.getElementById("prev-page"),this.elements.nextBtn=document.getElementById("next-page"),this.elements.visibleCount=document.getElementById("visible-count"),this.elements.totalCount=document.getElementById("total-count"),this.elements.noResults=document.getElementById("no-results"),this.carousel.section=document.getElementById("featured-carousel-section"),this.carousel.track=document.getElementById("featured-carousel-track"),this.carousel.dots=document.getElementById("carousel-dots"),this.elements.grid?this.elements.filters?(console.log("BlogFilterSystem: Elementos encontrados"),this.initFeaturedCarousel(),this.parseURLParams(),this.setupEventListeners(),this.elements.grid.classList.add("js-initialized"),this.filterArticles(this.currentCategory),this.isInitialized=!0,console.log("BlogFilterSystem: Inicializaci√≥n completa")):console.error("BlogFilterSystem: No se encontr√≥ #category-filters"):console.error("BlogFilterSystem: No se encontr√≥ #articles-grid")):console.log("BlogFilterSystem: No es p√°gina de blog, saltando inicializaci√≥n")},initFeaturedCarousel(){var e,t;this.carousel.section&&this.carousel.track?0<this.carousel.track.querySelectorAll(".featured-slide").length?(console.log("BlogFilterSystem: Carrusel del blog detectado, no interferir"),this.carousel.section.classList.remove("hidden")):0===(e=Array.from(this.elements.grid.querySelectorAll('.article-card[data-featured="true"]'))).length?this.carousel.section.classList.add("hidden"):(console.log("BlogFilterSystem: Art√≠culos destacados encontrados:",e.length),this.carousel.featuredArticles=e,this.carousel.originalPositions=e.map(e=>({article:e,nextSibling:e.nextElementSibling})),e.forEach(e=>{e.style.display="",e.style.opacity="",e.style.transform="",e.style.visibility="",e.classList.remove("filtering","filtering-out","fade-in"),e.classList.add("in-carousel"),this.carousel.track.appendChild(e)}),this.setupCarouselDimensions(),this.createCarouselDots(e.length),this.setupCarouselNavigation(),(t=document.getElementById("carousel-nav"))&&e.length<=1&&(t.style.display="none"),this.startCarouselAutoplay()):console.log("BlogFilterSystem: Carrusel no encontrado")},moveFeaturedToCarousel(){this.carousel.track&&this.carousel.featuredArticles&&(this.carousel.featuredArticles.forEach(e=>{e.style.display="",e.style.opacity="",e.style.transform="",e.style.visibility="",e.classList.remove("filtering","filtering-out","fade-in"),e.classList.add("in-carousel"),this.carousel.track.appendChild(e)}),this.setupCarouselDimensions())},moveFeaturedToGrid(){this.carousel.originalPositions&&this.carousel.originalPositions.forEach(({article:e,nextSibling:t})=>{e.classList.remove("in-carousel"),e.style.width="",e.style.flex="",t&&t.parentNode===this.elements.grid?this.elements.grid.insertBefore(e,t):this.elements.grid.insertBefore(e,this.elements.grid.firstChild)})},setupCarouselDimensions(){if(this.carousel.track&&this.carousel.featuredArticles){var e=this.carousel.featuredArticles.length;if(0!==e){this.carousel.track.style.width=100*e+"%";let t=100/e;this.carousel.featuredArticles.forEach(e=>{e.style.width=t+"%",e.style.flex=`0 0 ${t}%`}),console.log(`BlogFilterSystem: Carrusel configurado - ${e} slides, track: ${100*e}%, cards: ${t}%`)}}},createCarouselDots(t){if(this.carousel.dots){this.carousel.dots.innerHTML="";for(let e=0;e<t;e++){var o=document.createElement("button");o.className="carousel-dot"+(0===e?" active":""),o.setAttribute("aria-label","Ir al art√≠culo "+(e+1)),o.addEventListener("click",()=>this.goToSlide(e)),this.carousel.dots.appendChild(o)}}},setupCarouselNavigation(){var e=this.carousel.section.querySelector(".carousel-prev"),t=this.carousel.section.querySelector(".carousel-next");e&&(this.carousel.prevBtn=e).addEventListener("click",()=>this.prevSlide()),t&&(this.carousel.nextBtn=t).addEventListener("click",()=>this.nextSlide());let o=0,n;this.carousel.track.addEventListener("touchstart",e=>{o=e.touches[0].clientX,this.stopCarouselAutoplay()},{passive:!0}),this.carousel.track.addEventListener("touchend",e=>{n=e.changedTouches[0].clientX;e=o-n;50<Math.abs(e)&&(0<e?this.nextSlide():this.prevSlide()),this.startCarouselAutoplay()},{passive:!0}),this.carousel.section.addEventListener("mouseenter",()=>this.stopCarouselAutoplay()),this.carousel.section.addEventListener("mouseleave",()=>this.startCarouselAutoplay())},prevSlide(){var e=this.carousel.featuredArticles.length;this.carousel.currentSlide=(this.carousel.currentSlide-1+e)%e,this.updateCarousel()},nextSlide(){var e=this.carousel.featuredArticles.length;this.carousel.currentSlide=(this.carousel.currentSlide+1)%e,this.updateCarousel()},goToSlide(e){this.carousel.currentSlide=e,this.updateCarousel()},updateCarousel(){var e;this.carousel.track&&this.carousel.featuredArticles&&(e=this.carousel.featuredArticles.length,e=-this.carousel.currentSlide*(100/e),this.carousel.track.style.transform=`translateX(${e}%)`,(this.carousel.dots?.querySelectorAll(".carousel-dot"))?.forEach((e,t)=>{e.classList.toggle("active",t===this.carousel.currentSlide)}),this.updateCarouselButtons())},updateCarouselButtons(){},startCarouselAutoplay(){this.carousel.featuredArticles.length<=1||(this.stopCarouselAutoplay(),this.carousel.autoplayInterval=setInterval(()=>{this.nextSlide()},6e3))},stopCarouselAutoplay(){this.carousel.autoplayInterval&&(clearInterval(this.carousel.autoplayInterval),this.carousel.autoplayInterval=null)},toggleCarousel(e){var t;this.carousel.section&&((t=this.carousel.track?.querySelectorAll(".featured-slide"))&&0<t.length?e?this.carousel.section.classList.remove("hidden"):this.carousel.section.classList.add("hidden"):this.carousel.featuredArticles&&(e&&0<this.carousel.featuredArticles.length?(this.moveFeaturedToCarousel(),this.carousel.section.classList.remove("hidden"),this.carousel.currentSlide=0,this.updateCarousel(),this.startCarouselAutoplay()):(this.carousel.section.classList.add("hidden"),this.stopCarouselAutoplay(),this.moveFeaturedToGrid())))},parseURLParams(){var e=new URLSearchParams(window.location.search),t=e.get("categoria"),e=parseInt(e.get("pagina"))||1;t&&this.isValidCategory(t)&&(this.currentCategory=t),this.currentPage=e},isValidCategory(e){return["all","peliculas","series","anime","gaming","tecnologia"].includes(e)},setupEventListeners(){this.elements.filters.addEventListener("click",e=>{var t=e.target.closest(".pill");t&&t.dataset.category&&(e.preventDefault(),e=t.dataset.category,console.log("BlogFilterSystem: Filtro clickeado -",e),this.filterArticles(e))}),this.elements.prevBtn&&this.elements.prevBtn.addEventListener("click",e=>{e.preventDefault(),this.goToPage(this.currentPage-1)}),this.elements.nextBtn&&this.elements.nextBtn.addEventListener("click",e=>{e.preventDefault(),this.goToPage(this.currentPage+1)}),this.elements.paginationNumbers&&this.elements.paginationNumbers.addEventListener("click",e=>{var t=e.target.closest(".page-number");t&&t.dataset.page&&(e.preventDefault(),e=parseInt(t.dataset.page),this.goToPage(e))})},filterArticles(e){console.log("BlogFilterSystem: Filtrando por categor√≠a -",e),this.currentCategory=e,this.currentPage=1,this.updateFilterState(),"all"===e?(this.elements.grid.classList.remove("filtered"),this.toggleCarousel(!0)):(this.elements.grid.classList.add("filtered"),this.toggleCarousel(!1));var t=this.getAllArticles(),o=this.getFilteredArticles(t,e);console.log("BlogFilterSystem: Total art√≠culos:",t.length,"| Filtrados:",o.length),this.updateArticlesVisibility(o),this.updatePagination(o.length),this.updateCounts(o.length),this.updateURL(),this.toggleNoResults(0===o.length),"all"!==e&&((t=this.elements.grid.getBoundingClientRect()).top<0||t.top>.5*window.innerHeight)&&(o=this.elements.grid.getBoundingClientRect().top+window.pageYOffset-100,window.scrollTo({top:o,behavior:"smooth"}))},getAllArticles(){return Array.from(this.elements.grid.querySelectorAll(".article-card"))},getNonFeaturedArticles(){return Array.from(this.elements.grid.querySelectorAll('.article-card:not([data-featured="true"])'))},getFeaturedArticles(){return Array.from(this.elements.grid.querySelectorAll('.article-card[data-featured="true"]'))},getFilteredArticles(e,t){return"all"===t?e.filter(e=>"true"!==e.dataset.featured):e.filter(e=>e.dataset.category===t)},updateArticlesVisibility(e){let t=this.getAllArticles(),o=(this.currentPage-1)*this.articlesPerPage;var n=o+this.articlesPerPage;let a=e.slice(o,n);this.elements.grid.classList.add("is-transitioning");e=t.filter(e=>"none"!==e.style.display&&e.classList.contains("fade-in")),e.forEach(e=>{e.classList.remove("fade-in"),e.classList.add("filtering-out")}),n=0<e.length?200:0;setTimeout(()=>{t.forEach(e=>{e.style.display="none",e.classList.remove("fade-in","filtering","filtering-out")}),a.forEach((e,t)=>{e.style.display="block",e.classList.add("filtering"),e.offsetHeight,requestAnimationFrame(()=>{setTimeout(()=>{e.classList.remove("filtering"),e.classList.add("fade-in")},50*t)})}),setTimeout(()=>{this.elements.grid.classList.remove("is-transitioning")},50*a.length+350),console.log("BlogFilterSystem: Mostrando art√≠culos",1+o,"-",o+a.length)},n)},updateFilterState(){this.elements.filters.querySelectorAll(".pill").forEach(e=>{var t=e.dataset.category===this.currentCategory;e.classList.toggle("active",t)})},updatePagination(e){e=Math.ceil(e/this.articlesPerPage);console.log("BlogFilterSystem: P√°ginas totales:",e,"| P√°gina actual:",this.currentPage),this.elements.pagination&&(this.elements.pagination.style.display=e<=1?"none":"flex"),this.elements.prevBtn&&(this.elements.prevBtn.disabled=this.currentPage<=1),this.elements.nextBtn&&(this.elements.nextBtn.disabled=this.currentPage>=e),this.renderPageNumbers(e)},renderPageNumbers(e){if(this.elements.paginationNumbers&&0!==e){let t="";let o=Math.max(1,this.currentPage-Math.floor(2.5));var n=Math.min(e,o+5-1);1<(o=n-o<4?Math.max(1,n-5+1):o)&&(t+='<button type="button" class="page-number" data-page="1">1</button>',2<o)&&(t+='<span class="page-ellipsis">...</span>');for(let e=o;e<=n;e++){var a=e===this.currentPage?"active":"";t+=`<button type="button" class="page-number ${a}" data-page="${e}">${e}</button>`}n<e&&(n<e-1&&(t+='<span class="page-ellipsis">...</span>'),t+=`<button type="button" class="page-number" data-page="${e}">${e}</button>`),this.elements.paginationNumbers.innerHTML=t}},goToPage(e){var t=this.getFilteredArticles(this.getAllArticles(),this.currentCategory),o=Math.ceil(t.length/this.articlesPerPage);e<1||o<e||(console.log("BlogFilterSystem: Navegando a p√°gina",e),this.currentPage=e,this.updateArticlesVisibility(t),this.updatePagination(t.length),this.updateCounts(t.length),this.updateURL(),o=this.elements.grid.getBoundingClientRect().top+window.pageYOffset-100,window.scrollTo({top:o,behavior:"smooth"}))},updateCounts(e){var t=(this.currentPage-1)*this.articlesPerPage,t=Math.min(this.articlesPerPage,e-t);this.elements.visibleCount&&(this.elements.visibleCount.textContent=0<t?t:0),this.elements.totalCount&&(this.elements.totalCount.textContent=e)},updateURL(){var e=new URLSearchParams,e=("all"!==this.currentCategory&&e.set("categoria",this.currentCategory),1<this.currentPage&&e.set("pagina",this.currentPage),e.toString()?window.location.pathname+"?"+e.toString():window.location.pathname);window.history.replaceState({},"",e)},toggleNoResults(e){this.elements.noResults&&(this.elements.noResults.style.display=e?"flex":"none"),this.elements.grid&&(this.elements.grid.style.display=e?"none":"grid")}};