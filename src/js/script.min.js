const responsiveState={isMobile:window.innerWidth<=768,isTablet:window.innerWidth>768&&window.innerWidth<=1024,isDesktop:window.innerWidth>1024};function initDarkMode(){document.documentElement.setAttribute("data-theme","dark"),localStorage.removeItem("sg_theme")}function updateResponsiveState(){responsiveState.isMobile=window.innerWidth<=768,responsiveState.isTablet=window.innerWidth>768&&window.innerWidth<=1024,responsiveState.isDesktop=window.innerWidth>1024}function initResponsiveHandler(){let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{if(updateResponsiveState(),responsiveState.isDesktop){const e=document.querySelector(".main-nav"),t=document.querySelector(".nav-toggle"),n=document.querySelector(".search-dropdown");e?.classList.contains("open")&&(e.classList.remove("open"),t?.setAttribute("aria-expanded","false"),document.body.style.overflow=""),n?.classList.contains("active")&&n.classList.remove("active")}},150)})}function initSeasonalLogo(){const e=new Date,t=e.getMonth(),n=e.getDate(),o=11===t||0===t&&n<=10,s=o?["/src/images/Icono_SG_Navidad.ico","/src/images/Icono_SG.ico"]:["/src/images/Icono_SG.ico"];chooseAvailableLogo(s).then(e=>{updateLogoSource(e),updateFooterLogo(s),updateSeasonalFavicon(o)})}function chooseAvailableLogo(e){return new Promise(t=>{let n=!1;const o=s=>{if(s>=e.length)return void t("/src/images/Icono_SG.ico");const i=new Image;i.onload=()=>{n||(n=!0,t(e[s]))},i.onerror=()=>o(s+1),i.src=e[s]+`?v=${Date.now()}`};o(0)})}function updateLogoSource(e){const t=document.querySelector(".logo img");t&&(t.src=e);const n=new MutationObserver((t,n)=>{const o=document.querySelector(".logo img");o&&(o.src=e,n.disconnect())});n.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>n.disconnect(),5e3)}function updateFooterLogo(e){chooseAvailableLogo(e).then(e=>{const t=()=>{const t=document.querySelector(".footer-logo"),n=document.querySelector(".footer-brand picture source");return!!t&&(t.src=e,n&&(n.srcset=e,n.type="image/png"),!0)};if(t())return;const n=new MutationObserver((e,n)=>{t()&&n.disconnect()});n.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>n.disconnect(),5e3)})}function updateSeasonalFavicon(e){const t=e?"/src/images/Icono_SG_Navidad.ico":"/src/images/Icono_SG.ico",n=document.head;document.querySelectorAll("link[rel='icon'], link[rel='shortcut icon'], link[rel='apple-touch-icon']").forEach(e=>e.parentNode.removeChild(e));const o=`?v=${Date.now()}`,s=document.createElement("link");s.setAttribute("rel","icon"),s.setAttribute("type","image/x-icon"),s.setAttribute("href",t+o),n.appendChild(s);const i=document.createElement("link");i.setAttribute("rel","shortcut icon"),i.setAttribute("type","image/x-icon"),i.setAttribute("href",t+o),n.appendChild(i);const a=document.createElement("link");a.setAttribute("rel","apple-touch-icon"),a.setAttribute("sizes","180x180"),a.setAttribute("href",t+o),n.appendChild(a)}async function loadPartial(e,t){try{const n=Date.now(),o=await fetch(`${t}?v=${n}`,{cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);const s=await o.text(),i=document.querySelector(e);if(!i)throw new Error(`Element "${e}" not found in DOM`);return i.innerHTML=s,!0}catch(e){return console.error(`âŒ Error loading partial ${t}:`,e),!1}}async function loadIncludes(){try{await Promise.all([loadPartial("#header-placeholder","/src/pages/partials/header.html"),loadPartial("#footer-placeholder","/src/pages/partials/footer.html")]);const e=document.getElementById("current-year");e&&(e.textContent=(new Date).getFullYear()),initNavigation(),setTimeout(()=>{initSearch()},100)}catch(e){console.error("âŒ Error loading includes:",e)}}function initNavigation(){const e=document.querySelector(".nav-toggle"),t=document.querySelector(".main-nav"),n=document.querySelectorAll(".menu a");if(!e||!t)return;const o=()=>{const n=t.classList.toggle("open");if(e.setAttribute("aria-expanded",n.toString()),document.body.style.overflow=n?"hidden":"",n){const e=t.querySelector("a");e?.focus()}};e.addEventListener("click",o);const s=document.querySelector(".nav-close");s&&s.addEventListener("click",()=>{t.classList.remove("open"),e.setAttribute("aria-expanded","false"),document.body.style.overflow=""}),n.forEach(n=>{n.addEventListener("click",o=>{if(n.getAttribute("href")?.startsWith("#")){o.preventDefault();const s=n.getAttribute("href"),i=document.querySelector(s);if(i){responsiveState.isMobile&&(t.classList.remove("open"),e.setAttribute("aria-expanded","false"),document.body.style.overflow="");const n=100,o=i.getBoundingClientRect().top+window.pageYOffset-n;window.scrollTo({top:o,behavior:"smooth"})}}})}),document.addEventListener("click",n=>{!t.classList.contains("open")||t.contains(n.target)||e.contains(n.target)||(t.classList.remove("open"),e.setAttribute("aria-expanded","false"),document.body.style.overflow="")});const i=document.querySelectorAll("section[id]");if(i.length>0){function a(){const e=window.scrollY+150;let t="";i.forEach(n=>{const o=n.offsetTop,s=n.offsetHeight;e>=o&&e<o+s&&(t=n.id)}),n.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${t}`&&e.classList.add("active")})}let r=!1;window.addEventListener("scroll",()=>{r||(window.requestAnimationFrame(()=>{a(),r=!1}),r=!0)},{passive:!0}),a()}document.addEventListener("keydown",n=>{"Escape"===n.key&&t.classList.contains("open")&&(o(),e.focus())})}function initSearch(){const e=()=>{const t=document.querySelector(".search-toggle"),n=document.getElementById("searchModal"),o=document.getElementById("searchBackdrop"),s=document.getElementById("searchClose"),i=document.getElementById("searchInput"),a=document.getElementById("searchClear"),r=document.getElementById("searchResults");if(!t||!n||!i)return void setTimeout(e,150);console.log("âœ… BÃºsqueda inicializada");const l=[{title:"Stranger Things Temporada 5",url:"/blog/articulos/stranger-things-temporada-5-detalles.html",category:"Series"},{title:"Demon Slayer Temporada 4",url:"/blog/articulos/demon-slayer-temporada-4-fecha.html",category:"Anime"},{title:"GTA 6 - Fecha y Gameplay",url:"/blog/articulos/gta-6-fecha-gameplay.html",category:"Videojuegos"},{title:"The Last of Us Part 3",url:"/blog/articulos/the-last-of-us-part-3-anuncio.html",category:"Videojuegos"},{title:"One Piece Temporada 2",url:"/blog/articulos/one-piece-temporada-2-netflix.html",category:"Series"},{title:"Marvel Plan 2026-2027",url:"/blog/articulos/marvel-plan-2026-2027.html",category:"PelÃ­culas"},{title:"Apple Vision Pro 2",url:"/blog/articulos/apple-vision-pro-2-anuncio.html",category:"TecnologÃ­a"},{title:"Supergirl DCU Trailer",url:"/blog/articulos/supergirl-dcu-trailer-2026.html",category:"PelÃ­culas"}],c=()=>{n.classList.remove("active"),document.body.style.overflow="",i.value="",a.classList.remove("visible"),r.innerHTML=""};t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),n.classList.add("active"),document.body.style.overflow="hidden",setTimeout(()=>i.focus(),100)}),s&&s.addEventListener("click",e=>{e.stopPropagation(),c()}),o&&o.addEventListener("click",e=>{e.target===o&&c()}),n.addEventListener("click",e=>{e.target===n&&c()});const d=n.querySelector(".search-modal-content");d&&d.addEventListener("click",e=>{e.stopPropagation()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&n.classList.contains("active")&&c()}),i.addEventListener("input",e=>{e.stopPropagation();const t=e.target.value;a.classList.toggle("visible",t.length>0),(e=>{const t=e.toLowerCase().trim();if(!t)return void(r.innerHTML="");const n=l.filter(e=>e.title.toLowerCase().includes(t)||e.category.toLowerCase().includes(t));0!==n.length?r.innerHTML=n.map(e=>`\n        <a href="${e.url}" class="search-result-item">\n          <div class="search-result-title">${e.title}</div>\n          <div class="search-result-category">${e.category}</div>\n        </a>\n      `).join(""):r.innerHTML='<p class="search-no-results">No se encontraron resultados</p>'})(t)}),i.addEventListener("click",e=>{e.stopPropagation()}),i.addEventListener("mousedown",e=>{e.stopPropagation()}),i.addEventListener("keydown",e=>{if("Enter"===e.key){e.preventDefault();const t=r.querySelector(".search-result-item");t&&(window.location.href=t.href)}}),a&&a.addEventListener("click",e=>{e.stopPropagation(),i.value="",a.classList.remove("visible"),r.innerHTML="",i.focus()})};e()}function initScrollAnimations(){const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(requestAnimationFrame(()=>{t.target.classList.add("reveal");const e=window.getComputedStyle(t.target).backgroundImage;t.target.style.backgroundImage="none",t.target.offsetHeight,t.target.style.backgroundImage=e}),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),t=()=>{const t=document.querySelectorAll("[data-scroll]");0!==t.length&&t.forEach(t=>{e.observe(t)})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{setTimeout(t,150)}):setTimeout(t,150)}function initLazyLoading(){if("loading"in HTMLImageElement.prototype){document.querySelectorAll("img[data-src]").forEach(e=>{e.src=e.dataset.src,e.removeAttribute("data-src")})}else{const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=n.dataset.src,n.removeAttribute("data-src")),n.dataset.srcset&&(n.srcset=n.dataset.srcset,n.removeAttribute("data-srcset")),n.classList.add("lazy-loaded"),t.unobserve(n)}})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll("img[data-src]").forEach(t=>e.observe(t))}const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=n.dataset.src,n.removeAttribute("data-src"),t.unobserve(n))}})},{rootMargin:"100px 0px"});document.querySelectorAll("iframe[data-src]").forEach(t=>e.observe(t))}function initHeroParallax(){if(window.innerWidth<=768)return;const e=document.querySelectorAll(".hero-badge"),t=document.querySelector(".hero-section");if(!e.length||!t)return;let n=0,o=0,s=0,i=0;t.addEventListener("mousemove",e=>{const s=t.getBoundingClientRect();n=(e.clientX-s.left-s.width/2)/s.width,o=(e.clientY-s.top-s.height/2)/s.height}),t.addEventListener("mouseleave",()=>{n=0,o=0}),function t(){s+=.1*(n-s),i+=.1*(o-i),e.forEach((e,t)=>{const n=8*(t+1),o=s*n,a=i*n;e.style.transform=`translate(${o}px, ${a}px)`}),requestAnimationFrame(t)}()}function initStatsCounter(){const e=document.querySelectorAll(".about-stat-number[data-count]");if(0===e.length)return;let t=!1;const n=e=>{const t=parseInt(e.getAttribute("data-count")),n=e.getAttribute("data-suffix")||"",o=performance.now();let s=-1;const i=a=>{const r=a-o,l=Math.min(r/2e3,1),c=1===(d=l)?1:1-Math.pow(2,-10*d);var d;const u=Math.round(c*t);u!==s&&(e.textContent=u+n,s=u),l<1?requestAnimationFrame(i):e.textContent=t+n};requestAnimationFrame(i)},o=new IntersectionObserver(s=>{s.forEach(s=>{s.isIntersecting&&!t&&(t=!0,e.forEach((e,t)=>{setTimeout(()=>{n(e)},100*t)}),o.disconnect())})},{threshold:.3,rootMargin:"0px"}),s=document.querySelector(".about-stats");s&&o.observe(s)}function initHeroAnimations(){const e=document.querySelector(".typewriter"),t=document.querySelector(".hero-brand");if(!e)return;t&&(t.style.opacity="0",t.style.transform="translateY(20px)");const n=e.textContent.split(""),o=1500/n.length;e.textContent="",e.style.width="auto",setTimeout(()=>{let s=0;const i=setInterval(()=>{s<n.length?(e.textContent+=n[s],s++):(clearInterval(i),setTimeout(()=>{e.classList.add("typing-complete"),t&&(t.style.transition="opacity 0.8s ease, transform 0.8s ease",t.style.opacity="1",t.style.transform="translateY(0)"),void 0!==easterEggTracker&&easterEggTracker.show&&easterEggTracker.show()},300))},o)},800);document.querySelectorAll(".hero-badge").forEach(e=>{let t=null,n=null;e.addEventListener("mouseenter",()=>{t=Date.now(),n&&(clearTimeout(n),n=null),e.classList.remove("badge-explode"),e.classList.add("badge-hover")}),e.addEventListener("mouseleave",()=>{const o=Date.now()-t;e.classList.remove("badge-hover"),o>=300&&(n=setTimeout(()=>{e.classList.add("badge-explode"),setTimeout(()=>{e.classList.remove("badge-explode")},1e3)},150))})})}function initNewsHubAnimations(){const e=document.querySelector(".news-hub-section"),t=document.querySelector(".latest-news-section"),n=document.querySelector(".news-cta-section");if(!e)return;e.classList.remove("in-view"),t&&t.classList.remove("in-view"),n&&n.classList.remove("in-view");const o={root:null,rootMargin:"-50px 0px",threshold:.15},s=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(requestAnimationFrame(()=>{e.target.classList.add("in-view")}),s.unobserve(e.target))})},o),i=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(requestAnimationFrame(()=>{e.target.classList.add("in-view")}),i.unobserve(e.target))})},{...o,threshold:.1}),a=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(requestAnimationFrame(()=>{e.target.classList.add("in-view")}),a.unobserve(e.target))})},{...o,threshold:.2});s.observe(e),t&&i.observe(t),n&&a.observe(n),setTimeout(()=>{const o=(e,t)=>{if(!e)return;const n=e.getBoundingClientRect();n.top<window.innerHeight-100&&n.bottom>0&&!e.classList.contains("in-view")&&(e.classList.add("in-view"),t.unobserve(e))};o(e,s),o(t,i),o(n,a)},200)}function initFeaturedNewsCarousel(){const e=document.querySelector(".featured-carousel-track"),t=document.querySelectorAll(".featured-slide"),n=document.querySelector(".featured-prev"),o=document.querySelector(".featured-next"),s=document.querySelectorAll(".featured-dot"),i=document.querySelector(".featured-indicators");if(!e||0===t.length)return;let a=0,r=null,l=null,c=!1,d=!1;function u(e){s.forEach(e=>e.classList.remove("active"));const t=s[e];t&&(t.style.animation="none",t.offsetHeight,t.style.animation="",t.classList.add("active"))}function m(e="next"){if(c)return;c=!0;const n=t[a];let o;if(o="next"===e?a===t.length-1?0:a+1:"prev"===e?0===a?t.length-1:a-1:e,o===a)return void(c=!1);const s=t[o];u(o),n.style.animation="carouselFadeOut 0.4s ease-out forwards",setTimeout(()=>{n.classList.remove("active"),n.style.animation="",s.classList.add("active"),s.style.animation="carouselFadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards",a=o,setTimeout(()=>{s.style.animation="",c=!1},600)},350)}function p(e){d=e,i&&(e?i.classList.add("paused"):(i.classList.remove("paused"),u(a)))}function f(){c||(m("prev"),v())}function g(){c||(m("next"),v())}function y(){d||(h(),r=setInterval(()=>{c||d||m("next")},8e3))}function h(){r&&(clearInterval(r),r=null),l&&(clearTimeout(l),l=null)}function v(){h(),p(!0),l=setTimeout(()=>{p(!1),y()},12e3)}t[0].classList.add("active"),s[0]?.classList.add("active"),n&&n.addEventListener("click",f),o&&o.addEventListener("click",g),s.forEach((e,t)=>{e.addEventListener("click",()=>function(e){e===a||c||(m(e),v())}(t))});let w=0;e.addEventListener("touchstart",e=>{w=e.touches[0].clientX,h(),p(!0)},{passive:!0}),e.addEventListener("touchend",e=>{const t=e.changedTouches[0].clientX,n=w-t;Math.abs(n)>50&&!c?n>0?g():f():v()},{passive:!0});const b=document.querySelector(".carousel-wrapper");b&&(b.addEventListener("mouseenter",()=>{h(),p(!0)}),b.addEventListener("mouseleave",()=>{p(!1),y()})),document.addEventListener("keydown",e=>{const t=document.querySelector(".news-hub-section");if(!t)return;const n=t.getBoundingClientRect();n.top<window.innerHeight&&n.bottom>0&&!c&&("ArrowLeft"===e.key&&f(),"ArrowRight"===e.key&&g())}),document.addEventListener("visibilitychange",()=>{document.hidden?(h(),d=!0):(d=!1,y())}),y()}function initTestimonialsCarousel(){const e=document.querySelector(".carousel-track"),t=document.querySelectorAll(".testimonial-card"),n=document.querySelector(".carousel-prev"),o=document.querySelector(".carousel-next"),s=document.querySelectorAll(".carousel-indicators .indicator");if(!e||0===t.length)return;let i,a=0,r=!1,l=0,c=0,d=!1;function u(n=!0){if(r)return;r=!0,t.forEach((e,t)=>{e.classList.remove("active"),t===a&&e.classList.add("active")});const o=100*-a;e.style.transition=n?"transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)":"none",e.style.transform=`translateX(${o}%)`,s.forEach((e,t)=>{e.classList.toggle("active",t===a)}),setTimeout(()=>{r=!1},600)}function m(){r||(a=0===a?t.length-1:a-1,u(),y())}function p(){r||(a=a===t.length-1?0:a+1,u(),y())}function f(){i=setInterval(()=>{p()},5e3)}function g(){i&&clearInterval(i)}function y(){g(),f()}function h(t){d=!0,l=t.type.includes("mouse")?t.pageX:t.touches[0].pageX,e.style.transition="none",g()}function v(t){if(!d)return;t.preventDefault(),c=t.type.includes("mouse")?t.pageX:t.touches[0].pageX;const n=100*-a+(c-l)/e.offsetWidth*100;e.style.transform=`translateX(${n}%)`}function w(){if(!d)return;d=!1;const t=c-l,n=.2*e.offsetWidth;Math.abs(t)>n?t>0?m():p():u(),y()}n&&n.addEventListener("click",m),o&&o.addEventListener("click",p),s.forEach((e,t)=>{e.addEventListener("click",()=>function(e){r||e===a||(a=e,u(),y())}(t))});const b=document.querySelector(".carousel-container");b&&(b.addEventListener("touchstart",h,{passive:!1}),b.addEventListener("touchmove",v,{passive:!1}),b.addEventListener("touchend",w),b.addEventListener("mousedown",h),b.addEventListener("mousemove",v),b.addEventListener("mouseup",w),b.addEventListener("mouseleave",()=>{d&&w()})),document.addEventListener("keydown",e=>{"ArrowLeft"===e.key&&m(),"ArrowRight"===e.key&&p()});const E=document.querySelector(".testimonials-carousel");E&&(E.addEventListener("mouseenter",g),E.addEventListener("mouseleave",f)),u(!1),f()}function initNewsletterForm(){const e=document.getElementById("newsletter-form"),t=document.getElementById("newsletter-message");if(!e)return;function n(e,n){if(!t)return;t.querySelector(".message-text").textContent=e,t.className="newsletter-message "+n,t.style.display="block",setTimeout(()=>{t.style.display="none"},8e3)}e.addEventListener("submit",async o=>{o.preventDefault();const s=e.querySelector('input[type="email"]'),i=document.getElementById("newsletter-submit"),a=i.querySelector(".btn-text"),r=i.querySelector(".btn-loader"),l=s.value.trim();if(!l)return;if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){i.disabled=!0,a.style.display="none",r.style.display="inline-flex",t&&(t.style.display="none");try{await new Promise((e,t)=>{let n=0;const o=()=>{"undefined"!=typeof grecaptcha&&grecaptcha.ready?(console.log("âœ… reCAPTCHA detectado, esperando ready()..."),grecaptcha.ready(()=>{console.log("âœ… reCAPTCHA ready!"),e()})):n>=30?(console.error("âŒ reCAPTCHA no se cargÃ³ despuÃ©s de",30,"intentos"),t(new Error("No se pudo cargar el sistema de seguridad. Por favor, recarga la pÃ¡gina o desactiva tu bloqueador de anuncios."))):(n++,console.log(`â³ Esperando reCAPTCHA... intento ${n}/30`),setTimeout(o,500))};o()});const e=await grecaptcha.execute("6LcJzwUsAAAAAC-ecsG89N36b8nnVCt64UOTHKqB",{action:"newsletter_subscribe"}),t=await fetch("/.netlify/functions/mailchimp-subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,recaptchaToken:e})}),o=await t.json();if(!t.ok||!o.success)throw new Error(o.error||"Error al procesar la suscripciÃ³n");n(o.message||"Â¡Gracias por suscribirte! Revisa tu correo para el mensaje de bienvenida.","success"),s.value="",localStorage.setItem("newsletter_subscribed","true")}catch(e){console.error("Error al suscribir:",e),n(e.message||"Hubo un error al procesar tu suscripciÃ³n. Por favor, intenta nuevamente.","error")}finally{i.disabled=!1,a.style.display="inline",r.style.display="none"}}else n("Por favor, ingresa un correo electrÃ³nico vÃ¡lido","error")})}function initNewsSubscribeForm(){const e=document.getElementById("news-subscribe-form");e&&e.addEventListener("submit",async t=>{t.preventDefault();const n=e.querySelector('input[type="email"]'),o=e.querySelector('button[type="submit"]'),s=o.querySelector("span"),i=n.value.trim();if(!i)return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i))return void showNotification("Por favor, ingresa un correo electrÃ³nico vÃ¡lido","error");const a=s.textContent;o.disabled=!0,s.textContent="Enviando...";try{if("undefined"!=typeof grecaptcha){await new Promise(e=>grecaptcha.ready(e));const t=await grecaptcha.execute("6LcJzwUsAAAAAC-ecsG89N36b8nnVCt64UOTHKqB",{action:"newsletter_subscribe"}),r=await fetch("/.netlify/functions/mailchimp-subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,recaptchaToken:t})}),l=await r.json();if(r.ok&&l.success)return e.classList.add("success"),s.textContent="Â¡Suscrito!",n.value="",showNotification("Â¡Gracias por suscribirte! Revisa tu correo.","success"),localStorage.setItem("newsletter_subscribed","true"),void setTimeout(()=>{e.classList.remove("success"),s.textContent=a,o.disabled=!1},3e3);throw new Error(l.error||"Error al procesar la suscripciÃ³n")}throw new Error("Sistema de seguridad no disponible")}catch(e){console.error("Error al suscribir:",e),showNotification(e.message||"Error al suscribir. Intenta de nuevo.","error")}s.textContent=a,o.disabled=!1})}!function(){function e(){const e="color: #ffd166;",t="font-size: 13px; color: #4ecdc4;",n="font-size: 13px; color: #06ffa5; font-weight: bold;",o="font-size: 12px; color: #a8dadc;";console.log("%cğŸ® SALA GEEK","font-size: 20px; font-weight: bold; color: #ffd166; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);"),console.log("%câ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",e),console.log("%c ",""),console.log("%cğŸ‘¨â€ğŸ’» Desarrollado por:",t),console.log("%c   Humberto Marin - Fundador & Lead Developer",n),console.log("%c   GitHub Copilot - AI Assistant & Code Architect",n),console.log("%c ",""),console.log("%cğŸ“¦ VersiÃ³n: 2.0.0 | Noviembre 2025",o),console.log("%câš¡ Stack: Vanilla JS + CSS3 + HTML5",o),console.log("%cğŸ¯ Easter Eggs: 15 ocultos (9 Desktop + 6 Mobile)",o),console.log("%c ",""),console.log("%cğŸ’¡ Â¿Eres desarrollador?",t),console.log("%c   Presiona Ctrl+Shift+G para desbloquear el Developer Console",n),console.log("%c ",""),console.log("%câ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",e),console.log("%cHecho con ğŸ’™ por geeks, para geeks","font-size: 12px; color: #ff6b6b; font-style: italic;"),console.log("%c ","")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();const NOTIFICATION_STYLES={success:"linear-gradient(135deg, #48bb78 0%, #38a169 100%)",error:"linear-gradient(135deg, #f56565 0%, #e53e3e 100%)",info:"linear-gradient(135deg, #4299e1 0%, #3182ce 100%)"};function showNotification(e,t="info"){if(window.areEasterEggsDisabled?.())return;const n=/Android|iPhone|iPad|iPod/.test(navigator.userAgent),o=NOTIFICATION_STYLES[t]||NOTIFICATION_STYLES.info,s=document.createElement("div");s.className=`notification notification-${t}`,s.textContent=e,s.style.cssText=`\n    position: fixed;\n    top: ${n?"90px":"120px"};\n    right: ${n?"10px":"20px"};\n    left: ${n?"10px":"auto"};\n    padding: ${n?"0.75rem 1rem":"1rem 1.5rem"};\n    background: ${o};\n    color: white;\n    border-radius: 8px;\n    box-shadow: 0 8px 32px rgba(0,0,0,0.3);\n    z-index: 100000;\n    max-width: ${n?"100%":"400px"};\n    animation: slideInRight 0.3s ease;\n    font-weight: 500;\n    font-size: ${n?"0.875rem":"1rem"};\n    line-height: 1.4;\n  `,document.body.appendChild(s),setTimeout(()=>{s.style.animation="slideOutRight 0.3s ease",setTimeout(()=>s.remove(),300)},5e3)}if(!document.getElementById("notification-styles")){const e=document.createElement("style");e.id="notification-styles",e.textContent="\n    @keyframes slideInRight {\n      from {\n        transform: translateX(400px);\n        opacity: 0;\n      }\n      to {\n        transform: translateX(0);\n        opacity: 1;\n      }\n    }\n    @keyframes slideOutRight {\n      from {\n        transform: translateX(0);\n        opacity: 1;\n      }\n      to {\n        transform: translateX(400px);\n        opacity: 0;\n      }\n    }\n  ",document.head.appendChild(e)}function initCookieConsent(){const e="sg_cookie_consent",t=document.querySelector(".cookie-consent");if(!t)return;localStorage.getItem(e)||setTimeout(()=>{t.classList.add("show")},1e3);const n=t.querySelector(".cookie-btn.accept");n&&n.addEventListener("click",()=>{localStorage.setItem(e,"accepted"),t.classList.remove("show"),setTimeout(()=>t.remove(),400)});const o=t.querySelector(".cookie-btn.reject");o&&o.addEventListener("click",()=>{localStorage.setItem(e,"rejected"),t.classList.remove("show"),setTimeout(()=>t.remove(),400)})}function initBackToTop(){const e=document.getElementById("back-to-top");if(!e)return;const t=e.querySelector(".progress-ring-progress"),n=2*Math.PI*20;function o(){const o=window.innerHeight,s=document.documentElement.scrollHeight,i=window.pageYOffset||document.documentElement.scrollTop,a=n-i/(s-o)*n;t.style.strokeDashoffset=a;const r=document.body.classList.contains("upside-down-mode");i>300?e.classList.add("visible"):e.classList.remove("visible"),r&&e.classList.contains("visible")?e.style.transform="translateY(0) rotate(180deg)":r&&!e.classList.contains("visible")?e.style.transform="translateY(20px) rotate(180deg)":e.style.transform=""}t.style.strokeDasharray=n,t.style.strokeDashoffset=n,window.addEventListener("scroll",o),window.addEventListener("resize",o);new MutationObserver(()=>{o()}).observe(document.body,{attributes:!0,attributeFilter:["class"]}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),o()}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if(!t||"#"===t)return;const n=document.querySelector(t);if(n){e.preventDefault();const t=100,o=n.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:o,behavior:"smooth"})}})})}function initHeaderScroll(){const e=document.getElementById("header-placeholder"),t=document.querySelector(".site-header");if(!t||!e)return;let n=0;window.addEventListener("scroll",()=>{const o=window.pageYOffset;o>50?(e.classList.add("scrolled"),t.classList.add("scrolled")):(e.classList.remove("scrolled"),t.classList.remove("scrolled"));const s=o/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;t.style.setProperty("--scroll-progress",`${s}%`),n=o},{passive:!0})}function initAdaptiveMenu(){const e=document.querySelector(".menu-landing"),t=document.querySelector(".menu-legal"),n=document.querySelector(".menu-mediakit");if(!e||!t||!n)return;const o=document.body.classList.contains("media-kit-page")||window.location.pathname.includes("media-kit.html"),s=window.location.pathname.includes("/legal/");if(o)e.style.display="none",t.style.display="none",n.style.display="flex";else if(s){e.style.display="none",t.style.display="flex",n.style.display="none";const o=window.location.pathname;t.querySelectorAll(".nav-link").forEach(e=>{const t=new URL(e.href).pathname;o.includes(t)&&!e.classList.contains("nav-link-home")&&e.classList.add("active")})}else e.style.display="flex",t.style.display="none",n.style.display="none"}function initLegalPages(){document.querySelector(".legal-page")&&(setTimeout(()=>{const e=document.querySelector(".legal-header"),t=document.querySelector(".legal-toc");e&&e.classList.add("animate-in"),t&&t.classList.add("animate-in")},100),initLegalTOC(),initLegalSectionAnimations(),initReadingProgress())}function initLegalTOC(){const e=document.querySelectorAll(".legal-toc nav a"),t=document.querySelectorAll(".legal-section[id]"),n=document.querySelector(".legal-toc"),o=document.querySelector(".legal-toc-title");if(0===e.length||0===t.length)return;if(o&&n){let e;window.innerWidth<=992&&n.classList.add("collapsed"),o.addEventListener("click",()=>{n.classList.toggle("collapsed")}),window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{window.innerWidth>992?n.classList.remove("collapsed"):n.classList.contains("collapsed")||n.classList.add("collapsed")},250)})}function s(){const n=window.scrollY+200;let o="",s=-1/0;t.forEach(e=>{const t=e.offsetTop;t<=n&&t>s&&(s=t,o=e.id)}),e.forEach(e=>{const t=e.getAttribute("href")===`#${o}`;t&&!e.classList.contains("active")?e.classList.add("active"):!t&&e.classList.contains("active")&&e.classList.remove("active")})}e.forEach(t=>{t.addEventListener("click",n=>{n.preventDefault();const o=t.getAttribute("href"),s=document.querySelector(o);if(s){const n=130,o=s.getBoundingClientRect().top+window.pageYOffset-n;e.forEach(e=>e.classList.remove("active")),t.classList.add("active"),window.scrollTo({top:o,behavior:"smooth"})}})});let i=!1;window.addEventListener("scroll",()=>{i||(window.requestAnimationFrame(()=>{s(),i=!1}),i=!0)},{passive:!0}),setTimeout(s,100)}function initLegalSectionAnimations(){const e=document.querySelectorAll(".legal-section");if(0===e.length)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-in"),t.unobserve(e.target))})},{threshold:.15,rootMargin:"0px 0px -80px 0px"});e.forEach(e=>{t.observe(e)})}function initReadingProgress(){if(document.querySelector(".reading-progress"))return;const e=document.createElement("div");e.className="reading-progress",e.innerHTML='<div class="reading-progress-bar"></div>';const t=document.createElement("style");t.id="reading-progress-styles",t.textContent="\n    .reading-progress {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 3px;\n      background: rgba(255, 209, 102, 0.08);\n      z-index: 9999;\n      pointer-events: none;\n      opacity: 0;\n      transition: opacity 0.3s ease;\n    }\n    \n    .reading-progress.visible {\n      opacity: 1;\n    }\n    \n    .reading-progress-bar {\n      height: 100%;\n      background: linear-gradient(90deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);\n      width: 0%;\n      transition: width 0.15s ease-out;\n      box-shadow: 0 0 10px rgba(255, 209, 102, 0.5);\n    }\n  ",document.getElementById("reading-progress-styles")||document.head.appendChild(t),document.body.appendChild(e);const n=e.querySelector(".reading-progress-bar");function o(){const t=window.innerHeight,o=document.documentElement.scrollHeight-t,s=window.scrollY,i=s/o*100;s>100?e.classList.add("visible"):e.classList.remove("visible"),n.style.width=`${Math.min(Math.max(i,0),100)}%`}let s=!1;window.addEventListener("scroll",()=>{s||(window.requestAnimationFrame(()=>{o(),s=!1}),s=!0)},{passive:!0}),setTimeout(o,100)}document.addEventListener("DOMContentLoaded",()=>{initDarkMode(),loadIncludes().then(()=>{setTimeout(()=>{initAdaptiveMenu()},50)}),initResponsiveHandler(),initHeroAnimations(),initHeroParallax(),initStatsCounter(),initScrollAnimations(),initLazyLoading(),initNewsHubAnimations(),initFeaturedNewsCarousel(),initTestimonialsCarousel(),initNewsletterForm(),initNewsSubscribeForm(),initCookieConsent(),initSmoothScroll(),initBackToTop(),initHeaderScroll(),initLegalPages()}),window.addEventListener("load",()=>{document.body.classList.add("loaded")});let isSoundPlaying=!1;const soundLibrary={powerup:()=>playBeep([440,554,659,880],[100,100,100,300]),coin:()=>playBeep([988,1319],[100,300]),glitch:()=>playBeep([200,150,100,200],[50,50,50,100]),snap:()=>playBeep([800,600,400,200,100],[100,100,100,100,200]),levelup:()=>playBeep([523,659,784,1047],[150,150,150,400]),success:()=>playBeep([523,587,659,784],[100,100,100,300]),error:()=>playBeep([392,349,294],[150,150,300])};function playBeep(e,t){try{isSoundPlaying=!0;const n=new(window.AudioContext||window.webkitAudioContext);let o=n.currentTime,s=0;e.forEach((e,i)=>{const a=n.createOscillator(),r=n.createGain();a.connect(r),r.connect(n.destination),a.type="square",a.frequency.value=e,r.gain.setValueAtTime(0,o),r.gain.linearRampToValueAtTime(.3,o+.01),r.gain.exponentialRampToValueAtTime(.01,o+t[i]/1e3),a.start(o),a.stop(o+t[i]/1e3),o+=t[i]/1e3,s+=t[i]}),setTimeout(()=>{isSoundPlaying=!1},s)}catch(e){isSoundPlaying=!1}}function playSound(e){window.areEasterEggsDisabled?.()||soundLibrary[e]&&soundLibrary[e]()}function initKonamiCode(){if(!document.body.classList.contains("home"))return;const e=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];let t=0;document.addEventListener("keydown",n=>{if(window.areEasterEggsDisabled?.())return;if(!n.key)return;const o=n.key.toLowerCase(),s=e[t];n.key===s||o===s?(t++,t===e.length&&(activateNESMode(),easterEggTracker.unlock("konami"),t=0)):t=0})}function activateNESMode(){playSound("powerup"),showNotification("ğŸ® Â¡CÃ“DIGO KONAMI DESBLOQUEADO! NES Mode Activated","success");const e=document.createElement("div");e.id="nes-overlay",e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 999999;\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 0.4s ease;\n    background: linear-gradient(\n      0deg,\n      rgba(255, 0, 0, 0.08) 0%,\n      rgba(255, 128, 0, 0.08) 16.66%,\n      rgba(255, 255, 0, 0.08) 33.33%,\n      rgba(0, 255, 0, 0.08) 50%,\n      rgba(0, 128, 255, 0.08) 66.66%,\n      rgba(128, 0, 255, 0.08) 83.33%,\n      rgba(255, 0, 255, 0.08) 100%\n    );\n    animation: rainbowShift 3s linear infinite;\n  ",document.body.appendChild(e);const t={imageRendering:document.body.style.imageRendering,filter:document.body.style.filter,transform:document.body.style.transform};document.body.style.transition="all 0.5s ease",document.body.style.imageRendering="pixelated",document.body.style.filter="contrast(1.2) saturate(1.2) hue-rotate(3deg)";const n=document.createElement("div");n.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: repeating-linear-gradient(\n      0deg,\n      rgba(0, 0, 0, 0.08),\n      rgba(0, 0, 0, 0.08) 2px,\n      transparent 2px,\n      transparent 4px\n    );\n    pointer-events: none;\n    z-index: 999998;\n    opacity: 0;\n    transition: opacity 0.4s ease;\n  ",document.body.appendChild(n);const o=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),s=document.createElement("div"),i=(window.pageYOffset||document.documentElement.scrollTop)+window.innerHeight/2;s.style.cssText=`\n    position: absolute;\n    top: ${i}px;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 1000000;\n    background: linear-gradient(135deg, #1a1a1a 0%, #000 100%);\n    color: #fff;\n    padding: ${o?"1.5rem 2rem":"2.5rem 3.5rem"};\n    border: 3px solid #fff;\n    border-radius: 4px;\n    font-family: 'Press Start 2P', 'Courier New', monospace;\n    font-size: ${o?"1rem":"1.5rem"};\n    text-align: center;\n    box-shadow: \n      0 0 0 6px #000,\n      0 0 0 9px #fff,\n      0 0 30px rgba(6, 255, 165, 0.4),\n      inset 0 0 20px rgba(6, 255, 165, 0.1);\n    opacity: 0;\n    animation: blink 0.5s step-end infinite, fadeIn 0.6s ease forwards;\n  `,s.innerHTML=`\n    <div style="color: #ff6b6b; margin-bottom: 1rem; text-shadow: 2px 2px 0 rgba(0,0,0,0.5);">â˜… POWER UP! â˜…</div>\n    <div style="color: #ffd166; font-size: ${o?"0.85rem":"1rem"}; text-shadow: 2px 2px 0 rgba(0,0,0,0.5);">+1000 POINTS</div>\n    <div style="color: #06ffa5; font-size: ${o?"0.7rem":"0.8rem"}; margin-top: 1rem; text-shadow: 1px 1px 0 rgba(0,0,0,0.5);">KONAMI CODE UNLOCKED</div>\n  `,document.body.appendChild(s);const a=["â˜…","â™¥","â—","â– ","â–²","â™¦"],r=[],l=o?8:12;for(let e=0;e<l;e++)setTimeout(()=>{const e=document.createElement("div"),t=a[Math.floor(Math.random()*a.length)],n=["#ff6b6b","#ffd166","#06ffa5","#4ecdc4","#a8dadc"][Math.floor(5*Math.random())];e.style.cssText=`\n        position: fixed;\n        left: ${100*Math.random()}vw;\n        top: -50px;\n        font-size: ${o?15+20*Math.random():20+25*Math.random()}px;\n        color: ${n};\n        z-index: 999997;\n        pointer-events: none;\n        animation: nesFloat ${4+2*Math.random()}s ease-in-out;\n        text-shadow: \n          1px 1px 0px rgba(0, 0, 0, 0.8),\n          -1px -1px 0px rgba(0, 0, 0, 0.8),\n          1px -1px 0px rgba(0, 0, 0, 0.8),\n          -1px 1px 0px rgba(0, 0, 0, 0.8);\n        filter: drop-shadow(0 0 8px ${n});\n      `,e.textContent=t,document.body.appendChild(e),r.push(e),setTimeout(()=>e.remove(),6e3)},150*e);if(setTimeout(()=>{e.style.opacity="0.15",n.style.opacity="0.4"},100),!document.getElementById("nes-animations")){const e=document.createElement("style");e.id="nes-animations",e.textContent="\n      @keyframes rainbowShift {\n        0% { filter: hue-rotate(0deg); }\n        100% { filter: hue-rotate(360deg); }\n      }\n      @keyframes blink {\n        0%, 49% { opacity: 1; }\n        50%, 100% { opacity: 0.8; }\n      }\n      @keyframes fadeIn {\n        from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }\n        to { opacity: 1; transform: translate(-50%, -50%) scale(1); }\n      }\n      @keyframes nesFloat {\n        0% {\n          transform: translateY(0) rotate(0deg);\n          opacity: 1;\n        }\n        50% {\n          opacity: 0.8;\n        }\n        100% {\n          transform: translateY(100vh) rotate(360deg);\n          opacity: 0;\n        }\n      }\n    ",document.head.appendChild(e)}setTimeout(()=>{e.style.opacity="0",n.style.opacity="0",s.style.animation="fadeOut 0.5s ease forwards",document.body.style.imageRendering=t.imageRendering,document.body.style.filter=t.filter,document.body.style.transform=t.transform,setTimeout(()=>{e.remove(),n.remove(),s.remove(),r.forEach(e=>e.remove())},500)},7e3)}function initLogoEasterEgg(){document.body.classList.contains("home")&&setTimeout(()=>{const e=document.querySelector(".hero-content h1");if(!e)return;let t=0,n=null;e.addEventListener("click",e=>{if(window.areEasterEggsDisabled?.())return;/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024||(e.preventDefault(),t++,n&&clearTimeout(n),2===t&&(activateGlitchStats(),easterEggTracker.unlock("logo"),t=0),n=setTimeout(()=>{t=0},500))}),e.style.cursor="pointer",e.style.userSelect="none"},1e3)}function activateGlitchStats(){if(playSound("glitch"),!document.getElementById("glitch-styles")){const e=document.createElement("style");e.id="glitch-styles",e.textContent="\n      @keyframes glitch {\n        0%, 100% { transform: translate(0); }\n        20% { transform: translate(-2px, 2px); }\n        40% { transform: translate(2px, -2px); }\n        60% { transform: translate(-2px, -2px); }\n        80% { transform: translate(2px, 2px); }\n      }\n    ",document.head.appendChild(e)}const e=document.querySelector(".hero-content h1");if(e){const t=e.textContent;e.style.animation="glitch 0.5s ease",e.style.color="var(--accent-primary)";let n=0;const o=setInterval(()=>{const s="!@#$%^&*()_+{}|:<>?[];',./`~",i=t.split("").map(e=>Math.random()>.7?s[Math.floor(28*Math.random())]:e).join("");e.textContent=i,n++,n>10&&(clearInterval(o),e.textContent=t,e.style.animation="",e.style.color="")},50)}const t=document.querySelector(".site-logo");t&&(t.style.animation="glitch 0.5s ease",setTimeout(()=>{t.style.animation=""},500));const n=[`ğŸ‘¾ Geeks conectados: ${Math.floor(9e3*Math.random())+1e3}`,`ğŸ® Easter Eggs encontrados: ${Math.floor(9*Math.random())+1}/9`,`âš¡ Nivel Geek: ${Math.floor(100*Math.random())}%`,`ğŸ”¥ Racha actual: ${Math.floor(50*Math.random())} dÃ­as`];if(showNotification(n[Math.floor(Math.random()*n.length)],"info"),!document.getElementById("glitch-styles")){const e=document.createElement("style");e.id="glitch-styles",e.textContent="\n      @keyframes glitch {\n        0%, 100% { transform: translate(0); }\n        20% { transform: translate(-2px, 2px); }\n        40% { transform: translate(-2px, -2px); }\n        60% { transform: translate(2px, 2px); }\n        80% { transform: translate(2px, -2px); }\n      }\n    ",document.head.appendChild(e)}}function initSecretWords(){if(!document.body.classList.contains("home"))return;let e="";const t={matrix:activateMatrixRainMode,retro:activate8BitMode,thanos:activateSnapEffect};document.addEventListener("keypress",n=>{window.areEasterEggsDisabled&&window.areEasterEggsDisabled()||n.key&&/^[a-z]$/i.test(n.key)&&(e+=n.key.toLowerCase(),e.length>10&&(e=e.slice(-10)),Object.keys(t).forEach(n=>{e.endsWith(n)&&(t[n](),e="")}))})}function activateMatrixRainMode(){playSound("glitch"),showNotification("ğŸŸ¢ MATRIX MODE: Follow the white rabbit...","success"),easterEggTracker.unlock("matrix");const e=document.createElement("canvas");e.id="matrix-rain-canvas",e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 999999;\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 0.5s ease;\n  ",document.body.appendChild(e);const t=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const n="ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ²ãƒ³01",o=e.width/14,s=Array(Math.floor(o)).fill(1);setTimeout(()=>e.style.opacity="0.9",100);let i=setInterval(()=>{t.fillStyle="rgba(0, 0, 0, 0.05)",t.fillRect(0,0,e.width,e.height),t.fillStyle="#0F0",t.font="14px monospace";for(let o=0;o<s.length;o++){const i=n[Math.floor(48*Math.random())];t.fillText(i,14*o,14*s[o]),14*s[o]>e.height&&Math.random()>.975&&(s[o]=0),s[o]++}},33);setTimeout(()=>{const e=document.createElement("div");e.style.cssText="\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      z-index: 10000000;\n      color: #0F0;\n      font-family: 'Courier New', monospace;\n      font-size: 2rem;\n      text-align: center;\n      text-shadow: 0 0 10px #0F0;\n      opacity: 0;\n      animation: fadeIn 1s ease forwards;\n    ",e.innerHTML='\n      <div>Wake up, Neo...</div>\n      <div style="font-size: 1rem; margin-top: 1rem;">The Matrix has you.</div>\n    ',document.body.appendChild(e),setTimeout(()=>{e.style.animation="fadeOut 1s ease forwards",setTimeout(()=>e.remove(),1e3)},3e3)},2e3),setTimeout(()=>{e.style.opacity="0",setTimeout(()=>{clearInterval(i),e.remove()},500)},1e4)}function activate8BitMode(){playSound("coin"),showNotification("ğŸ•¹ï¸ MODO RETRO 8-BIT ACTIVADO!","info"),easterEggTracker.unlock("retro"),document.body.style.transition="all 0.5s ease",document.body.style.imageRendering="pixelated",document.body.style.filter="contrast(1.2) saturate(1.5)";const e=document.createElement("div");e.id="scanlines-overlay",e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: repeating-linear-gradient(\n      0deg,\n      rgba(0, 0, 0, 0.15),\n      rgba(0, 0, 0, 0.15) 1px,\n      transparent 1px,\n      transparent 2px\n    );\n    pointer-events: none;\n    z-index: 999998;\n    opacity: 0;\n    transition: opacity 0.5s ease;\n  ",document.body.appendChild(e),setTimeout(()=>e.style.opacity="0.5",100),setTimeout(()=>{document.body.style.imageRendering="",document.body.style.filter="",e.style.opacity="0",setTimeout(()=>e.remove(),500)},6e3)}function activateSnapEffect(){playSound("snap"),showNotification("ğŸ’ THANOS SNAP ACTIVADO! *chasquido*","error"),easterEggTracker.unlock("thanos");const e=document.querySelectorAll("section > *, .hero-badge, .testimonial-card, .about-stat"),t=Array.from(e),n=t.sort(()=>Math.random()-.5).slice(0,Math.floor(t.length/2));n.forEach((e,t)=>{setTimeout(()=>{e.style.transition="all 1s ease",e.style.opacity="0",e.style.transform="scale(0.8) translateY(20px)",e.style.filter="blur(5px)"},50*t)}),setTimeout(()=>{n.forEach(e=>{e.style.transition="all 1s ease",e.style.opacity="",e.style.transform="",e.style.filter="",setTimeout(()=>{e.style.transition=""},1e3)})},4e3)}function initTimeEasterEgg(){if(!document.body.classList.contains("home"))return;let e=!1;setInterval(()=>{const t=new Date,n=t.getHours(),o=t.getMinutes();(3===n&&33===o||15===n&&33===o)&&!e&&(e=!0,activateJumpScare(),setTimeout(()=>{e=!1},12e4))},6e4)}function activateJumpScare(){playSound("error");const e=document.createElement("div");e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background: #000;\n    z-index: 99999999;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    opacity: 1;\n  ",document.body.appendChild(e);const t=document.createElement("div");t.style.cssText="\n    font-size: 10rem;\n    animation: glitchScare 0.1s infinite;\n    text-shadow: 0 0 30px #ff0000;\n    z-index: 100000000;\n  ",t.textContent="ğŸ‘»",e.appendChild(t);const n=document.createElement("div");if(n.style.cssText="\n    position: absolute;\n    bottom: 30%;\n    color: #ff0000;\n    font-size: 2.5rem;\n    font-family: 'Courier New', monospace;\n    text-align: center;\n    animation: blink 0.3s infinite;\n    z-index: 100000000;\n    text-shadow: 0 0 10px #ff0000;\n    font-weight: bold;\n  ",n.textContent="3:33... LA HORA DEL DIABLO",e.appendChild(n),!document.getElementById("jumpscare-styles")){const e=document.createElement("style");e.id="jumpscare-styles",e.textContent="\n      @keyframes glitchScare {\n        0% { transform: translate(0) scale(1); filter: hue-rotate(0deg); }\n        20% { transform: translate(-10px, 10px) scale(1.1); filter: hue-rotate(90deg); }\n        40% { transform: translate(10px, -10px) scale(0.9); filter: hue-rotate(180deg); }\n        60% { transform: translate(-10px, -10px) scale(1.1); filter: hue-rotate(270deg); }\n        80% { transform: translate(10px, 10px) scale(0.9); filter: hue-rotate(360deg); }\n        100% { transform: translate(0) scale(1); filter: hue-rotate(0deg); }\n      }\n    ",document.head.appendChild(e)}setTimeout(()=>{e.style.transition="opacity 0.5s ease",e.style.opacity="0",setTimeout(()=>e.remove(),500),showNotification("â° Â¿Te asustÃ©? ğŸ˜ˆ Son las 3:33... hora mÃ¡gica","error")},3e3)}function initCornerClicks(){if(!document.body.classList.contains("home"))return;const e=["top-left","top-right","bottom-right","bottom-left"];let t=0,n=Date.now();if(document.addEventListener("click",o=>{if(window.areEasterEggsDisabled?.())return;if(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024)return;const s=o.clientX,i=o.clientY,a=window.innerWidth,r=window.innerHeight,l=120;let c=null;if(s<l&&i<l?c="top-left":s>a-l&&i<l?c="top-right":s>a-l&&i>r-l?c="bottom-right":s<l&&i>r-l&&(c="bottom-left"),Date.now()-n>6e3&&(t=0),c&&c===e[t]){t++,n=Date.now();const o=document.createElement("div"),s={"top-left":"â†–ï¸","top-right":"â†—ï¸","bottom-right":"â†˜ï¸","bottom-left":"â†™ï¸"};o.textContent=s[c],o.style.cssText=`\n        position: fixed;\n        ${c.includes("top")?"top: 20px":"bottom: 20px"};\n        ${c.includes("left")?"left: 20px":"right: 20px"};\n        font-size: 3rem;\n        z-index: 10001;\n        animation: pulseCorner 0.5s ease;\n        pointer-events: none;\n      `,document.body.appendChild(o),setTimeout(()=>o.remove(),500),playSound("coin"),t===e.length&&(activateDeveloperConsole(),easterEggTracker.unlock("corners"),t=0)}else if(c){const e=document.createElement("div");e.textContent="âŒ",e.style.cssText=`\n        position: fixed;\n        ${c.includes("top")?"top: 20px":"bottom: 20px"};\n        ${c.includes("left")?"left: 20px":"right: 20px"};\n        font-size: 2rem;\n        z-index: 10001;\n        animation: pulseCorner 0.3s ease;\n        pointer-events: none;\n      `,document.body.appendChild(e),setTimeout(()=>e.remove(),300),t=0}}),!document.getElementById("corner-pulse-style")){const e=document.createElement("style");e.id="corner-pulse-style",e.textContent="\n      @keyframes pulseCorner {\n        0% { transform: scale(0); opacity: 1; }\n        50% { transform: scale(1.5); opacity: 0.8; }\n        100% { transform: scale(0); opacity: 0; }\n      }\n    ",document.head.appendChild(e)}}function activateDeveloperConsole(){playSound("levelup"),showNotification("ğŸ’» Â¡DEVELOPER CONSOLE DESBLOQUEADO! Revisa F12","success"),easterEggTracker.unlock("corners"),console.clear(),console.log("%cğŸ® SALA GEEK - DEVELOPER MODE","font-size: 28px; color: #ffd166; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);"),console.log("%câ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","color: #ffd166;"),console.log("%cÂ¡Felicidades! Has desbloqueado el Developer Console","font-size: 16px; color: #48bb78; font-weight: bold;"),console.log("%c ",""),console.log("%cEstadÃ­sticas del sitio:","font-size: 14px; color: #4299e1; font-weight: bold;"),console.table({"ğŸ¯ VersiÃ³n":"2.0.0","ğŸ® Easter Eggs":"9 Desktop + 6 Mobile","âš¡ Nivel Geek":"LEGENDARY","ğŸ’» Framework":"Vanilla JS","ğŸ“¦ LÃ­neas de cÃ³digo":"~3500+","ğŸ¨ Tema":"Dark/Light Mode"}),console.log("%c ",""),console.log("%cğŸ’¡ Â¿Quieres ver todos los Easter Eggs?","font-size: 12px; color: #f6ad55; font-weight: bold;"),console.log("%cEjecuta: showAllEasterEggs()","color: #06ffa5; font-style: italic;"),console.log("%câ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","color: #ffd166;"),window.showAllEasterEggs=function(){console.clear(),console.log("%cğŸ¯ LISTA COMPLETA DE EASTER EGGS","font-size: 20px; color: #ffd166; font-weight: bold;"),console.log("%câ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","color: #ffd166;"),console.log("%cğŸ’» DESKTOP (9 Easter Eggs):","font-size: 14px; color: #4ecdc4; font-weight: bold;"),console.log("%c1. ğŸ® CÃ³digo Konami: â¬†ï¸â¬†ï¸â¬‡ï¸â¬‡ï¸â¬…ï¸â¡ï¸â¬…ï¸â¡ï¸BA","color: #fff;"),console.log("%c2. âœ¨ Doble click en 'Sala Geek' del hero","color: #fff;"),console.log("%c3. ğŸŸ¢ Escribir: 'matrix' (Matrix Rain)","color: #fff;"),console.log("%c4. ğŸ•¹ï¸ Escribir: 'retro' (8-Bit Mode)","color: #fff;"),console.log("%c5. ğŸ’ Escribir: 'thanos' (Snap Effect)","color: #fff;"),console.log("%c6. ğŸ”² Click en esquinas: â†–ï¸â†—ï¸â†˜ï¸â†™ï¸","color: #fff;"),console.log("%c7. ğŸ–±ï¸ Shake del mouse (mover rÃ¡pido)","color: #fff;"),console.log("%c8. âŒ¨ï¸ Ctrl + Shift + G (Geek Mode)","color: #fff;"),console.log("%c9. ğŸ“œ Scroll al 100% (mensaje secreto)","color: #fff;"),console.log("%c ",""),console.log("%cğŸ“± MOBILE (6 Easter Eggs):","font-size: 14px; color: #ff6b6b; font-weight: bold;"),console.log("%c1. ğŸ® Triple tap en 'Sala Geek'","color: #fff;"),console.log("%c2. âœ¨ Long press en email newsletter","color: #fff;"),console.log("%c3. ğŸ•¹ï¸ Long press en botÃ³n 'Ãšnete Ahora'","color: #fff;"),console.log("%c4. ğŸ’ Double tap en copyright","color: #fff;"),console.log("%c5. âŒ¨ï¸ Long press en 'Sala Geek' del footer","color: #fff;"),console.log("%c6. ğŸ“œ Scroll al 100% (mensaje secreto)","color: #fff;"),console.log("%câ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","color: #ffd166;"),console.log("%cğŸ† Â¡DesbloqueÃ¡los todos para ser un DIOS GEEK!","font-size: 14px; color: #06ffa5; font-weight: bold;")}}function initMouseShake(){if(!document.body.classList.contains("home"))return;let e=0,t=0,n=0,o=null,s=!1,i=[];document.addEventListener("mousemove",a=>{if(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024)return;if(s)return;const r=a.clientX,l=a.clientY,c=r-e,d=l-t;if(Math.sqrt(c*c+d*d)>30){if(i.push({x:r,y:l,time:Date.now()}),i.length>20&&i.shift(),i.length>=3){const e=i.slice(-3),t=e[1].x-e[0].x,o=e[2].x-e[1].x;(t>0&&o<0||t<0&&o>0)&&n++}if(n>=15){i[i.length-1].time-i[0].time<2e3&&(activateMouseDodge(),n=0,s=!0,i=[])}}o&&clearTimeout(o),o=setTimeout(()=>{n=0,i=[]},1e3),e=r,t=l})}function activateMouseDodge(){playSound("coin"),showNotification("ğŸƒ Â¡Los elementos te esquivan! Mueve el mouse rÃ¡pido","success"),easterEggTracker.unlock("shake");const e=document.querySelectorAll(".hero-badge, .btn, .testimonial-card, .stat-card");e.forEach(e=>{e.style.transition="transform 0.15s ease-out",e.dataset.originalTransform=e.style.transform||""});const t=t=>{e.forEach(e=>{const n=e.getBoundingClientRect(),o=n.left+n.width/2,s=n.top+n.height/2,i=t.clientX-o,a=t.clientY-s,r=Math.sqrt(i*i+a*a);if(r<180){const t=Math.atan2(a,i),n=Math.max(0,180-r)/2.5,o=-Math.cos(t)*n,s=-Math.sin(t)*n;e.style.transform=`translate(${o}px, ${s}px) scale(1.05) ${e.dataset.originalTransform}`}else e.style.transform=e.dataset.originalTransform})};document.addEventListener("mousemove",t),setTimeout(()=>{document.removeEventListener("mousemove",t),e.forEach(e=>{e.style.transform=e.dataset.originalTransform,e.style.transition="",delete e.dataset.originalTransform}),showNotification("ğŸ¯ Mouse Dodge desactivado","info")},6e3)}function initKeyboardCombo(){document.body.classList.contains("home")&&document.addEventListener("keydown",e=>{/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024||e.ctrlKey&&e.shiftKey&&"G"===e.key&&(e.preventDefault(),activateGeekMode())})}function activateGeekMode(){playSound("levelup"),showNotification("ğŸ¤“ Â¡GEEK MODE ACTIVADO! Terminal Hacker Style","success"),easterEggTracker.unlock("combo");const e=document.createElement("div");e.id="geek-mode-terminal",e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(135deg, rgba(0, 20, 0, 0.98) 0%, rgba(0, 0, 0, 0.98) 100%);\n    color: #00ff00;\n    font-family: 'Courier New', monospace;\n    padding: 2rem;\n    z-index: 999999;\n    overflow-y: auto;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n    text-shadow: 0 0 5px rgba(0, 255, 0, 0.5);\n  ";let t="<div style='margin-bottom: 1rem; border-bottom: 2px solid #00ff00; padding-bottom: 0.5rem;'><span style='color:#ffd166'>â”Œâ”€[</span><span style='color:#ff6b6b'>root</span><span style='color:#ffd166'>@</span><span style='color:#06ffa5'>sala-geek</span><span style='color:#ffd166'>]</span><br><span style='color:#ffd166'>â””â”€â”€â•¼ $</span></div>";["$ iniciando sistema...","$ autenticando credenciales geek...","$ [<span style='color:#00ff00'>OK</span>] Anime Database","$ [<span style='color:#00ff00'>OK</span>] Gaming News Feed","$ [<span style='color:#00ff00'>OK</span>] Tech Updates Stream","$ [<span style='color:#00ff00'>OK</span>] Pop Culture Monitor","$ [<span style='color:#00ff00'>OK</span>] Easter Egg Tracker","$ <span style='color:#ffd166'>================================</span>","$ <span style='color:#06ffa5'>SALA GEEK</span> v2.0.0","$ Sistema: <span style='color:#00ff00'>OPERATIONAL</span>","$ Nivel Geek: <span style='color:#ff6b6b'>LEGENDARY</span>","$ Easter Eggs: <span style='color:#ffd166'>15/15</span> disponibles","$ Uptime: <span style='color:#4ecdc4'>âˆ</span> dÃ­as","$ <span style='color:#ffd166'>================================</span>","$ <span style='color:#ff6b6b'>ACCESO COMPLETO OTORGADO</span>","$ Presiona <span style='color:#ffd166'>ESC</span> para salir..."].forEach((n,o)=>{setTimeout(()=>{t+=n+"<br>",e.innerHTML=t,e.scrollTop=e.scrollHeight},150*o)}),document.body.appendChild(e),setTimeout(()=>e.style.opacity="1",100);const n=t=>{"Escape"===t.key&&(e.style.opacity="0",setTimeout(()=>e.remove(),300),document.removeEventListener("keydown",n))};document.addEventListener("keydown",n)}function initSpecialDates(){const e=new Date,t=e.getMonth()+1,n=e.getDate();5===t&&4===n&&setTimeout(()=>{showNotification("ğŸŒŸ May the 4th be with you! Happy Star Wars Day!","info"),applyStarWarsTheme()},2e3),3===t&&14===n&&setTimeout(()=>{showNotification("ğŸ¥§ Happy Pi Day! Ï€ = 3.14159265...","info"),rainPiNumbers(),applyMathTheme()},2e3),10===t&&31===n&&setTimeout(()=>{showNotification("ğŸƒ Happy Halloween! Boo! ğŸ‘»","info"),applyHalloweenTheme()},2e3),12!==t||24!==n&&25!==n||setTimeout(()=>{showNotification("ğŸ„ Â¡Feliz Navidad! Ho Ho Ho! ğŸ…","success"),applyChristmasTheme()},2e3),(12===t&&31===n||1===t&&1===n)&&setTimeout(()=>{showNotification("ğŸ† Â¡Feliz AÃ±o Nuevo! 2025 ğŸ‰","success"),applyNewYearTheme()},2e3)}function applyStarWarsTheme(){console.log("ğŸŒŸ Aplicando tema Star Wars"),playSound("powerup");const e=document.createElement("div");e.id="starwars-overlay",e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background: linear-gradient(180deg, #000000 0%, #0a0a2e 100%);\n    z-index: 9998;\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 1s ease;\n  ",document.body.appendChild(e),setTimeout(()=>e.style.opacity="0.8",100);for(let e=0;e<150;e++)setTimeout(()=>{const e=document.createElement("div");e.className="starwars-star",e.style.cssText=`\n        position: fixed;\n        width: ${1+3*Math.random()}px;\n        height: ${1+3*Math.random()}px;\n        background: white;\n        border-radius: 50%;\n        left: ${100*Math.random()}vw;\n        top: ${100*Math.random()}vh;\n        z-index: 9999;\n        pointer-events: none;\n        animation: twinkle ${1+2*Math.random()}s infinite;\n        box-shadow: 0 0 ${2+4*Math.random()}px white;\n      `,document.body.appendChild(e)},20*e);setTimeout(()=>{const e=document.createElement("div");e.style.cssText="\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      color: #FFE81F;\n      font-size: 3rem;\n      font-weight: bold;\n      text-align: center;\n      z-index: 10000;\n      text-shadow: 0 0 20px #FFE81F;\n      animation: fadeIn 2s ease;\n    ",e.textContent="May the 4th be with you",document.body.appendChild(e),setTimeout(()=>{e.style.animation="fadeOut 1s ease",setTimeout(()=>e.remove(),1e3)},4e3)},1e3),setTimeout(()=>{e.style.opacity="0";document.querySelectorAll(".starwars-star").forEach(e=>e.remove()),setTimeout(()=>e.remove(),1e3)},12e3)}function applyMathTheme(){console.log("ğŸ¥§ Aplicando tema matemÃ¡tico");const e=document.createElement("div");e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(255, 209, 102, 0.1);\n    z-index: 9998;\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 1s ease;\n  ",document.body.appendChild(e),setTimeout(()=>e.style.opacity="1",100),setTimeout(()=>{e.style.opacity="0",setTimeout(()=>e.remove(),1e3)},12e3)}function applyHalloweenTheme(){if(console.log("ğŸƒ Aplicando tema Halloween"),playSound("error"),!document.getElementById("fall-animation")){const e=document.createElement("style");e.id="fall-animation",e.textContent="\n      @keyframes fall {\n        0% {\n          transform: translateY(0) rotate(0deg);\n          opacity: 1;\n        }\n        100% {\n          transform: translateY(100vh) rotate(360deg);\n          opacity: 0;\n        }\n      }\n    ",document.head.appendChild(e)}const e=document.createElement("div");e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(255, 102, 0, 0.15);\n    z-index: 9998;\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 1s ease;\n  ",document.body.appendChild(e),setTimeout(()=>e.style.opacity="1",100);for(let e=0;e<15;e++)setTimeout(()=>{const e=document.createElement("div");e.textContent=["ğŸƒ","ğŸ‘»","ğŸ¦‡","ğŸ’€"][Math.floor(4*Math.random())],e.style.cssText=`\n        position: fixed;\n        font-size: ${30+40*Math.random()}px;\n        left: ${100*Math.random()}vw;\n        top: -100px;\n        z-index: 9999;\n        pointer-events: none;\n        animation: fall ${5+3*Math.random()}s linear forwards;\n        filter: drop-shadow(0 0 10px orange);\n      `,document.body.appendChild(e),setTimeout(()=>e.remove(),8e3)},400*e);setTimeout(()=>{e.style.opacity="0",setTimeout(()=>e.remove(),1e3)},12e3)}function applyChristmasTheme(){if(console.log("ğŸ„ Aplicando tema Navidad"),playSound("success"),!document.getElementById("fall-animation")){const e=document.createElement("style");e.id="fall-animation",e.textContent="\n      @keyframes fall {\n        0% {\n          transform: translateY(0) rotate(0deg);\n          opacity: 1;\n        }\n        100% {\n          transform: translateY(100vh) rotate(360deg);\n          opacity: 0;\n        }\n      }\n    ",document.head.appendChild(e)}const e=document.createElement("div");e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(135, 206, 250, 0.1);\n    z-index: 9998;\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 1s ease;\n  ",document.body.appendChild(e),setTimeout(()=>e.style.opacity="1",100);for(let e=0;e<80;e++)setTimeout(()=>{const e=document.createElement("div");e.textContent=["â„ï¸","â›„","ğŸ„","ğŸ…"][Math.floor(10*Math.random())<7?0:Math.floor(4*Math.random())],e.style.cssText=`\n        position: fixed;\n        font-size: ${10+25*Math.random()}px;\n        left: ${100*Math.random()}vw;\n        top: -50px;\n        z-index: 9999;\n        pointer-events: none;\n        animation: fall ${3+3*Math.random()}s linear forwards;\n        opacity: ${.6+.4*Math.random()};\n        filter: drop-shadow(0 0 5px white);\n      `,document.body.appendChild(e),setTimeout(()=>e.remove(),6e3)},80*e);setTimeout(()=>{e.style.opacity="0",setTimeout(()=>e.remove(),1e3)},15e3)}function applyNewYearTheme(){console.log("ğŸ† Aplicando tema AÃ±o Nuevo"),playSound("success");const e=document.createElement("div");e.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background: linear-gradient(180deg, rgba(255,215,0,0.1) 0%, rgba(255,20,147,0.1) 100%);\n    z-index: 9998;\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 1s ease;\n  ",document.body.appendChild(e),setTimeout(()=>e.style.opacity="1",100);for(let e=0;e<30;e++)setTimeout(()=>{const e=document.createElement("div");e.textContent=["ğŸ†","ğŸ‡","âœ¨","ğŸ’¥","ğŸ‰"][Math.floor(5*Math.random())],e.style.cssText=`\n        position: fixed;\n        font-size: ${40+50*Math.random()}px;\n        left: ${100*Math.random()}vw;\n        top: ${60*Math.random()}vh;\n        z-index: 9999;\n        pointer-events: none;\n        animation: explode 1.5s ease-out;\n        filter: drop-shadow(0 0 10px gold);\n      `,document.body.appendChild(e),setTimeout(()=>e.remove(),1500)},250*e);if(!document.getElementById("explode-animation")){const e=document.createElement("style");e.id="explode-animation",e.textContent="\n      @keyframes explode {\n        0% { transform: scale(0) rotate(0deg); opacity: 1; }\n        50% { transform: scale(1.5) rotate(180deg); opacity: 1; }\n        100% { transform: scale(0) rotate(360deg); opacity: 0; }\n      }\n    ",document.head.appendChild(e)}setTimeout(()=>{e.style.opacity="0",setTimeout(()=>e.remove(),1e3)},12e3)}function rainPiNumbers(){const e="31415926535897932384626433832795028841971693993751",t=document.createElement("div");t.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    z-index: 999997;\n    overflow: hidden;\n  ",document.body.appendChild(t);for(let n=0;n<30;n++)setTimeout(()=>{const n=document.createElement("div");n.textContent=e[Math.floor(50*Math.random())],n.style.cssText=`\n        position: absolute;\n        top: -50px;\n        left: ${100*Math.random()}%;\n        font-size: ${20+30*Math.random()}px;\n        color: #ffd166;\n        font-weight: bold;\n        animation: fall ${3+2*Math.random()}s linear;\n        opacity: 0.8;\n      `,t.appendChild(n),setTimeout(()=>n.remove(),5e3)},100*n);if(!document.getElementById("fall-animation")){const e=document.createElement("style");e.id="fall-animation",e.textContent="\n      @keyframes fall {\n        to {\n          transform: translateY(100vh) rotate(360deg);\n          opacity: 0;\n        }\n      }\n    ",document.head.appendChild(e)}setTimeout(()=>t.remove(),6e3)}function initScrollSecret(){if(!document.body.classList.contains("home"))return;let e=!1;window.addEventListener("scroll",()=>{if(window.areEasterEggsDisabled?.())return;if(e)return;const t=document.documentElement.scrollHeight;(window.pageYOffset||document.documentElement.scrollTop)+window.innerHeight>=t-10&&(e=!0,revealFooterSecret())})}function revealFooterSecret(){if(window.areEasterEggsDisabled?.())return;playSound("success"),showNotification("ğŸ‰ Â¡MENSAJE SECRETO DESBLOQUEADO! Mira el footer...","success"),easterEggTracker.unlock("scroll");const e=document.querySelector(".site-footer");if(e){const t=document.createElement("div");if(t.className="footer-secret-message",t.style.cssText="\n      text-align: center;\n      padding: 1rem;\n      margin-top: 1rem;\n      margin-bottom: 0;\n      background: linear-gradient(135deg, rgba(255, 209, 102, 0.1), rgba(239, 71, 111, 0.1));\n      border-radius: 8px;\n      border: 2px solid var(--accent-primary);\n      animation: pulse 2s ease-in-out infinite;\n      z-index: 1;\n      position: relative;\n    ",t.innerHTML='\n      <p style="margin: 0; color: var(--accent-primary); font-weight: bold;">\n        ğŸ† Â¡FELICIDADES! Llegaste hasta el final\n      </p>\n      <p style="margin: 0.5rem 0 0; color: var(--text-secondary); font-size: 0.9rem;">\n        Eres un verdadero geek. Sigue explorando para mÃ¡s secretos ğŸ®\n      </p>\n    ',e.appendChild(t),!document.getElementById("pulse-animation")){const e=document.createElement("style");e.id="pulse-animation",e.textContent="\n        @keyframes pulse {\n          0%, 100% { transform: scale(1); opacity: 1; }\n          50% { transform: scale(1.02); opacity: 0.8; }\n        }\n      ",document.head.appendChild(e)}}}const easterEggTracker={eggs:{konami:!1,logo:!1,matrix:!1,retro:!1,thanos:!1,corners:!1,shake:!1,combo:!1,scroll:!1},isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024,getTotalEggs(){return this.isMobile?6:9},getLevel(){const e=this.getUnlockedCount();if(this.isMobile){const t=[{name:"Novato",min:0,max:0},{name:"Explorador",min:1,max:1},{name:"Cazador",min:2,max:3},{name:"Maestro",min:4,max:4},{name:"Leyenda",min:5,max:5},{name:"Dios Geek",min:6,max:1/0}];return t.find(t=>e>=t.min&&e<=t.max)||t[0]}{const t=[{name:"Novato",min:0,max:0},{name:"Explorador",min:1,max:2},{name:"Cazador",min:3,max:4},{name:"Maestro",min:5,max:6},{name:"Leyenda",min:7,max:8},{name:"Dios Geek",min:9,max:1/0}];return t.find(t=>e>=t.min&&e<=t.max)||t[0]}},init(){const e=localStorage.getItem("easterEggProgress");if(e&&(this.eggs=JSON.parse(e)),this.updateUI(),this.isMobile){const e=document.createElement("style");e.id="tracker-mobile-styles",e.textContent="\n        .achievement.desktop-only {\n          display: none !important;\n        }\n      ",document.getElementById("tracker-mobile-styles")||document.head.appendChild(e)}const t=document.getElementById("easter-egg-tracker");t&&(t.classList.add("collapsed"),localStorage.setItem("trackerCollapsed","true"));const n=document.getElementById("tracker-toggle");n&&t&&n.addEventListener("click",()=>{t.classList.toggle("collapsed");const e=t.classList.contains("collapsed");localStorage.setItem("trackerCollapsed",e)});const o=document.getElementById("reset-achievements");o&&o.addEventListener("click",()=>{confirm("Â¿Seguro que quieres resetear todos los logros?")&&this.reset()}),setTimeout(()=>{0===this.getUnlockedCount()&&this.showFloatingHint()},3e3),this.initTrackerPositioning(),this.initResizeListener()},show(){const e=document.getElementById("easter-egg-tracker");e?setTimeout(()=>{e.style.visibility="visible",e.style.display="block",e.style.zIndex="9999";const t=window.innerWidth<=480,n=e.animate([{opacity:0,transform:t?"translateY(400px)":"translateX(400px)"},{opacity:1,transform:t?"translateY(0)":"translateX(0)"}],{duration:800,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"forwards"});n.onfinish=()=>{e.style.opacity="1",e.style.transform="translate(0, 0)"},n.onerror=()=>{e.style.opacity="1",e.style.transform="translate(0, 0)"}},800):console.error("Easter Egg Tracker: elemento #easter-egg-tracker no encontrado")},updatePlatformDetection(){const e=this.isMobile;if(this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024,e!==this.isMobile){console.log("ğŸ“± Cambio de plataforma detectado: "+(this.isMobile?"Mobile/Tablet (â‰¤1024px)":"Desktop (>1024px)"));const e=document.getElementById("tracker-mobile-styles");if(this.isMobile&&!e){const e=document.createElement("style");e.id="tracker-mobile-styles",e.textContent="\n          .achievement.desktop-only {\n            display: none !important;\n          }\n        ",document.head.appendChild(e)}else!this.isMobile&&e&&e.remove();this.updateUI()}},initResizeListener(){let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{this.updatePlatformDetection()},250)})},initTrackerPositioning(){const e=document.getElementById("easter-egg-tracker");if(!e)return;let t=!1,n=!1;const o=()=>{const o=document.querySelector(".site-footer");if(!o||n)return;const s=o.getBoundingClientRect(),i=window.innerHeight-s.top;if(i>0&&!t){t=!0,n=!0;const o=window.innerWidth<=480;e.animate([{opacity:1,transform:"translate(0, 0)"},{opacity:0,transform:o?"translateY(100px)":"translateX(100px)"}],{duration:300,easing:"ease-out",fill:"forwards"}).onfinish=()=>{e.style.visibility="hidden",e.style.pointerEvents="none",n=!1}}else if(i<=0&&t){t=!1,n=!0,e.style.visibility="visible",e.style.pointerEvents="auto";const o=window.innerWidth<=480;e.animate([{opacity:0,transform:o?"translateY(100px)":"translateX(100px)"},{opacity:1,transform:"translate(0, 0)"}],{duration:300,easing:"ease-out",fill:"forwards"}).onfinish=()=>{e.style.opacity="1",e.style.transform="translate(0, 0)",n=!1}}};window.addEventListener("scroll",o,{passive:!0}),window.addEventListener("resize",o),setTimeout(()=>{o()},1500)},unlock(e){this.eggs[e]||(this.eggs[e]=!0,this.save(),this.updateUI(),this.showUnlockAnimation(e),setTimeout(()=>{isSoundPlaying||playSound("success")},100))},save(){localStorage.setItem("easterEggProgress",JSON.stringify(this.eggs))},reset(){Object.keys(this.eggs).forEach(e=>{this.eggs[e]=!1}),this.save(),this.updateUI(),showNotification("ğŸ”„ Logros reseteados. Â¡Vuelve a cazarlos todos!","info")},getUnlockedCount(){const e=["konami","logo","retro","thanos","combo","scroll"];return this.isMobile?e.filter(e=>this.eggs[e]).length:Object.values(this.eggs).filter(Boolean).length},updateUI(){const e=this.getUnlockedCount(),t=this.getTotalEggs(),n=document.getElementById("tracker-count"),o=document.getElementById("progress-bar"),s=document.getElementById("geek-level");if(n){const o=n.querySelector("span");o?o.textContent=`${e}/${t}`:n.textContent=`${e}/${t}`}if(o&&(o.style.width=e/t*100+"%"),s){const e=this.getLevel();s.textContent=`Nivel Geek: ${e.name}`}Object.keys(this.eggs).forEach(e=>{const t=document.querySelector(`[data-egg="${e}"]`);t&&(this.eggs[e]?(t.classList.remove("locked"),t.classList.add("unlocked")):(t.classList.add("locked"),t.classList.remove("unlocked")))})},showUnlockAnimation(e){const t=document.querySelector(`[data-egg="${e}"]`);t&&t.classList.add("unlocked");const n=document.querySelector(".tracker-icon");n&&(n.style.animation="none",setTimeout(()=>{n.style.animation="iconSpin 0.6s ease"},10));const o=document.getElementById("tracker-count");o&&(o.style.animation="none",setTimeout(()=>{o.style.animation="pulseCounter 0.6s ease"},10));const s=this.getLevel(),i=this.getTotalEggs();showNotification(`ğŸ‰ Â¡Logro desbloqueado! ${this.getUnlockedCount()}/${i} - Nivel: ${s.name}`,"success"),this.getUnlockedCount()===i&&setTimeout(()=>this.showCompletionCelebration(),500)},showCompletionCelebration(){playSound("levelup");showNotification(this.isMobile?"ğŸ† Â¡INCREÃBLE! Â¡Has encontrado todos los Easter Eggs mÃ³viles! Â¡Eres un DIOS GEEK! ğŸ®":"ğŸ† Â¡INCREÃBLE! Â¡Has encontrado todos los Easter Eggs! Â¡Eres un DIOS GEEK! ğŸ®","success");let e=document.getElementById("confetti-container");e||(e=document.createElement("div"),e.id="confetti-container",document.body.appendChild(e));const t=window.pageYOffset||document.documentElement.scrollTop;e.style.cssText=`\n      position: absolute;\n      top: ${t}px;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      z-index: 99999;\n      pointer-events: none;\n      overflow: hidden;\n    `;for(let t=0;t<50;t++)setTimeout(()=>{const t=document.createElement("div");t.textContent=["ğŸ‰","ğŸŠ","â­","ğŸ†","ğŸ‘‘"][Math.floor(5*Math.random())],t.className="celebration-confetti";const n=100*Math.random(),o=1+1.5*Math.random(),s=25+35*Math.random(),i=360*Math.random(),a=3*(Math.random()-.5);t.style.cssText=`\n          position: absolute;\n          left: ${n}vw;\n          top: -80px;\n          font-size: ${s}px;\n          transform: rotate(${i}deg);\n          pointer-events: none;\n        `,e.appendChild(t);let r=-80,l=n;const c=Date.now(),d=()=>{const e=Date.now()-c,s=e/(1e3*o);r=(window.innerHeight+100)*Math.pow(s,1.5)-80,l=n+a*s,t.style.top=`${r}px`,t.style.left=`${l}vw`,t.style.transform=`rotate(${i+.5*e}deg)`,r<window.innerHeight+50&&e<1e3*o?requestAnimationFrame(d):t.remove()};requestAnimationFrame(d)},30*t);setTimeout(()=>{e.remove()},3e3)},showFloatingHint(){const e=document.createElement("div");e.className="easter-egg-hint";const t=this.isMobile?"ğŸ“± 6 secretos mÃ³viles ocultos... Â¿Puedes encontrarlos todos?":"ğŸ® 9 secretos ocultos... Â¿Puedes encontrarlos todos?";e.textContent=t,document.body.appendChild(e),setTimeout(()=>{e.style.animation="fadeOut 0.5s ease",setTimeout(()=>e.remove(),500)},8e3)}};function initMobileEasterEggs(){if(!document.body.classList.contains("home"))return;document.querySelector(".hero");const e=document.querySelector(".hero-content h1");let t=0,n=null;const o=e=>{window.areEasterEggsDisabled?.()||window.innerWidth>1024||(e.preventDefault(),t++,n&&clearTimeout(n),3===t&&(activateNESMode(),easterEggTracker.unlock("konami"),t=0),n=setTimeout(()=>{t=0},600))};e&&(e.addEventListener("touchend",o),e.addEventListener("click",o));let s=null,i=!1;const a=document.querySelector(".hero-cta .btn-primary"),r=e=>{window.innerWidth>1024||(i=!1,a.style.transform="scale(0.95)",a.style.transition="transform 0.1s ease",s=setTimeout(()=>{i=!0,activate8BitMode(),easterEggTracker.unlock("retro"),a.style.transform="scale(1.1)",a.style.boxShadow="0 0 20px var(--accent-primary)",navigator.vibrate&&navigator.vibrate([200,100,200]),setTimeout(()=>{a.style.transform="",a.style.boxShadow=""},500)},600))},l=e=>{if(clearTimeout(s),a.style.transform="",i)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),i=!1,!1},c=e=>{clearTimeout(s)};a&&(a.addEventListener("touchstart",r,{passive:!1}),a.addEventListener("touchend",l,{passive:!1}),a.addEventListener("touchmove",c),a.addEventListener("mousedown",r),a.addEventListener("mouseup",l),a.addEventListener("mouseleave",l),a.addEventListener("click",e=>{if(i)return e.preventDefault(),e.stopPropagation(),i=!1,!1}));let d=null;const u=document.querySelector(".newsletter-form input[type='email']"),m=e=>{window.innerWidth>1024||(u.style.borderColor="var(--accent-secondary)",u.style.transform="scale(0.98)",u.style.transition="all 0.1s ease",d=setTimeout(()=>{activateGlitchStats(),easterEggTracker.unlock("logo"),u.style.borderColor="var(--accent-primary)",u.style.transform="scale(1.02)",navigator.vibrate&&navigator.vibrate(200),setTimeout(()=>{u.style.borderColor="",u.style.transform=""},500)},600))},p=()=>{clearTimeout(d),u.style.borderColor="",u.style.transform=""};u&&(u.addEventListener("touchstart",m),u.addEventListener("touchend",p),u.addEventListener("touchmove",p),u.addEventListener("mousedown",m),u.addEventListener("mouseup",p),u.addEventListener("mouseleave",p));let f=0,g=null;const y=document.querySelector(".footer-bottom p"),h=e=>{window.areEasterEggsDisabled?.()||window.innerWidth>1024||(e.preventDefault(),f++,g&&clearTimeout(g),2===f&&(console.log("âœ… Doble tap completado! Activando Thanos Snap"),activateSnapEffect(),easterEggTracker.unlock("thanos"),f=0),g=setTimeout(()=>{f=0},500))};y&&(y.addEventListener("touchend",h),y.addEventListener("click",h)),setTimeout(()=>{let e=null,t=document.querySelector(".footer-bottom strong");if(!t){document.querySelectorAll("strong").forEach(e=>{e.textContent.includes("Sala Geek")&&(t=e)})}if(console.log("ğŸ” Footer Brand encontrado:",t?"âœ… SÃ":"âŒ NO"),t){console.log("âœ… Configurando Easter Egg en:",t.textContent),t.style.padding="12px",t.style.margin="-12px",t.style.display="inline-block",t.style.cursor="pointer",t.style.border="2px solid transparent";const n=()=>{console.log("ğŸ® COMBO BREAKER ACTIVADO!"),playSound("levelup"),easterEggTracker.unlock("combo"),showNotification("ğŸ¤“ Â¡COMBO BREAKER! Modo inverso activado","success"),document.body.style.filter="invert(1) hue-rotate(180deg)",document.body.style.transition="filter 0.5s ease",t.style.transform="scale(1.3) rotate(360deg)",t.style.color="#00ff00",t.style.textShadow="0 0 20px #00ff00",navigator.vibrate&&navigator.vibrate([100,50,100,50,200]),setTimeout(()=>{document.body.style.filter="none",t.style.transform="",t.style.color="",t.style.textShadow=""},4e3)},o=o=>{window.areEasterEggsDisabled?.()||window.innerWidth>1024||(console.log("ğŸ‘† Long press iniciado en Footer - width:",window.innerWidth),t.style.transform="scale(0.95)",t.style.color="var(--accent-primary)",t.style.border="2px solid var(--accent-primary)",t.style.transition="all 0.1s ease",e=setTimeout(()=>{console.log("âœ… Long press completado! Activando Combo Breaker"),n()},600))},s=()=>{console.log("ğŸ‘† Long press terminado"),clearTimeout(e),t.style.transform="",t.style.color="",t.style.border="2px solid transparent"},i=()=>{console.log("ğŸ‘† Movimiento detectado - cancelando"),clearTimeout(e),t.style.transform="",t.style.color="",t.style.border="2px solid transparent"};t.addEventListener("touchstart",o,{passive:!0}),t.addEventListener("touchend",s,{passive:!0}),t.addEventListener("touchmove",i,{passive:!0}),t.addEventListener("mousedown",o),t.addEventListener("mouseup",s),t.addEventListener("mouseleave",s)}else{console.log("âŒ Footer Brand (strong) NO encontrado despuÃ©s de timeout");const t=document.querySelector(".footer-copyright");t&&(console.log("âœ… Usando selector alternativo: .footer-copyright"),t.style.cursor="pointer",t.style.userSelect="none",t.addEventListener("touchstart",n=>{t.style.opacity="0.7",e=setTimeout(()=>{playSound("levelup"),easterEggTracker.unlock("combo"),showNotification("ğŸ¤“ Â¡GEEK MODE ACTIVADO! Modo inverso activado","success"),document.body.style.filter="invert(1) hue-rotate(180deg)",document.body.style.transition="filter 0.5s ease",navigator.vibrate&&navigator.vibrate([100,50,100,50,200]),setTimeout(()=>{document.body.style.filter="none",t.style.opacity="1"},4e3)},600)},{passive:!0}),t.addEventListener("touchend",()=>{clearTimeout(e),t.style.opacity="1"},{passive:!0}),t.addEventListener("touchmove",()=>{clearTimeout(e),t.style.opacity="1"},{passive:!0}))}},1e3),setTimeout(()=>{window.innerWidth<=1024&&showNotification("ğŸ“± Tip: Explora con taps y long press en botones!","info")},5e3)}function isMobileMode(){return/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=1024}function initAllEasterEggs(){const e=window.location.pathname.includes("/legal/"),t=window.location.pathname.includes("/media-kit"),n=document.body.classList.contains("upside-down");if(e||t||n)return console.log("ğŸš« Easter Eggs desactivados en: "+(e?"pÃ¡gina legal":t?"Media Kit":"modo Upside Down")),void document.body.setAttribute("data-easter-eggs-disabled","true");let o;window.areEasterEggsDisabled=()=>{const e=document.body.classList.contains("upside-down");return document.body.hasAttribute("data-easter-eggs-disabled")||e},initKonamiCode(),initSecretWords(),initScrollSecret(),initSpecialDates(),initLogoEasterEgg(),initTimeEasterEgg(),initCornerClicks(),initMouseShake(),initKeyboardCombo(),initMobileEasterEggs(),window.addEventListener("resize",()=>{clearTimeout(o),o=setTimeout(()=>{easterEggTracker.updatePlatformDetection()},250)}),easterEggTracker.init()}function updateNewsTime(){const e=document.getElementById("update-time");if(!e)return;const t=new Date("2025-11-07T00:00:00"),n=new Date,o=Math.abs(n-t),s=Math.floor(o/864e5);let i="";i=0===s?"HOY":1===s?"AYER":s<=7?`HACE ${s} DÃAS`:"SEMANALMENTE",e.textContent=i,setTimeout(updateNewsTime,36e5)}document.addEventListener("DOMContentLoaded",()=>{setTimeout(initAllEasterEggs,1e3),updateNewsTime(),initSeasonalLogo()});