!function(){"use strict";const n={name:"sg_cookie_consent",expiration:365,version:"1.0",categories:{necessary:{name:"Necesarias",description:"Cookies esenciales para el funcionamiento del sitio",required:!0,cookies:["session","security","preferences"]},analytics:{name:"Anal√≠ticas",description:"Nos ayudan a entender c√≥mo usas el sitio",required:!1,cookies:["_ga","_gid","_gat"]},marketing:{name:"Marketing",description:"Para mostrarte anuncios relevantes",required:!1,cookies:["_gcl_au","ads_preferences"]},functional:{name:"Funcionales",description:"Mejoran tu experiencia (tema, idioma, etc.)",required:!1,cookies:["theme","language","easter_eggs"]}}},e={consent:null,bannerShown:!1};function o(n){document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}function i(){const e=function(n){const e=document.cookie.split(";");for(let o of e){const[e,i]=o.trim().split("=");if(e===n)try{return JSON.parse(decodeURIComponent(i))}catch{return i}}return null}(n.name);return e?e.version!==n.version?(o(n.name),null):e:null}function t(o){const i={version:n.version,timestamp:(new Date).toISOString(),categories:o};!function(n,e,o){const i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3);const t=`expires=${i.toUTCString()}`;document.cookie=`${n}=${encodeURIComponent(JSON.stringify(e))};${t};path=/;SameSite=Lax;Secure`}(n.name,i,n.expiration),e.consent=i,localStorage.setItem("sg_cookie_consent",JSON.stringify(i)),document.dispatchEvent(new CustomEvent("cookieConsentChanged",{detail:i})),(o.analytics||o.marketing)&&document.dispatchEvent(new CustomEvent("cookieConsentAccepted",{detail:i}))}function a(n){n.categories.analytics?(window["ga-disable-G-XXXXXXXXXX"]=!1,window.gtag&&gtag("consent","update",{analytics_storage:"granted"})):function(){window["ga-disable-G-XXXXXXXXXX"]=!0,window.gtag&&gtag("consent","update",{analytics_storage:"denied"});["_ga","_gid","_gat"].forEach(n=>{o(n)})}(),n.categories.marketing?window.gtag&&gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}):window.gtag&&gtag("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"}),console.log("[üç™ Cookies] Consentimiento aplicado:",n.categories)}function c(){if(e.bannerShown)return;const n=function(){const n=document.createElement("div");return n.id="cookie-consent-banner",n.className="cookie-banner",n.setAttribute("role","dialog"),n.setAttribute("aria-labelledby","cookie-banner-title"),n.setAttribute("aria-describedby","cookie-banner-desc"),n.innerHTML='\n      <div class="cookie-banner-content">\n        <div class="cookie-banner-text">\n          <h3 id="cookie-banner-title">üç™ Usamos cookies</h3>\n          <p id="cookie-banner-desc">\n            Para mejorar tu experiencia y mostrarte contenido relevante. \n            Puedes aceptar todas o <button class="cookie-link-btn" id="cookie-customize-btn">personalizar</button>.\n          </p>\n        </div>\n        <div class="cookie-banner-actions">\n          <button id="cookie-reject-btn" class="cookie-btn cookie-btn-secondary">\n            Solo necesarias\n          </button>\n          <button id="cookie-accept-btn" class="cookie-btn cookie-btn-primary">\n            Aceptar todas\n          </button>\n        </div>\n      </div>\n      <a href="/src/pages/legal/cookies.html" class="cookie-policy-link" target="_blank">\n        Ver pol√≠tica de cookies\n      </a>\n    ',n}();document.body.appendChild(n),requestAnimationFrame(()=>{n.classList.add("visible")}),document.getElementById("cookie-accept-btn").addEventListener("click",()=>{l(),r()}),document.getElementById("cookie-reject-btn").addEventListener("click",()=>{g(),r()}),document.getElementById("cookie-customize-btn").addEventListener("click",()=>{s()}),e.bannerShown=!0}function r(){const n=document.getElementById("cookie-consent-banner");n&&(n.classList.remove("visible"),setTimeout(()=>n.remove(),300))}function s(){let e=document.getElementById("cookie-consent-modal");e||(e=function(){const e=document.createElement("div");e.id="cookie-consent-modal",e.className="cookie-modal",e.setAttribute("role","dialog"),e.setAttribute("aria-labelledby","cookie-modal-title"),e.setAttribute("aria-modal","true");let o="";return Object.entries(n.categories).forEach(([n,e])=>{o+=`\n        <div class="cookie-category">\n          <div class="cookie-category-header">\n            <label class="cookie-toggle">\n              <input type="checkbox" \n                     id="cookie-cat-${n}" \n                     name="${n}" \n                     ${e.required?"checked disabled":""}\n                     ${e.required?"":"checked"}>\n              <span class="cookie-toggle-slider"></span>\n            </label>\n            <div class="cookie-category-info">\n              <h4>${e.name}</h4>\n              <p>${e.description}</p>\n              ${e.required?'<span class="cookie-required-badge">Siempre activas</span>':""}\n            </div>\n          </div>\n        </div>\n      `}),e.innerHTML=`\n      <div class="cookie-modal-backdrop"></div>\n      <div class="cookie-modal-content">\n        <div class="cookie-modal-header">\n          <h3 id="cookie-modal-title">‚öôÔ∏è Preferencias de Cookies</h3>\n          <button class="cookie-modal-close" aria-label="Cerrar">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n              <line x1="18" y1="6" x2="6" y2="18"></line>\n              <line x1="6" y1="6" x2="18" y2="18"></line>\n            </svg>\n          </button>\n        </div>\n        <div class="cookie-modal-body">\n          <p class="cookie-modal-intro">\n            Elige qu√© cookies deseas permitir. Las cookies necesarias son imprescindibles \n            para el funcionamiento del sitio.\n          </p>\n          <div class="cookie-categories">\n            ${o}\n          </div>\n        </div>\n        <div class="cookie-modal-footer">\n          <button id="cookie-save-preferences" class="cookie-btn cookie-btn-primary">\n            Guardar preferencias\n          </button>\n        </div>\n      </div>\n    `,e}(),document.body.appendChild(e),e.querySelector(".cookie-modal-close").addEventListener("click",d),e.querySelector(".cookie-modal-backdrop").addEventListener("click",d),document.getElementById("cookie-save-preferences").addEventListener("click",()=>{!function(){const e={};Object.keys(n.categories).forEach(o=>{const i=document.getElementById(`cookie-cat-${o}`);e[o]=i?i.checked:n.categories[o].required}),t(e),a({categories:e}),console.log("[üç™ Cookies] Preferencias guardadas:",e)}(),d(),r()}),document.addEventListener("keydown",function n(e){"Escape"===e.key&&(d(),document.removeEventListener("keydown",n))})),requestAnimationFrame(()=>{e.classList.add("visible"),document.body.style.overflow="hidden"})}function d(){const n=document.getElementById("cookie-consent-modal");n&&(n.classList.remove("visible"),document.body.style.overflow="",setTimeout(()=>n.remove(),300))}function l(){const e={};Object.keys(n.categories).forEach(n=>{e[n]=!0}),t(e),a({categories:e}),console.log("[üç™ Cookies] Todas las cookies aceptadas")}function g(){const e={};Object.keys(n.categories).forEach(o=>{e[o]=n.categories[o].required}),t(e),a({categories:e}),console.log("[üç™ Cookies] Solo cookies necesarias aceptadas")}function p(){!function(){const n=document.createElement("style");n.textContent='\n      /* ============================================\n         COOKIE BANNER\n         ============================================ */\n      .cookie-banner {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(135deg, #1a1f3a 0%, #0a0e27 100%);\n        border-top: 1px solid rgba(255, 209, 102, 0.2);\n        padding: 16px 20px;\n        z-index: 99999;\n        transform: translateY(100%);\n        transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);\n        box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.3);\n      }\n\n      .cookie-banner.visible {\n        transform: translateY(0);\n      }\n\n      .cookie-banner-content {\n        max-width: 1200px;\n        margin: 0 auto;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        gap: 24px;\n        flex-wrap: wrap;\n      }\n\n      .cookie-banner-text {\n        flex: 1;\n        min-width: 280px;\n      }\n\n      .cookie-banner-text h3 {\n        margin: 0 0 4px;\n        font-size: 1rem;\n        color: #f0f2f7;\n        font-weight: 600;\n      }\n\n      .cookie-banner-text p {\n        margin: 0;\n        font-size: 0.9rem;\n        color: #a0aec0;\n        line-height: 1.5;\n      }\n\n      .cookie-link-btn {\n        background: none;\n        border: none;\n        color: #ffd166;\n        text-decoration: underline;\n        cursor: pointer;\n        font-size: inherit;\n        padding: 0;\n        font-family: inherit;\n      }\n\n      .cookie-link-btn:hover {\n        color: #e76f51;\n      }\n\n      .cookie-banner-actions {\n        display: flex;\n        gap: 12px;\n        flex-shrink: 0;\n      }\n\n      .cookie-btn {\n        padding: 10px 20px;\n        border-radius: 8px;\n        font-size: 0.9rem;\n        font-weight: 600;\n        cursor: pointer;\n        transition: all 0.3s ease;\n        border: none;\n        font-family: inherit;\n      }\n\n      .cookie-btn-primary {\n        background: linear-gradient(135deg, #ffd166 0%, #e76f51 100%);\n        color: #0a0e27;\n      }\n\n      .cookie-btn-primary:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 8px 20px rgba(255, 209, 102, 0.3);\n      }\n\n      .cookie-btn-secondary {\n        background: rgba(255, 255, 255, 0.1);\n        color: #f0f2f7;\n        border: 1px solid rgba(255, 255, 255, 0.2);\n      }\n\n      .cookie-btn-secondary:hover {\n        background: rgba(255, 255, 255, 0.15);\n        border-color: rgba(255, 255, 255, 0.3);\n      }\n\n      .cookie-policy-link {\n        display: block;\n        text-align: center;\n        margin-top: 12px;\n        font-size: 0.75rem;\n        color: #718096;\n        text-decoration: none;\n      }\n\n      .cookie-policy-link:hover {\n        color: #a0aec0;\n        text-decoration: underline;\n      }\n\n      /* ============================================\n         COOKIE MODAL\n         ============================================ */\n      .cookie-modal {\n        position: fixed;\n        inset: 0;\n        z-index: 100000;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 20px;\n        opacity: 0;\n        visibility: hidden;\n        transition: all 0.3s ease;\n      }\n\n      .cookie-modal.visible {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .cookie-modal-backdrop {\n        position: absolute;\n        inset: 0;\n        background: rgba(0, 0, 0, 0.7);\n        backdrop-filter: blur(4px);\n      }\n\n      .cookie-modal-content {\n        position: relative;\n        background: linear-gradient(135deg, #1a1f3a 0%, #0a0e27 100%);\n        border: 1px solid rgba(255, 209, 102, 0.2);\n        border-radius: 16px;\n        max-width: 500px;\n        width: 100%;\n        max-height: 80vh;\n        overflow: hidden;\n        display: flex;\n        flex-direction: column;\n        transform: scale(0.95) translateY(20px);\n        transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);\n      }\n\n      .cookie-modal.visible .cookie-modal-content {\n        transform: scale(1) translateY(0);\n      }\n\n      .cookie-modal-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 20px 24px;\n        border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n      }\n\n      .cookie-modal-header h3 {\n        margin: 0;\n        font-size: 1.25rem;\n        color: #f0f2f7;\n      }\n\n      .cookie-modal-close {\n        background: none;\n        border: none;\n        color: #718096;\n        cursor: pointer;\n        padding: 4px;\n        border-radius: 4px;\n        transition: all 0.2s;\n      }\n\n      .cookie-modal-close:hover {\n        color: #f0f2f7;\n        background: rgba(255, 255, 255, 0.1);\n      }\n\n      .cookie-modal-body {\n        padding: 20px 24px;\n        overflow-y: auto;\n      }\n\n      .cookie-modal-intro {\n        margin: 0 0 20px;\n        font-size: 0.9rem;\n        color: #a0aec0;\n        line-height: 1.6;\n      }\n\n      .cookie-categories {\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .cookie-category {\n        background: rgba(255, 255, 255, 0.05);\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        border-radius: 10px;\n        padding: 16px;\n      }\n\n      .cookie-category-header {\n        display: flex;\n        align-items: flex-start;\n        gap: 12px;\n      }\n\n      .cookie-category-info h4 {\n        margin: 0 0 4px;\n        font-size: 0.95rem;\n        color: #f0f2f7;\n      }\n\n      .cookie-category-info p {\n        margin: 0;\n        font-size: 0.8rem;\n        color: #718096;\n      }\n\n      .cookie-required-badge {\n        display: inline-block;\n        margin-top: 6px;\n        padding: 2px 8px;\n        background: rgba(255, 209, 102, 0.2);\n        color: #ffd166;\n        font-size: 0.7rem;\n        border-radius: 4px;\n        font-weight: 500;\n      }\n\n      /* Toggle Switch */\n      .cookie-toggle {\n        position: relative;\n        width: 44px;\n        height: 24px;\n        flex-shrink: 0;\n      }\n\n      .cookie-toggle input {\n        opacity: 0;\n        width: 0;\n        height: 0;\n      }\n\n      .cookie-toggle-slider {\n        position: absolute;\n        cursor: pointer;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: rgba(255, 255, 255, 0.2);\n        transition: 0.3s;\n        border-radius: 24px;\n      }\n\n      .cookie-toggle-slider:before {\n        position: absolute;\n        content: "";\n        height: 18px;\n        width: 18px;\n        left: 3px;\n        bottom: 3px;\n        background: white;\n        transition: 0.3s;\n        border-radius: 50%;\n      }\n\n      .cookie-toggle input:checked + .cookie-toggle-slider {\n        background: linear-gradient(135deg, #ffd166 0%, #e76f51 100%);\n      }\n\n      .cookie-toggle input:checked + .cookie-toggle-slider:before {\n        transform: translateX(20px);\n      }\n\n      .cookie-toggle input:disabled + .cookie-toggle-slider {\n        cursor: not-allowed;\n        opacity: 0.7;\n      }\n\n      .cookie-modal-footer {\n        padding: 16px 24px;\n        border-top: 1px solid rgba(255, 255, 255, 0.1);\n        display: flex;\n        justify-content: flex-end;\n      }\n\n      /* ============================================\n         RESPONSIVE\n         ============================================ */\n      @media (max-width: 640px) {\n        .cookie-banner {\n          padding: 16px;\n        }\n\n        .cookie-banner-content {\n          flex-direction: column;\n          text-align: center;\n        }\n\n        .cookie-banner-actions {\n          width: 100%;\n          flex-direction: column;\n        }\n\n        .cookie-btn {\n          width: 100%;\n          padding: 14px;\n        }\n\n        .cookie-modal-content {\n          max-height: 90vh;\n        }\n      }\n\n      /* ============================================\n         PRINT - Ocultar\n         ============================================ */\n      @media print {\n        .cookie-banner,\n        .cookie-modal {\n          display: none !important;\n        }\n      }\n    ',document.head.appendChild(n)}(),e.consent=i(),e.consent?(console.log("[üç™ Cookies] Consentimiento encontrado:",e.consent.categories),a(e.consent)):(console.log("[üç™ Cookies] Sin consentimiento, mostrando banner"),setTimeout(c,1500))}window.SalaGeekCookies={init:p,showBanner:c,showModal:s,acceptAll:l,rejectAll:g,hasConsent:function(o){return!!e.consent&&(!!n.categories[o]?.required||!0===e.consent.categories?.[o])},getConsent:()=>e.consent,resetConsent:()=>{o(n.name),localStorage.removeItem("sg_cookie_consent"),e.consent=null,c()}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",p):p()}();